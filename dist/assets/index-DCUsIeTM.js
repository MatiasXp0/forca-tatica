(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function RE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},Se={};var Ov;function ZS(){if(Ov)return Se;Ov=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function D(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function U(k,ne,se){this.props=k,this.context=ne,this.refs=B,this.updater=se||Y}U.prototype.isReactComponent={},U.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=U.prototype;function X(k,ne,se){this.props=k,this.context=ne,this.refs=B,this.updater=se||Y}var oe=X.prototype=new $;oe.constructor=X,L(oe,U.prototype),oe.isPureReactComponent=!0;var ue=Array.isArray;function pe(){}var N={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function w(k,ne,se){var he=se.ref;return{$$typeof:i,type:k,key:ne,ref:he!==void 0?he:null,props:se}}function M(k,ne){return w(k.type,ne,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function P(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return ne[se]})}var x=/\/+/g;function tt(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):ne.toString(36)}function Qe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(pe,pe):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function J(k,ne,se,he,be){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case i:case e:Ue=!0;break;case b:return Ue=k._init,J(Ue(k._payload),ne,se,he,be)}}if(Ue)return be=be(k),Ue=he===""?"."+tt(k,0):he,ue(be)?(se="",Ue!=null&&(se=Ue.replace(x,"$&/")+"/"),J(be,ne,se,"",function(pa){return pa})):be!=null&&(O(be)&&(be=M(be,se+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(x,"$&/")+"/")+Ue)),ne.push(be)),1;Ue=0;var Mt=he===""?".":he+":";if(ue(k))for(var ot=0;ot<k.length;ot++)he=k[ot],Ce=Mt+tt(he,ot),Ue+=J(he,ne,se,Ce,be);else if(ot=D(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(he=k.next()).done;)he=he.value,Ce=Mt+tt(he,ot++),Ue+=J(he,ne,se,Ce,be);else if(Ce==="object"){if(typeof k.then=="function")return J(Qe(k),ne,se,he,be);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(k,ne,se){if(k==null)return k;var he=[],be=0;return J(k,he,"","",function(Ce){return ne.call(se,Ce,be++)}),he}function ye(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var ze=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ke={map:ae,forEach:function(k,ne,se){ae(k,function(){ne.apply(this,arguments)},se)},count:function(k){var ne=0;return ae(k,function(){ne++}),ne},toArray:function(k){return ae(k,function(ne){return ne})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=S,Se.Children=Ke,Se.Component=U,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=X,Se.StrictMode=a,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,ne,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=L({},k.props),be=k.key;if(ne!=null)for(Ce in ne.key!==void 0&&(be=""+ne.key),ne)!C.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(he[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=se;else if(1<Ce){for(var Ue=Array(Ce),Mt=0;Mt<Ce;Mt++)Ue[Mt]=arguments[Mt+2];he.children=Ue}return w(k.type,be,he)},Se.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,ne,se){var he,be={},Ce=null;if(ne!=null)for(he in ne.key!==void 0&&(Ce=""+ne.key),ne)C.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=ne[he]);var Ue=arguments.length-2;if(Ue===1)be.children=se;else if(1<Ue){for(var Mt=Array(Ue),ot=0;ot<Ue;ot++)Mt[ot]=arguments[ot+2];be.children=Mt}if(k&&k.defaultProps)for(he in Ue=k.defaultProps,Ue)be[he]===void 0&&(be[he]=Ue[he]);return w(k,Ce,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=O,Se.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ye}},Se.memo=function(k,ne){return{$$typeof:g,type:k,compare:ne===void 0?null:ne}},Se.startTransition=function(k){var ne=N.T,se={};N.T=se;try{var he=k(),be=N.S;be!==null&&be(se,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(pe,ze)}catch(Ce){ze(Ce)}finally{ne!==null&&se.types!==null&&(ne.types=se.types),N.T=ne}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(k){return N.H.use(k)},Se.useActionState=function(k,ne,se){return N.H.useActionState(k,ne,se)},Se.useCallback=function(k,ne){return N.H.useCallback(k,ne)},Se.useContext=function(k){return N.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,ne){return N.H.useDeferredValue(k,ne)},Se.useEffect=function(k,ne){return N.H.useEffect(k,ne)},Se.useEffectEvent=function(k){return N.H.useEffectEvent(k)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(k,ne,se){return N.H.useImperativeHandle(k,ne,se)},Se.useInsertionEffect=function(k,ne){return N.H.useInsertionEffect(k,ne)},Se.useLayoutEffect=function(k,ne){return N.H.useLayoutEffect(k,ne)},Se.useMemo=function(k,ne){return N.H.useMemo(k,ne)},Se.useOptimistic=function(k,ne){return N.H.useOptimistic(k,ne)},Se.useReducer=function(k,ne,se){return N.H.useReducer(k,ne,se)},Se.useRef=function(k){return N.H.useRef(k)},Se.useState=function(k){return N.H.useState(k)},Se.useSyncExternalStore=function(k,ne,se){return N.H.useSyncExternalStore(k,ne,se)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.4",Se}var Mv;function ug(){return Mv||(Mv=1,hm.exports=ZS()),hm.exports}var F=ug();const v=RE(F);var fm={exports:{}},kl={},dm={exports:{}},mm={};var Vv;function WS(){return Vv||(Vv=1,(function(i){function e(J,ae){var ye=J.length;J.push(ae);e:for(;0<ye;){var ze=ye-1>>>1,Ke=J[ze];if(0<o(Ke,ae))J[ze]=ae,J[ye]=Ke,ye=ze;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ae=J[0],ye=J.pop();if(ye!==ae){J[0]=ye;e:for(var ze=0,Ke=J.length,k=Ke>>>1;ze<k;){var ne=2*(ze+1)-1,se=J[ne],he=ne+1,be=J[he];if(0>o(se,ye))he<Ke&&0>o(be,se)?(J[ze]=be,J[he]=ye,ze=he):(J[ze]=se,J[ne]=ye,ze=ne);else if(he<Ke&&0>o(be,ye))J[ze]=be,J[he]=ye,ze=he;else break e}}return ae}function o(J,ae){var ye=J.sortIndex-ae.sortIndex;return ye!==0?ye:J.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],g=[],b=1,S=null,R=3,D=!1,Y=!1,L=!1,B=!1,U=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function oe(J){for(var ae=n(g);ae!==null;){if(ae.callback===null)a(g);else if(ae.startTime<=J)a(g),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(g)}}function ue(J){if(L=!1,oe(J),!Y)if(n(y)!==null)Y=!0,pe||(pe=!0,P());else{var ae=n(g);ae!==null&&Qe(ue,ae.startTime-J)}}var pe=!1,N=-1,C=5,w=-1;function M(){return B?!0:!(i.unstable_now()-w<C)}function O(){if(B=!1,pe){var J=i.unstable_now();w=J;var ae=!0;try{e:{Y=!1,L&&(L=!1,$(N),N=-1),D=!0;var ye=R;try{t:{for(oe(J),S=n(y);S!==null&&!(S.expirationTime>J&&M());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,R=S.priorityLevel;var Ke=ze(S.expirationTime<=J);if(J=i.unstable_now(),typeof Ke=="function"){S.callback=Ke,oe(J),ae=!0;break t}S===n(y)&&a(y),oe(J)}else a(y);S=n(y)}if(S!==null)ae=!0;else{var k=n(g);k!==null&&Qe(ue,k.startTime-J),ae=!1}}break e}finally{S=null,R=ye,D=!1}ae=void 0}}finally{ae?P():pe=!1}}}var P;if(typeof X=="function")P=function(){X(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,tt=x.port2;x.port1.onmessage=O,P=function(){tt.postMessage(null)}}else P=function(){U(O,0)};function Qe(J,ae){N=U(function(){J(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(J){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var ye=R;R=ae;try{return J()}finally{R=ye}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=R;R=J;try{return ae()}finally{R=ye}},i.unstable_scheduleCallback=function(J,ae,ye){var ze=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,J){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,J={id:b++,callback:ae,priorityLevel:J,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>ze?(J.sortIndex=ye,e(g,J),n(y)===null&&J===n(g)&&(L?($(N),N=-1):L=!0,Qe(ue,ye-ze))):(J.sortIndex=Ke,e(y,J),Y||D||(Y=!0,pe||(pe=!0,P()))),J},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(J){var ae=R;return function(){var ye=R;R=ae;try{return J.apply(this,arguments)}finally{R=ye}}}})(mm)),mm}var kv;function eA(){return kv||(kv=1,dm.exports=WS()),dm.exports}var gm={exports:{}},Jt={};var Lv;function tA(){if(Lv)return Jt;Lv=1;var i=ug();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:g,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,b)},Jt.flushSync=function(y){var g=f.T,b=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=g,a.p=b,a.d.f()}},Jt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},Jt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Jt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:D}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:R,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},Jt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=m(b,g.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(y,g){if(typeof y=="string")if(g){var b=m(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},Jt.requestFormReset=function(y){a.d.r(y)},Jt.unstable_batchedUpdates=function(y,g){return y(g)},Jt.useFormState=function(y,g,b){return f.H.useFormState(y,g,b)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.4",Jt}var Uv;function nA(){if(Uv)return gm.exports;Uv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=tA(),gm.exports}var Pv;function rA(){if(Pv)return kl;Pv=1;var i=eA(),e=ug(),n=nA();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(a(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return y(h),t;if(d===l)return y(h),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,l=d;break}if(T===l){_=!0,l=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,l=h;break}if(T===l){_=!0,l=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case pe:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case X:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case oe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:tt(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return tt(t(r))}catch{}}return null}var Qe=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function k(t){return{current:t}}function ne(t){0>Ke||(t.current=ze[Ke],ze[Ke]=null,Ke--)}function se(t,r){Ke++,ze[Ke]=t.current,t.current=r}var he=k(null),be=k(null),Ce=k(null),Ue=k(null);function Mt(t,r){switch(se(Ce,r),se(be,t),se(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?tv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=tv(r),t=nv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(he),se(he,t)}function ot(){ne(he),ne(be),ne(Ce)}function pa(t){t.memoizedState!==null&&se(Ue,t);var r=he.current,s=nv(r,t.type);r!==s&&(se(be,t),se(he,s))}function os(t){be.current===t&&(ne(he),ne(be)),Ue.current===t&&(ne(Ue),Dl._currentValue=ye)}var ls,us;function or(t){if(ls===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ls=r&&r[1]||"",us=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+t+us}var Do=!1;function ya(t,r){if(!t||Do)return"";Do=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var G=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){G=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){G=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?or(s):""}function Oo(t,r){switch(t.tag){case 26:case 27:case 5:return or(t.type);case 16:return or("Lazy");case 13:return t.child!==r&&r!==null?or("Suspense Fallback"):or("Suspense");case 19:return or("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return or("Activity");default:return""}}function Mo(t){try{var r="",s=null;do r+=Oo(t,s),s=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,fi=i.unstable_cancelCallback,df=i.unstable_shouldYield,bu=i.unstable_requestPaint,nn=i.unstable_now,va=i.unstable_getCurrentPriorityLevel,Vo=i.unstable_ImmediatePriority,ko=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,mf=i.unstable_LowPriority,Tu=i.unstable_IdlePriority,Su=i.log,Au=i.unstable_setDisableYieldValue,Hn=null,qt=null;function Cn(t){if(typeof Su=="function"&&Au(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var pt=Math.clz32?Math.clz32:Ru,wu=Math.log,cs=Math.LN2;function Ru(t){return t>>>=0,t===0?32:31-(wu(t)/cs|0)|0}var lr=256,_a=262144,Tt=4194304;function ur(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cr(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ur(l):(_&=T,_!==0?h=ur(_):s||(s=T&~t,s!==0&&(h=ur(s))))):(T=l&~d,T!==0?h=ur(T):_!==0?h=ur(_):s||(s=l&~t,s!==0&&(h=ur(s)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:h}function Fn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function gf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hr(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Ea(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,r,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-pt(s),te=1<<Z;T[Z]=0,I[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var K=G[Z];K!==null&&(K.lane&=-536870913)}s&=~te}l!==0&&ba(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ba(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Lo(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-pt(s),h=1<<l;h&r|t[l]&r&&(t[l]|=r),s&=~h}}function Uo(t,r){var s=r&-r;return s=(s&42)!==0?1:Ta(s),(s&(t.suspendedLanes|r))!==0?0:s}function Ta(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ur(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function Gn(t,r){var s=ae.p;try{return ae.p=t,r()}finally{ae.p=s}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,Ut="__reactProps$"+Qn,fr="__reactContainer$"+Qn,hs="__reactEvents$"+Qn,yf="__reactListeners$"+Qn,xu="__reactHandles$"+Qn,Iu="__reactResources$"+Qn,dr="__reactMarker$"+Qn;function fs(t){delete t[St],delete t[Ut],delete t[hs],delete t[yf],delete t[xu]}function mr(t){var r=t[St];if(r)return r;for(var s=t.parentNode;s;){if(r=s[fr]||s[St]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=uv(t);t!==null;){if(s=t[St])return s;t=uv(t)}return r}t=s,s=t.parentNode}return null}function Nn(t){if(t=t[St]||t[fr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function pn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function gr(t){var r=t[Iu];return r||(r=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[dr]=!0}var Po=new Set,zo={};function pr(t,r){yr(t,r),yr(t+"Capture",r)}function yr(t,r){for(zo[t]=r,t=0;t<r.length;t++)Po.add(r[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},qo={};function Du(t){return bt.call(qo,t)?!0:bt.call(jo,t)?!1:Bo.test(t)?qo[t]=!0:(jo[t]=!0,!1)}function ds(t,r,s){if(Du(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function yn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function wt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ho(t,r,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=mi(t)?"checked":"value";t._valueTracker=Ho(t,r,""+t[r])}}function Sa(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=mi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Aa=/[\n"\\]/g;function on(t){return t.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ms(t,r,s,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Pt(r)):t.value!==""+Pt(r)&&(t.value=""+Pt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Fo(t,_,Pt(r)):s!=null?Fo(t,_,Pt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function Ou(t,r,s,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}s=s!=null?""+Pt(s):"",r=r!=null?""+Pt(r):s,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Fo(t,r,s){r==="number"&&vr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function gi(t,r,s,l){if(t=t.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=r.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Pt(s),r=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Mu(t,r,s){if(r!=null&&(r=""+Pt(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Pt(s):""}function pi(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(Qe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Pt(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ye(t)}function ln(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Vu.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Qo(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&s[h]!==l&&Go(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Go(t,d,r[d])}function gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(t){return yi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Ko=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,_r=null;function wa(t){var r=Nn(t);if(r&&(t=r.stateNode)){var s=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(ms(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(a(90));ms(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Sa(l)}break e;case"textarea":Mu(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&gi(t,!!s.multiple,r,!1)}}}var ys=!1;function _i(t,r,s){if(ys)return t(r,s);ys=!0;try{var l=t(r);return l}finally{if(ys=!1,(vi!==null||_r!==null)&&(Nc(),vi&&(r=vi,t=_r,_r=vi=null,wa(r),t)))for(r=0;r<t.length;r++)wa(t[r])}}function Yn(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Ut]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(In)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ra=!1}var Er=null,Yo=null,Ca=null;function $o(){if(Ca)return Ca;var t,r=Yo,s=r.length,l,h="value"in Er?Er.value:Er.textContent,d=h.length;for(t=0;t<s&&r[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===h[d-l];l++);return Ca=h.slice(t,1<l?1-l:void 0)}function Na(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Pr(){return!0}function $n(){return!1}function Ht(t){function r(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pr:$n,this.isPropagationStopped=$n,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Pr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Pr)},persist:function(){},isPersistent:Pr}),r}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Ht(zr),Ei=S({},zr,{view:0,detail:0}),Xo=Ht(Ei),bi,vs,Tr,_s=S({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tr&&(Tr&&t.type==="mousemove"?(bi=t.screenX-Tr.screenX,vs=t.screenY-Tr.screenY):vs=bi=0,Tr=t),bi)},movementY:function(t){return"movementY"in t?t.movementY:vs}}),Jo=Ht(_s),xa=S({},_s,{dataTransfer:0}),Lu=Ht(xa),Uu=S({},Ei,{relatedTarget:0}),Ia=Ht(Uu),Zo=S({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ht(Zo),Es=S({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=Ht(Es),Bu=S({},zr,{data:0}),Sr=Ht(Bu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hu[t])?!!r[t]:!1}function Ti(){return Fu}var rn=S({},Ei,{key:function(t){if(t.key){var r=ju[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(t){return t.type==="keypress"?Na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=Ht(rn),Qu=S({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Br=Ht(Qu),c=S({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),p=Ht(c),E=S({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(E),j=S({},_s,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Ht(j),ie=S({},zr,{newState:0,oldState:0}),we=Ht(ie),yt=[9,13,27,32],qe=In&&"CompositionEvent"in window,lt=null;In&&"documentMode"in document&&(lt=document.documentMode);var Dn=In&&"TextEvent"in window&&!lt,Ar=In&&(!qe||lt&&8<lt&&11>=lt),Xn=" ",Jn=!1;function Da(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function TT(t,r){switch(t){case"compositionend":return bs(r);case"keypress":return r.which!==32?null:(Jn=!0,Xn);case"textInput":return t=r.data,t===Xn&&Jn?null:t;default:return null}}function ST(t,r){if(Ts)return t==="compositionend"||!qe&&Da(t,r)?(t=$o(),Ca=Yo=Er=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ar&&r.locale!=="ko"?null:r.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!AT[t.type]:r==="textarea"}function dp(t,r,s,l){vi?_r?_r.push(l):_r=[l]:vi=l,r=kc(r,"onChange"),0<r.length&&(s=new br("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var Wo=null,el=null;function wT(t){$0(t,0)}function Ku(t){var r=pn(t);if(Sa(r))return t}function mp(t,r){if(t==="change")return r}var gp=!1;if(In){var vf;if(In){var _f="oninput"in document;if(!_f){var pp=document.createElement("div");pp.setAttribute("oninput","return;"),_f=typeof pp.oninput=="function"}vf=_f}else vf=!1;gp=vf&&(!document.documentMode||9<document.documentMode)}function yp(){Wo&&(Wo.detachEvent("onpropertychange",vp),el=Wo=null)}function vp(t){if(t.propertyName==="value"&&Ku(el)){var r=[];dp(r,el,t,xn(t)),_i(wT,r)}}function RT(t,r,s){t==="focusin"?(yp(),Wo=r,el=s,Wo.attachEvent("onpropertychange",vp)):t==="focusout"&&yp()}function CT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(el)}function NT(t,r){if(t==="click")return Ku(r)}function xT(t,r){if(t==="input"||t==="change")return Ku(r)}function IT(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:IT;function tl(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!bt.call(r,h)||!vn(t[h],r[h]))return!1}return!0}function _p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ep(t,r){var s=_p(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_p(s)}}function bp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?bp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Tp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=vr(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=vr(t.document)}return r}function Ef(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var DT=In&&"documentMode"in document&&11>=document.documentMode,Ss=null,bf=null,nl=null,Tf=!1;function Sp(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tf||Ss==null||Ss!==vr(l)||(l=Ss,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=kc(bf,"onSelect"),0<l.length&&(r=new br("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Ss)))}function Oa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var As={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Sf={},Ap={};In&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ma(t){if(Sf[t])return Sf[t];if(!As[t])return t;var r=As[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Ap)return Sf[t]=r[s];return t}var wp=Ma("animationend"),Rp=Ma("animationiteration"),Cp=Ma("animationstart"),OT=Ma("transitionrun"),MT=Ma("transitionstart"),VT=Ma("transitioncancel"),Np=Ma("transitionend"),xp=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Zn(t,r){xp.set(t,r),pr(r,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],ws=0,wf=0;function $u(){for(var t=ws,r=wf=ws=0;r<t;){var s=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ip(s,h,d)}}function Xu(t,r,s,l){On[ws++]=t,On[ws++]=r,On[ws++]=s,On[ws++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,r,s,l){return Xu(t,r,s,l),Ju(t)}function Va(t,r){return Xu(t,null,null,r),Ju(t)}function Ip(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-pt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=s|536870912),d):null}function Ju(t){if(50<Al)throw Al=0,kd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Rs={};function kT(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,s,l){return new kT(t,r,s,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jr(t,r){var s=t.alternate;return s===null?(s=_n(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Dp(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Zu(t,r,s,l,h,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=BS(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=_n(31,s,r,h),t.elementType=w,t.lanes=d,t;case L:return ka(s.children,h,d,r);case B:_=8,h|=24;break;case U:return t=_n(12,s,r,h|2),t.elementType=U,t.lanes=d,t;case ue:return t=_n(13,s,r,h),t.elementType=ue,t.lanes=d,t;case pe:return t=_n(19,s,r,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:_=10;break e;case $:_=9;break e;case oe:_=11;break e;case N:_=14;break e;case C:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=_n(_,s,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ka(t,r,s,l){return t=_n(7,t,l,r),t.lanes=s,t}function Nf(t,r,s){return t=_n(6,t,null,r),t.lanes=s,t}function Op(t){var r=_n(18,null,null,0);return r.stateNode=t,r}function xf(t,r,s){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Mp=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var s=Mp.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Mo(r)},Mp.set(t,r),r)}return{value:t,source:r,stack:Mo(r)}}var Cs=[],Ns=0,Wu=null,rl=0,Vn=[],kn=0,Si=null,wr=1,Rr="";function qr(t,r){Cs[Ns++]=rl,Cs[Ns++]=Wu,Wu=t,rl=r}function Vp(t,r,s){Vn[kn++]=wr,Vn[kn++]=Rr,Vn[kn++]=Si,Si=t;var l=wr;t=Rr;var h=32-pt(l)-1;l&=~(1<<h),s+=1;var d=32-pt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wr=1<<32-pt(r)+h|s<<h|l,Rr=d+t}else wr=1<<d|s<<h|l,Rr=t}function If(t){t.return!==null&&(qr(t,1),Vp(t,1,0))}function Df(t){for(;t===Wu;)Wu=Cs[--Ns],Cs[Ns]=null,rl=Cs[--Ns],Cs[Ns]=null;for(;t===Si;)Si=Vn[--kn],Vn[kn]=null,Rr=Vn[--kn],Vn[kn]=null,wr=Vn[--kn],Vn[kn]=null}function kp(t,r){Vn[kn++]=wr,Vn[kn++]=Rr,Vn[kn++]=Si,wr=r.id,Rr=r.overflow,Si=t}var Ft=null,it=null,Le=!1,Ai=null,Ln=!1,Of=Error(a(519));function wi(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(Mn(r,t)),Of}function Lp(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[St]=t,r[Ut]=l,s){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(s=0;s<Rl.length;s++)Ie(Rl[s],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Ou(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),pi(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||W0(r.textContent,s)?(l.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),l.onScroll!=null&&Ie("scroll",r),l.onScrollEnd!=null&&Ie("scrollend",r),l.onClick!=null&&(r.onclick=Kn),r=!0):r=!1,r||wi(t,!0)}function Up(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ft=Ft.return}}function xs(t){if(t!==Ft)return!1;if(!Le)return Up(t),Le=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Xd(t.type,t.memoizedProps)),s=!s),s&&it&&wi(t),Up(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=lv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));it=lv(t)}else r===27?(r=it,zi(t.type)?(t=tm,tm=null,it=t):it=r):it=Ft?Pn(t.stateNode.nextSibling):null;return!0}function La(){it=Ft=null,Le=!1}function Mf(){var t=Ai;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Ai=null),t}function il(t){Ai===null?Ai=[t]:Ai.push(t)}var Vf=k(null),Ua=null,Hr=null;function Ri(t,r,s){se(Vf,r._currentValue),r._currentValue=s}function Fr(t){t._currentValue=Vf.current,ne(Vf)}function kf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Lf(t,r,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),kf(d.return,s,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),kf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Is(t,r,s,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Lf(r,t,s,l),r.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pa(t){Ua=t,Hr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Pp(Ua,t)}function tc(t,r){return Ua===null&&Pa(t),Pp(t,r)}function Pp(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Hr===null){if(t===null)throw Error(a(308));Hr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Hr=Hr.next=r;return s}var LT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},UT=i.unstable_scheduleCallback,PT=i.unstable_NormalPriority,Rt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new LT,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&UT(PT,function(){t.controller.abort()})}var sl=null,Pf=0,Ds=0,Os=null;function zT(t,r){if(sl===null){var s=sl=[];Pf=0,Ds=jd(),Os={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Pf++,r.then(zp,zp),r}function zp(){if(--Pf===0&&sl!==null){Os!==null&&(Os.status="fulfilled");var t=sl;sl=null,Ds=0,Os=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function BT(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<s.length;h++)(0,s[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Bp=J.S;J.S=function(t,r){S0=nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zT(t,r),Bp!==null&&Bp(t,r)};var za=k(null);function zf(){var t=za.current;return t!==null?t:nt.pooledCache}function nc(t,r){r===null?se(za,za.current):se(za,r.pool)}function jp(){var t=zf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Ms=Error(a(460)),Bf=Error(a(474)),rc=Error(a(542)),ic={then:function(){}};function qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hp(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Kn,Kn),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gp(t),t;default:if(typeof r.status=="string")r.then(Kn,Kn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gp(t),t}throw ja=r,Ms}}function Ba(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ja=s,Ms):s}}var ja=null;function Fp(){if(ja===null)throw Error(a(459));var t=ja;return ja=null,t}function Gp(t){if(t===Ms||t===rc)throw Error(a(483))}var Vs=null,ol=0;function ac(t){var r=ol;return ol+=1,Vs===null&&(Vs=[]),Hp(Vs,t,r)}function ll(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sc(t,r){throw r.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Qp(t){function r(z,V){if(t){var q=z.deletions;q===null?(z.deletions=[V],z.flags|=16):q.push(V)}}function s(z,V){if(!t)return null;for(;V!==null;)r(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=jr(z,V),z.index=0,z.sibling=null,z}function d(z,V,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<V?(z.flags|=67108866,V):q):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,V,q,W){return V===null||V.tag!==6?(V=Nf(q,z.mode,W),V.return=z,V):(V=h(V,q),V.return=z,V)}function I(z,V,q,W){var me=q.type;return me===L?Z(z,V,q.props.children,W,q.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Ba(me)===V.type)?(V=h(V,q.props),ll(V,q),V.return=z,V):(V=Zu(q.type,q.key,q.props,null,z.mode,W),ll(V,q),V.return=z,V)}function H(z,V,q,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=xf(q,z.mode,W),V.return=z,V):(V=h(V,q.children||[]),V.return=z,V)}function Z(z,V,q,W,me){return V===null||V.tag!==7?(V=ka(q,z.mode,W,me),V.return=z,V):(V=h(V,q),V.return=z,V)}function te(z,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Nf(""+V,z.mode,q),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case D:return q=Zu(V.type,V.key,V.props,null,z.mode,q),ll(q,V),q.return=z,q;case Y:return V=xf(V,z.mode,q),V.return=z,V;case C:return V=Ba(V),te(z,V,q)}if(Qe(V)||P(V))return V=ka(V,z.mode,q,null),V.return=z,V;if(typeof V.then=="function")return te(z,ac(V),q);if(V.$$typeof===X)return te(z,tc(z,V),q);sc(z,V)}return null}function G(z,V,q,W){var me=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:T(z,V,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return q.key===me?I(z,V,q,W):null;case Y:return q.key===me?H(z,V,q,W):null;case C:return q=Ba(q),G(z,V,q,W)}if(Qe(q)||P(q))return me!==null?null:Z(z,V,q,W,null);if(typeof q.then=="function")return G(z,V,ac(q),W);if(q.$$typeof===X)return G(z,V,tc(z,q),W);sc(z,q)}return null}function K(z,V,q,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(q)||null,T(V,z,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return z=z.get(W.key===null?q:W.key)||null,I(V,z,W,me);case Y:return z=z.get(W.key===null?q:W.key)||null,H(V,z,W,me);case C:return W=Ba(W),K(z,V,q,W,me)}if(Qe(W)||P(W))return z=z.get(q)||null,Z(V,z,W,me,null);if(typeof W.then=="function")return K(z,V,q,ac(W),me);if(W.$$typeof===X)return K(z,V,q,tc(V,W),me);sc(V,W)}return null}function fe(z,V,q,W){for(var me=null,Be=null,de=V,Ne=V=0,Oe=null;de!==null&&Ne<q.length;Ne++){de.index>Ne?(Oe=de,de=null):Oe=de.sibling;var je=G(z,de,q[Ne],W);if(je===null){de===null&&(de=Oe);break}t&&de&&je.alternate===null&&r(z,de),V=d(je,V,Ne),Be===null?me=je:Be.sibling=je,Be=je,de=Oe}if(Ne===q.length)return s(z,de),Le&&qr(z,Ne),me;if(de===null){for(;Ne<q.length;Ne++)de=te(z,q[Ne],W),de!==null&&(V=d(de,V,Ne),Be===null?me=de:Be.sibling=de,Be=de);return Le&&qr(z,Ne),me}for(de=l(de);Ne<q.length;Ne++)Oe=K(de,z,Ne,q[Ne],W),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ne:Oe.key),V=d(Oe,V,Ne),Be===null?me=Oe:Be.sibling=Oe,Be=Oe);return t&&de.forEach(function(Fi){return r(z,Fi)}),Le&&qr(z,Ne),me}function ve(z,V,q,W){if(q==null)throw Error(a(151));for(var me=null,Be=null,de=V,Ne=V=0,Oe=null,je=q.next();de!==null&&!je.done;Ne++,je=q.next()){de.index>Ne?(Oe=de,de=null):Oe=de.sibling;var Fi=G(z,de,je.value,W);if(Fi===null){de===null&&(de=Oe);break}t&&de&&Fi.alternate===null&&r(z,de),V=d(Fi,V,Ne),Be===null?me=Fi:Be.sibling=Fi,Be=Fi,de=Oe}if(je.done)return s(z,de),Le&&qr(z,Ne),me;if(de===null){for(;!je.done;Ne++,je=q.next())je=te(z,je.value,W),je!==null&&(V=d(je,V,Ne),Be===null?me=je:Be.sibling=je,Be=je);return Le&&qr(z,Ne),me}for(de=l(de);!je.done;Ne++,je=q.next())je=K(de,z,Ne,je.value,W),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?Ne:je.key),V=d(je,V,Ne),Be===null?me=je:Be.sibling=je,Be=je);return t&&de.forEach(function(JS){return r(z,JS)}),Le&&qr(z,Ne),me}function et(z,V,q,W){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case D:e:{for(var me=q.key;V!==null;){if(V.key===me){if(me=q.type,me===L){if(V.tag===7){s(z,V.sibling),W=h(V,q.props.children),W.return=z,z=W;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===C&&Ba(me)===V.type){s(z,V.sibling),W=h(V,q.props),ll(W,q),W.return=z,z=W;break e}s(z,V);break}else r(z,V);V=V.sibling}q.type===L?(W=ka(q.props.children,z.mode,W,q.key),W.return=z,z=W):(W=Zu(q.type,q.key,q.props,null,z.mode,W),ll(W,q),W.return=z,z=W)}return _(z);case Y:e:{for(me=q.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){s(z,V.sibling),W=h(V,q.children||[]),W.return=z,z=W;break e}else{s(z,V);break}else r(z,V);V=V.sibling}W=xf(q,z.mode,W),W.return=z,z=W}return _(z);case C:return q=Ba(q),et(z,V,q,W)}if(Qe(q))return fe(z,V,q,W);if(P(q)){if(me=P(q),typeof me!="function")throw Error(a(150));return q=me.call(q),ve(z,V,q,W)}if(typeof q.then=="function")return et(z,V,ac(q),W);if(q.$$typeof===X)return et(z,V,tc(z,q),W);sc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(s(z,V.sibling),W=h(V,q),W.return=z,z=W):(s(z,V),W=Nf(q,z.mode,W),W.return=z,z=W),_(z)):s(z,V)}return function(z,V,q,W){try{ol=0;var me=et(z,V,q,W);return Vs=null,me}catch(de){if(de===Ms||de===rc)throw de;var Be=_n(29,de,null,z.mode);return Be.lanes=W,Be.return=z,Be}}}var qa=Qp(!0),Kp=Qp(!1),Ci=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ni(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xi(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ju(t),Ip(t,null,s),r}return Xu(t,l,r,s),Ju(t)}function ul(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Lo(t,s)}}function Hf(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=r:d=d.next=r}else h=d=r;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Ff=!1;function cl(){if(Ff){var t=Os;if(t!==null)throw t}}function hl(t,r,s,l){Ff=!1;var h=t.updateQueue;Ci=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=I))}if(d!==null){var te=h.baseState;_=0,Z=H=I=null,T=d;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(De&G)===G:(l&G)===G){G!==0&&G===Ds&&(Ff=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,ve=T;G=r;var et=s;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){te=fe.call(et,te,G);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,G=typeof fe=="function"?fe.call(et,te,G):fe,G==null)break e;te=S({},te,G);break e;case 2:Ci=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=K,I=te):Z=Z.next=K,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(I=te),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Vi|=_,t.lanes=_,t.memoizedState=te}}function Yp(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function $p(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Yp(s[t],r)}var ks=k(null),oc=k(0);function Xp(t,r){t=Wr,se(oc,t),se(ks,r),Wr=t|r.baseLanes}function Gf(){se(oc,Wr),se(ks,ks.current)}function Qf(){Wr=oc.current,ne(ks),ne(oc)}var En=k(null),Un=null;function Ii(t){var r=t.alternate;se(vt,vt.current&1),se(En,t),Un===null&&(r===null||ks.current!==null||r.memoizedState!==null)&&(Un=t)}function Kf(t){se(vt,vt.current),se(En,t),Un===null&&(Un=t)}function Jp(t){t.tag===22?(se(vt,vt.current),se(En,t),Un===null&&(Un=t)):Di()}function Di(){se(vt,vt.current),se(En,En.current)}function bn(t){ne(En),Un===t&&(Un=null),ne(vt)}var vt=k(0);function lc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Wd(s)||em(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gr=0,Re=null,Ze=null,Ct=null,uc=!1,Ls=!1,Ha=!1,cc=0,fl=0,Us=null,jT=0;function ft(){throw Error(a(321))}function Yf(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!vn(t[s],r[s]))return!1;return!0}function $f(t,r,s,l,h,d){return Gr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=t===null||t.memoizedState===null?Vy:cd,Ha=!1,d=s(l,h),Ha=!1,Ls&&(d=Wp(r,s,l,h)),Zp(t),d}function Zp(t){J.H=gl;var r=Ze!==null&&Ze.next!==null;if(Gr=0,Ct=Ze=Re=null,uc=!1,fl=0,Us=null,r)throw Error(a(300));t===null||Nt||(t=t.dependencies,t!==null&&ec(t)&&(Nt=!0))}function Wp(t,r,s,l){Re=t;var h=0;do{if(Ls&&(Us=null),fl=0,Ls=!1,25<=h)throw Error(a(301));if(h+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=ky,d=r(s,l)}while(Ls);return d}function qT(){var t=J.H,r=t.useState()[0];return r=typeof r.then=="function"?dl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),r}function Xf(){var t=cc!==0;return cc=0,t}function Jf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function Zf(t){if(uc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}uc=!1}Gr=0,Ct=Ze=Re=null,Ls=!1,fl=cc=0,Us=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function _t(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var r=fl;return fl+=1,Us===null&&(Us=[]),t=Hp(Us,t,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Vy:cd),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===X)return Gt(t)}throw Error(a(438,String(t)))}function Wf(t){var r=null,s=Re.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=hc(),Re.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=M;return r.index++,s}function Qr(t,r){return typeof r=="function"?r(t):r}function dc(t){var r=_t();return ed(r,Ze,t)}function ed(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,I=null,H=r,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(De&te)===te:(Gr&te)===te){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Ds&&(Z=!0);else if((Gr&G)===G){H=H.next,G===Ds&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=te,_=d):I=I.next=te,Re.lanes|=G,Vi|=G;te=H.action,Ha&&s(d,te),d=H.hasEagerState?H.eagerState:s(d,te)}else G={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=G,_=d):I=I.next=G,Re.lanes|=te,Vi|=te;H=H.next}while(H!==null&&H!==r);if(I===null?_=d:I.next=T,!vn(d,t.memoizedState)&&(Nt=!0,Z&&(s=Os,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var r=_t(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=r.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function ey(t,r,s){var l=Re,h=_t(),d=Le;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!vn((Ze||h).memoizedState,s);if(_&&(h.memoizedState=s,Nt=!0),h=h.queue,id(ry.bind(null,l,h,t),[t]),h.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ps(9,{destroy:void 0},ny.bind(null,l,h,s,r),null),nt===null)throw Error(a(349));d||(Gr&127)!==0||ty(l,r,s)}return s}function ty(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Re.updateQueue,r===null?(r=hc(),Re.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function ny(t,r,s,l){r.value=s,r.getSnapshot=l,iy(r)&&ay(t)}function ry(t,r,s){return s(function(){iy(r)&&ay(t)})}function iy(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!vn(t,s)}catch{return!0}}function ay(t){var r=Va(t,2);r!==null&&dn(r,t,2)}function nd(t){var r=an();if(typeof t=="function"){var s=t;if(t=s(),Ha){Cn(!0);try{s()}finally{Cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:t},r}function sy(t,r,s,l){return t.baseState=s,ed(t,Ze,typeof l=="function"?l:Qr)}function HT(t,r,s,l,h){if(pc(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,oy(r,d)):(d.next=s.next,r.pending=s.next=d)}}function oy(t,r){var s=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=J.T,_={};J.T=_;try{var T=s(h,l),I=J.S;I!==null&&I(_,T),ly(t,r,T)}catch(H){rd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=s(h,l),ly(t,r,d)}catch(H){rd(t,r,H)}}function ly(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){uy(t,r,l)},function(l){return rd(t,r,l)}):uy(t,r,s)}function uy(t,r,s){r.status="fulfilled",r.value=s,cy(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,oy(t,s)))}function rd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,cy(r),r=r.next;while(r!==l)}t.action=null}function cy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function hy(t,r){return r}function fy(t,r){if(Le){var s=nt.formState;if(s!==null){e:{var l=Re;if(Le){if(it){t:{for(var h=it,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){it=Pn(h.nextSibling),l=h.data==="F!";break e}}wi(l)}l=!1}l&&(r=s[0])}}return s=an(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:r},s.queue=l,s=Dy.bind(null,Re,l),l.dispatch=s,l=nd(!1),d=ud.bind(null,Re,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,s=HT.bind(null,Re,h,d,s),h.dispatch=s,l.memoizedState=t,[r,s,!1]}function dy(t){var r=_t();return my(r,Ze,t)}function my(t,r,s){if(r=ed(t,r,hy)[0],t=dc(Qr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=dl(r)}catch(_){throw _===Ms?rc:_}else l=r;r=_t();var h=r.queue,d=h.dispatch;return s!==r.memoizedState&&(Re.flags|=2048,Ps(9,{destroy:void 0},FT.bind(null,h,s),null)),[l,d,t]}function FT(t,r){t.action=r}function gy(t){var r=_t(),s=Ze;if(s!==null)return my(r,s,t);_t(),r=r.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function Ps(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=hc(),Re.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function py(){return _t().memoizedState}function mc(t,r,s,l){var h=an();Re.flags|=t,h.memoizedState=Ps(1|r,{destroy:void 0},s,l===void 0?null:l)}function gc(t,r,s,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Yf(l,Ze.memoizedState.deps)?h.memoizedState=Ps(r,d,s,l):(Re.flags|=t,h.memoizedState=Ps(1|r,d,s,l))}function yy(t,r){mc(8390656,8,t,r)}function id(t,r){gc(2048,8,t,r)}function GT(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=hc(),Re.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function vy(t){var r=_t().memoizedState;return GT({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function _y(t,r){return gc(4,2,t,r)}function Ey(t,r){return gc(4,4,t,r)}function by(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ty(t,r,s){s=s!=null?s.concat([t]):null,gc(4,4,by.bind(null,r,t),s)}function ad(){}function Sy(t,r){var s=_t();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Ay(t,r){var s=_t();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),Ha){Cn(!0);try{t()}finally{Cn(!1)}}return s.memoizedState=[l,r],l}function sd(t,r,s){return s===void 0||(Gr&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=w0(),Re.lanes|=t,Vi|=t,s)}function wy(t,r,s,l){return vn(s,r)?s:ks.current!==null?(t=sd(t,s,l),vn(t,r)||(Nt=!0),t):(Gr&42)===0||(Gr&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=s):(t=w0(),Re.lanes|=t,Vi|=t,r)}function Ry(t,r,s,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=J.T,T={};J.T=T,ud(t,!1,r,s);try{var I=h(),H=J.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=BT(I,l);ml(t,r,Z,An(t))}else ml(t,r,l,An(t))}catch(te){ml(t,r,{then:function(){},status:"rejected",reason:te},An())}finally{ae.p=d,_!==null&&T.types!==null&&(_.types=T.types),J.T=_}}function QT(){}function od(t,r,s,l){if(t.tag!==5)throw Error(a(476));var h=Cy(t).queue;Ry(t,h,r,ye,s===null?QT:function(){return Ny(t),s(l)})}function Cy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:ye},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ny(t){var r=Cy(t);r.next===null&&(r=t.alternate.memoizedState),ml(t,r.next.queue,{},An())}function ld(){return Gt(Dl)}function xy(){return _t().memoizedState}function Iy(){return _t().memoizedState}function KT(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=An();t=Ni(s);var l=xi(r,t,s);l!==null&&(dn(l,r,s),ul(l,r,s)),r={cache:Uf()},t.payload=r;return}r=r.return}}function YT(t,r,s){var l=An();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pc(t)?Oy(r,s):(s=Rf(t,r,s,l),s!==null&&(dn(s,t,l),My(s,r,l)))}function Dy(t,r,s){var l=An();ml(t,r,s,l)}function ml(t,r,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Oy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,vn(T,_))return Xu(t,r,h,0),nt===null&&$u(),!1}catch{}if(s=Rf(t,r,h,l),s!==null)return dn(s,t,l),My(s,r,l),!0}return!1}function ud(t,r,s,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(r)throw Error(a(479))}else r=Rf(t,s,l,2),r!==null&&dn(r,t,2)}function pc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function Oy(t,r){Ls=uc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function My(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Lo(t,s)}}var gl={readContext:Gt,use:fc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};gl.useEffectEvent=ft;var Vy={readContext:Gt,use:fc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Gt,useEffect:yy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,mc(4194308,4,by.bind(null,r,t),s)},useLayoutEffect:function(t,r){return mc(4194308,4,t,r)},useInsertionEffect:function(t,r){mc(4,2,t,r)},useMemo:function(t,r){var s=an();r=r===void 0?null:r;var l=t();if(Ha){Cn(!0);try{t()}finally{Cn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=an();if(s!==void 0){var h=s(r);if(Ha){Cn(!0);try{s(r)}finally{Cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=YT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=nd(t);var r=t.queue,s=Dy.bind(null,Re,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:ad,useDeferredValue:function(t,r){var s=an();return sd(s,t,r)},useTransition:function(){var t=nd(!1);return t=Ry.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Re,h=an();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),nt===null)throw Error(a(349));(De&127)!==0||ty(l,r,s)}h.memoizedState=s;var d={value:s,getSnapshot:r};return h.queue=d,yy(ry.bind(null,l,d,t),[t]),l.flags|=2048,Ps(9,{destroy:void 0},ny.bind(null,l,d,s,r),null),s},useId:function(){var t=an(),r=nt.identifierPrefix;if(Le){var s=Rr,l=wr;s=(l&~(1<<32-pt(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=cc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=jT++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:fy,useActionState:fy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=ud.bind(null,Re,!0,s),s.dispatch=r,[t,r]},useMemoCache:Wf,useCacheRefresh:function(){return an().memoizedState=KT.bind(null,Re)},useEffectEvent:function(t){var r=an(),s={impl:t};return r.memoizedState=s,function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},cd={readContext:Gt,use:fc,useCallback:Sy,useContext:Gt,useEffect:id,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:Ey,useMemo:Ay,useReducer:dc,useRef:py,useState:function(){return dc(Qr)},useDebugValue:ad,useDeferredValue:function(t,r){var s=_t();return wy(s,Ze.memoizedState,t,r)},useTransition:function(){var t=dc(Qr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),r]},useSyncExternalStore:ey,useId:xy,useHostTransitionStatus:ld,useFormState:dy,useActionState:dy,useOptimistic:function(t,r){var s=_t();return sy(s,Ze,t,r)},useMemoCache:Wf,useCacheRefresh:Iy};cd.useEffectEvent=vy;var ky={readContext:Gt,use:fc,useCallback:Sy,useContext:Gt,useEffect:id,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:Ey,useMemo:Ay,useReducer:td,useRef:py,useState:function(){return td(Qr)},useDebugValue:ad,useDeferredValue:function(t,r){var s=_t();return Ze===null?sd(s,t,r):wy(s,Ze.memoizedState,t,r)},useTransition:function(){var t=td(Qr)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),r]},useSyncExternalStore:ey,useId:xy,useHostTransitionStatus:ld,useFormState:gy,useActionState:gy,useOptimistic:function(t,r){var s=_t();return Ze!==null?sy(s,Ze,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Iy};ky.useEffectEvent=vy;function hd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:S({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var fd={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=An(),h=Ni(l);h.payload=r,s!=null&&(h.callback=s),r=xi(t,h,l),r!==null&&(dn(r,t,l),ul(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=An(),h=Ni(l);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=xi(t,h,l),r!==null&&(dn(r,t,l),ul(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=An(),l=Ni(s);l.tag=2,r!=null&&(l.callback=r),r=xi(t,l,s),r!==null&&(dn(r,t,s),ul(r,t,s))}};function Ly(t,r,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!tl(s,l)||!tl(h,d):!0}function Uy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&fd.enqueueReplaceState(r,r.state,null)}function Fa(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Py(t){Yu(t)}function zy(t){console.error(t)}function By(t){Yu(t)}function yc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function jy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,r,s){return s=Ni(s),s.tag=3,s.payload={element:null},s.callback=function(){yc(t,r)},s}function qy(t){return t=Ni(t),t.tag=3,t}function Hy(t,r,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jy(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){jy(r,s,l),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function $T(t,r,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Is(r,s,h,!0),s=En.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?xc():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ic?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Pd(t,l,h)),!1;case 22:return s.flags|=65536,l===ic?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Pd(t,l,h)),!1}throw Error(a(435,s.tag))}return Pd(t,l,h),xc(),!1}if(Le)return r=En.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Of&&(t=Error(a(422),{cause:l}),il(Mn(t,s)))):(l!==Of&&(r=Error(a(423),{cause:l}),il(Mn(r,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,s),h=dd(t.stateNode,l,h),Hf(t,h),dt!==4&&(dt=2)),!1;var d=Error(a(520),{cause:l});if(d=Mn(d,s),Sl===null?Sl=[d]:Sl.push(d),dt!==4&&(dt=2),r===null)return!0;l=Mn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=dd(s.stateNode,l,t),Hf(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ki===null||!ki.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qy(h),Hy(h,t,s,l),Hf(s,h),!1}s=s.return}while(s!==null);return!1}var md=Error(a(461)),Nt=!1;function Qt(t,r,s,l){r.child=t===null?Kp(r,null,s,l):qa(r,t.child,s,l)}function Fy(t,r,s,l,h){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Pa(r),l=$f(t,r,s,_,d,h),T=Xf(),t!==null&&!Nt?(Jf(t,r,h),Kr(t,r,h)):(Le&&T&&If(r),r.flags|=1,Qt(t,r,l,h),r.child)}function Gy(t,r,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Qy(t,r,d,l,h)):(t=Zu(s.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Td(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(_,l)&&t.ref===r.ref)return Kr(t,r,h)}return r.flags|=1,t=jr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Qy(t,r,s,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,Td(t,h))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,Kr(t,r,h)}return gd(t,r,s,l,h)}function Ky(t,r,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,r.child=null;return Yy(t,r,d,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(r,d!==null?d.cachePool:null),d!==null?Xp(r,d):Gf(),Jp(r);else return l=r.lanes=536870912,Yy(t,r,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(nc(r,d.cachePool),Xp(r,d),Di(),r.memoizedState=null):(t!==null&&nc(r,null),Gf(),Di());return Qt(t,r,h,s),r.child}function pl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Yy(t,r,s,l,h){var d=zf();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&nc(r,null),Gf(),Jp(r),t!==null&&Is(t,r,l,!0),r.childLanes=h,null}function vc(t,r){return r=Ec({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function $y(t,r,s){return qa(r,t.child,null,s),t=vc(r,r.pendingProps),t.flags|=2,bn(r),r.memoizedState=null,t}function XT(t,r,s){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=vc(r,l),r.lanes=536870912,pl(null,t);if(Kf(r),(t=it)?(t=ov(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Si!==null?{id:wr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},s=Op(t),s.return=r,r.child=s,Ft=r,it=null)):t=null,t===null)throw wi(r);return r.lanes=536870912,null}return vc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(r),h)if(r.flags&256)r.flags&=-257,r=$y(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Nt||Is(t,r,s,!1),h=(s&t.childLanes)!==0,Nt||h){if(l=nt,l!==null&&(_=Uo(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,Va(t,_),dn(l,t,_),md;xc(),r=$y(t,r,s)}else t=d.treeContext,it=Pn(_.nextSibling),Ft=r,Le=!0,Ai=null,Ln=!1,t!==null&&kp(r,t),r=vc(r,l),r.flags|=4096;return r}return t=jr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function _c(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function gd(t,r,s,l,h){return Pa(r),s=$f(t,r,s,l,void 0,h),l=Xf(),t!==null&&!Nt?(Jf(t,r,h),Kr(t,r,h)):(Le&&l&&If(r),r.flags|=1,Qt(t,r,s,h),r.child)}function Xy(t,r,s,l,h,d){return Pa(r),r.updateQueue=null,s=Wp(r,l,s,h),Zp(t),l=Xf(),t!==null&&!Nt?(Jf(t,r,d),Kr(t,r,d)):(Le&&l&&If(r),r.flags|=1,Qt(t,r,s,d),r.child)}function Jy(t,r,s,l,h){if(Pa(r),r.stateNode===null){var d=Rs,_=s.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},jf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Rs,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(hd(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),hl(r,l,d,h),cl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Fa(s,T);d.props=I;var H=d.context,Z=s.contextType;_=Rs,typeof Z=="object"&&Z!==null&&(_=Gt(Z));var te=s.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&Uy(r,d,l,_),Ci=!1;var G=r.memoizedState;d.state=G,hl(r,l,d,h),cl(),H=r.memoizedState,T||G!==H||Ci?(typeof te=="function"&&(hd(r,s,te,l),H=r.memoizedState),(I=Ci||Ly(r,s,I,l,G,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,qf(t,r),_=r.memoizedProps,Z=Fa(s,_),d.props=Z,te=r.pendingProps,G=d.context,H=s.contextType,I=Rs,typeof H=="object"&&H!==null&&(I=Gt(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||G!==I)&&Uy(r,d,l,I),Ci=!1,G=r.memoizedState,d.state=G,hl(r,l,d,h),cl();var K=r.memoizedState;_!==te||G!==K||Ci||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof T=="function"&&(hd(r,s,T,l),K=r.memoizedState),(Z=Ci||Ly(r,s,Z,l,G,K,I)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,_c(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=qa(r,t.child,null,h),r.child=qa(r,null,s,h)):Qt(t,r,s,h),r.memoizedState=d.state,t=r.child):t=Kr(t,r,h),t}function Zy(t,r,s,l){return La(),r.flags|=256,Qt(t,r,s,l),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:jp()}}function vd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Sn),t}function Wy(t,r,s){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Le){if(h?Ii(r):Di(),(t=it)?(t=ov(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Si!==null?{id:wr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},s=Op(t),s.return=r,r.child=s,Ft=r,it=null)):t=null,t===null)throw wi(r);return em(t)?r.lanes=32:r.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Di(),h=r.mode,T=Ec({mode:"hidden",children:T},h),l=ka(l,h,s,null),T.return=r,l.return=r,T.sibling=l,r.child=T,l=r.child,l.memoizedState=yd(s),l.childLanes=vd(t,_,s),r.memoizedState=pd,pl(null,l)):(Ii(r),_d(r,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Ii(r),r.flags&=-257,r=Ed(t,r,s)):r.memoizedState!==null?(Di(),r.child=t.child,r.flags|=128,r=null):(Di(),T=l.fallback,h=r.mode,l=Ec({mode:"visible",children:l.children},h),T=ka(T,h,s,null),T.flags|=2,l.return=r,T.return=r,l.sibling=T,r.child=l,qa(r,t.child,null,s),l=r.child,l.memoizedState=yd(s),l.childLanes=vd(t,_,s),r.memoizedState=pd,r=pl(null,l));else if(Ii(r),em(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(a(419)),l.stack="",l.digest=_,il({value:l,source:null,stack:null}),r=Ed(t,r,s)}else if(Nt||Is(t,r,s,!1),_=(s&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=Uo(_,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Va(t,l),dn(_,t,l),md;Wd(T)||xc(),r=Ed(t,r,s)}else Wd(T)?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,it=Pn(T.nextSibling),Ft=r,Le=!0,Ai=null,Ln=!1,t!==null&&kp(r,t),r=_d(r,l.children),r.flags|=4096);return r}return h?(Di(),T=l.fallback,h=r.mode,I=t.child,H=I.sibling,l=jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=jr(H,T):(T=ka(T,h,s,null),T.flags|=2),T.return=r,l.return=r,l.sibling=T,r.child=l,pl(null,l),l=r.child,T=t.child.memoizedState,T===null?T=yd(s):(h=T.cachePool,h!==null?(I=Rt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=jp(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=vd(t,_,s),r.memoizedState=pd,pl(t.child,l)):(Ii(r),s=t.child,t=s.sibling,s=jr(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function _d(t,r){return r=Ec({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Ec(t,r){return t=_n(22,t,null,r),t.lanes=0,t}function Ed(t,r,s){return qa(r,t.child,null,s),t=_d(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function e0(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),kf(t.return,r,s)}function bd(t,r,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function t0(t,r,s){var l=r.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,T=(_&2)!==0;if(T?(_=_&1|2,r.flags|=128):_&=1,se(vt,_),Qt(t,r,l,s),l=Le?rl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,s,r);else if(t.tag===19)e0(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=r.child,h=null;s!==null;)t=s.alternate,t!==null&&lc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),bd(r,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){r.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}bd(r,!0,s,null,d,l);break;case"together":bd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Kr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Is(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=jr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=jr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Td(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function JT(t,r,s){switch(r.tag){case 3:Mt(r,r.stateNode.containerInfo),Ri(r,Rt,t.memoizedState.cache),La();break;case 27:case 5:pa(r);break;case 4:Mt(r,r.stateNode.containerInfo);break;case 10:Ri(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Kf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ii(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Wy(t,r,s):(Ii(r),t=Kr(t,r,s),t!==null?t.sibling:null);Ii(r);break;case 19:var h=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Is(t,r,s,!1),l=(s&r.childLanes)!==0),h){if(l)return t0(t,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(vt,vt.current),l)break;return null;case 22:return r.lanes=0,Ky(t,r,s,r.pendingProps);case 24:Ri(r,Rt,t.memoizedState.cache)}return Kr(t,r,s)}function n0(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Td(t,s)&&(r.flags&128)===0)return Nt=!1,JT(t,r,s);Nt=(t.flags&131072)!==0}else Nt=!1,Le&&(r.flags&1048576)!==0&&Vp(r,rl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ba(r.elementType),r.type=t,typeof t=="function")Cf(t)?(l=Fa(t,l),r.tag=1,r=Jy(null,r,t,l,s)):(r.tag=0,r=gd(null,r,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===oe){r.tag=11,r=Fy(null,r,t,l,s);break e}else if(h===N){r.tag=14,r=Gy(null,r,t,l,s);break e}}throw r=tt(t)||t,Error(a(306,r,""))}}return r;case 0:return gd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,h=Fa(l,r.pendingProps),Jy(t,r,l,h,s);case 3:e:{if(Mt(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,qf(t,r),hl(r,l,null,s);var _=r.memoizedState;if(l=_.cache,Ri(r,Rt,l),l!==d.cache&&Lf(r,[Rt],s,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Zy(t,r,l,s);break e}else if(l!==h){h=Mn(Error(a(424)),r),il(h),r=Zy(t,r,l,s);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Pn(t.firstChild),Ft=r,Le=!0,Ai=null,Ln=!0,s=Kp(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(La(),l===h){r=Kr(t,r,s);break e}Qt(t,r,l,s)}r=r.child}return r;case 26:return _c(t,r),t===null?(s=dv(r.type,null,r.pendingProps,null))?r.memoizedState=s:Le||(s=r.type,t=r.pendingProps,l=Lc(Ce.current).createElement(s),l[St]=r,l[Ut]=t,Kt(l,s,t),At(l),r.stateNode=l):r.memoizedState=dv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return pa(r),t===null&&Le&&(l=r.stateNode=cv(r.type,r.pendingProps,Ce.current),Ft=r,Ln=!0,h=it,zi(r.type)?(tm=h,it=Pn(l.firstChild)):it=h),Qt(t,r,r.pendingProps.children,s),_c(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Le&&((h=l=it)&&(l=CS(l,r.type,r.pendingProps,Ln),l!==null?(r.stateNode=l,Ft=r,it=Pn(l.firstChild),Ln=!1,h=!0):h=!1),h||wi(r)),pa(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(h,d)?l=null:_!==null&&Xd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=$f(t,r,qT,null,null,s),Dl._currentValue=h),_c(t,r),Qt(t,r,l,s),r.child;case 6:return t===null&&Le&&((t=s=it)&&(s=NS(s,r.pendingProps,Ln),s!==null?(r.stateNode=s,Ft=r,it=null,t=!0):t=!1),t||wi(r)),null;case 13:return Wy(t,r,s);case 4:return Mt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=qa(r,null,l,s):Qt(t,r,l,s),r.child;case 11:return Fy(t,r,r.type,r.pendingProps,s);case 7:return Qt(t,r,r.pendingProps,s),r.child;case 8:return Qt(t,r,r.pendingProps.children,s),r.child;case 12:return Qt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Ri(r,r.type,l.value),Qt(t,r,l.children,s),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Pa(r),h=Gt(h),l=l(h),r.flags|=1,Qt(t,r,l,s),r.child;case 14:return Gy(t,r,r.type,r.pendingProps,s);case 15:return Qy(t,r,r.type,r.pendingProps,s);case 19:return t0(t,r,s);case 31:return XT(t,r,s);case 22:return Ky(t,r,s,r.pendingProps);case 24:return Pa(r),l=Gt(Rt),t===null?(h=zf(),h===null&&(h=nt,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),r.memoizedState={parent:l,cache:h},jf(r),Ri(r,Rt,h)):((t.lanes&s)!==0&&(qf(t,r),hl(r,null,null,s),cl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ri(r,Rt,l)):(l=d.cache,Ri(r,Rt,l),l!==h.cache&&Lf(r,[Rt],s,!0))),Qt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Yr(t){t.flags|=4}function Sd(t,r,s,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x0())t.flags|=8192;else throw ja=ic,Bf}else t.flags&=-16777217}function r0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(r))if(x0())t.flags|=8192;else throw ja=ic,Bf}function bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Cu():536870912,t.lanes|=r,qs|=r)}function yl(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function ZT(t,r,s){var l=r.pendingProps;switch(Df(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fr(Rt),ot(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(xs(r)?Yr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Mf())),at(r),null;case 26:var h=r.type,d=r.memoizedState;return t===null?(Yr(r),d!==null?(at(r),r0(r,d)):(at(r),Sd(r,h,null,l,s))):d?d!==t.memoizedState?(Yr(r),at(r),r0(r,d)):(at(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yr(r),at(r),Sd(r,h,t,l,s)),null;case 27:if(os(r),s=Ce.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return at(r),null}t=he.current,xs(r)?Lp(r):(t=cv(h,l,s),r.stateNode=t,Yr(r))}return at(r),null;case 5:if(os(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return at(r),null}if(d=he.current,xs(r))Lp(r);else{var _=Lc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=r,d[Ut]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yr(r)}}return at(r),Sd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Ce.current,xs(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||W0(t.nodeValue,s)),t||wi(r,!0)}else t=Lc(t).createTextNode(l),t[St]=r,r.stateNode=t}return at(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(l=xs(r),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[St]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),t=!1}else s=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(bn(r),r):(bn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=xs(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[St]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(bn(r),r):(bn(r),null)}return bn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),bc(r,r.updateQueue),at(r),null);case 4:return ot(),t===null&&Gd(r.stateNode.containerInfo),at(r),null;case 10:return Fr(r.type),at(r),null;case 19:if(ne(vt),l=r.memoizedState,l===null)return at(r),null;if(h=(r.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=lc(t),d!==null){for(r.flags|=128,yl(l,!1),t=d.updateQueue,r.updateQueue=t,bc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Dp(s,t),s=s.sibling;return se(vt,vt.current&1|2),Le&&qr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&nn()>Rc&&(r.flags|=128,h=!0,yl(l,!1),r.lanes=4194304)}else{if(!h)if(t=lc(d),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,bc(r,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return at(r),null}else 2*nn()-l.renderingStartTime>Rc&&s!==536870912&&(r.flags|=128,h=!0,yl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,s=vt.current,se(vt,h?s&1|2:s&1),Le&&qr(r,l.treeForkCount),t):(at(r),null);case 22:case 23:return bn(r),Qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),s=r.updateQueue,s!==null&&bc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&ne(za),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Fr(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function WT(t,r){switch(Df(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fr(Rt),ot(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return os(r),null;case 31:if(r.memoizedState!==null){if(bn(r),r.alternate===null)throw Error(a(340));La()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(bn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));La()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ne(vt),null;case 4:return ot(),null;case 10:return Fr(r.type),null;case 22:case 23:return bn(r),Qf(),t!==null&&ne(za),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fr(Rt),null;case 25:return null;default:return null}}function i0(t,r){switch(Df(r),r.tag){case 3:Fr(Rt),ot();break;case 26:case 27:case 5:os(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&bn(r);break;case 13:bn(r);break;case 19:ne(vt);break;case 10:Fr(r.type);break;case 22:case 23:bn(r),Qf(),t!==null&&ne(za);break;case 24:Fr(Rt)}}function vl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(T){Xe(r,r.return,T)}}function Oi(t,r,s){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var I=s,H=T;try{H()}catch(Z){Xe(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){Xe(r,r.return,Z)}}function a0(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{$p(r,s)}catch(l){Xe(t,t.return,l)}}}function s0(t,r,s){s.props=Fa(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xe(t,r,l)}}function _l(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Xe(t,r,h)}}function Cr(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xe(t,r,h)}else s.current=null}function o0(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Xe(t,t.return,h)}}function Ad(t,r,s){try{var l=t.stateNode;bS(l,t.type,s,r),l[Ut]=r}catch(h){Xe(t,t.return,h)}}function l0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zi(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Kn));else if(l!==4&&(l===27&&zi(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Rd(t,r,s),t=t.sibling;t!==null;)Rd(t,r,s),t=t.sibling}function Tc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&zi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Tc(t,r,s),t=t.sibling;t!==null;)Tc(t,r,s),t=t.sibling}function u0(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Kt(r,l,s),r[St]=t,r[Ut]=s}catch(d){Xe(t,t.return,d)}}var $r=!1,xt=!1,Cd=!1,c0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function eS(t,r){if(t=t.containerInfo,Yd=Hc,t=Tp(t),Ef(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,T=-1,I=-1,H=0,Z=0,te=t,G=null;t:for(;;){for(var K;te!==s||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(I=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)G=te,te=K;for(;;){if(te===t)break t;if(G===s&&++H===h&&(T=_),G===d&&++Z===l&&(I=_),(K=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=K}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for($d={focusedElem:t,selectionRange:s},Hc=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var fe=Fa(s.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Zd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function h0(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Jr(t,s),l&4&&vl(5,s);break;case 1:if(Jr(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Xe(s,s.return,_)}else{var h=Fa(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(s,s.return,_)}}l&64&&a0(s),l&512&&_l(s,s.return);break;case 3:if(Jr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{$p(t,r)}catch(_){Xe(s,s.return,_)}}break;case 27:r===null&&l&4&&u0(s);case 26:case 5:Jr(t,s),r===null&&l&4&&o0(s),l&512&&_l(s,s.return);break;case 12:Jr(t,s);break;case 31:Jr(t,s),l&4&&m0(t,s);break;case 13:Jr(t,s),l&4&&g0(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=uS.bind(null,s),xS(t,s))));break;case 22:if(l=s.memoizedState!==null||$r,!l){r=r!==null&&r.memoizedState!==null||xt,h=$r;var d=xt;$r=l,(xt=r)&&!d?Zr(t,s,(s.subtreeFlags&8772)!==0):Jr(t,s),$r=h,xt=d}break;case 30:break;default:Jr(t,s)}}function f0(t){var r=t.alternate;r!==null&&(t.alternate=null,f0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&fs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function Xr(t,r,s){for(s=s.child;s!==null;)d0(t,r,s),s=s.sibling}function d0(t,r,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,s)}catch{}switch(s.tag){case 26:xt||Cr(s,r),Xr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||Cr(s,r);var l=ut,h=un;zi(s.type)&&(ut=s.stateNode,un=!1),Xr(t,r,s),Nl(s.stateNode),ut=l,un=h;break;case 5:xt||Cr(s,r);case 6:if(l=ut,h=un,ut=null,Xr(t,r,s),ut=l,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(d){Xe(s,r,d)}else try{ut.removeChild(s.stateNode)}catch(d){Xe(s,r,d)}break;case 18:ut!==null&&(un?(t=ut,av(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Xs(t)):av(ut,s.stateNode));break;case 4:l=ut,h=un,ut=s.stateNode.containerInfo,un=!0,Xr(t,r,s),ut=l,un=h;break;case 0:case 11:case 14:case 15:Oi(2,s,r),xt||Oi(4,s,r),Xr(t,r,s);break;case 1:xt||(Cr(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&s0(s,r,l)),Xr(t,r,s);break;case 21:Xr(t,r,s);break;case 22:xt=(l=xt)||s.memoizedState!==null,Xr(t,r,s),xt=l;break;default:Xr(t,r,s)}}function m0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xs(t)}catch(s){Xe(r,r.return,s)}}}function g0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xs(t)}catch(s){Xe(r,r.return,s)}}function tS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new c0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new c0),r;default:throw Error(a(435,t.tag))}}function Sc(t,r){var s=tS(t);r.forEach(function(l){if(!s.has(l)){s.add(l);var h=cS.bind(null,t,l);l.then(h,h)}})}function cn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(zi(T.type)){ut=T.stateNode,un=!1;break e}break;case 5:ut=T.stateNode,un=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ut===null)throw Error(a(160));d0(d,_,h),ut=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)p0(r,t),r=r.sibling}var Wn=null;function p0(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(r,t),hn(t),l&4&&(Oi(3,t,t.return),vl(3,t),Oi(5,t,t.return));break;case 1:cn(r,t),hn(t),l&512&&(xt||s===null||Cr(s,s.return)),l&64&&$r&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Wn;if(cn(r,t),hn(t),l&512&&(xt||s===null||Cr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[dr]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,s),d[St]=t,At(d),l=d;break e;case"link":var _=pv("link","href",h).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else yv(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?yv(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(r,t),hn(t),l&512&&(xt||s===null||Cr(s,s.return)),s!==null&&l&4&&Ad(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(r,t),hn(t),l&512&&(xt||s===null||Cr(s,s.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(cn(r,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(zc=null,h=Wn,Wn=Uc(r.containerInfo),cn(r,t),Wn=h,hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Xs(r.containerInfo)}catch(fe){Xe(t,t.return,fe)}Cd&&(Cd=!1,y0(t));break;case 4:l=Wn,Wn=Uc(t.stateNode.containerInfo),cn(r,t),hn(t),Wn=l;break;case 12:cn(r,t),hn(t);break;case 31:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 13:cn(r,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,H=$r,Z=xt;if($r=H||h,xt=Z||I,cn(r,t),xt=Z,$r=H,hn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(s===null||I||$r||xt||Ga(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){I=s=r;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var te=I.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){Xe(I,I.return,fe)}}}else if(r.tag===6){if(s===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(fe){Xe(I,I.return,fe)}}}else if(r.tag===18){if(s===null){I=r;try{var K=I.stateNode;h?sv(K,!0):sv(I.stateNode,!1)}catch(fe){Xe(I,I.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Sc(t,s))));break;case 19:cn(r,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 30:break;case 21:break;default:cn(r,t),hn(t)}}function hn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(l0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=wd(t);Tc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(ln(_,""),s.flags&=-33);var T=wd(t);Tc(t,T,_);break;case 3:case 4:var I=s.stateNode.containerInfo,H=wd(t);Rd(t,H,I);break;default:throw Error(a(161))}}catch(Z){Xe(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;y0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Jr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h0(t,r.alternate,r),r=r.sibling}function Ga(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Oi(4,r,r.return),Ga(r);break;case 1:Cr(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&s0(r,r.return,s),Ga(r);break;case 27:Nl(r.stateNode);case 26:case 5:Cr(r,r.return),Ga(r);break;case 22:r.memoizedState===null&&Ga(r);break;case 30:Ga(r);break;default:Ga(r)}t=t.sibling}}function Zr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zr(h,d,s),vl(4,d);break;case 1:if(Zr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Xe(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Yp(I[h],T)}catch(H){Xe(l,l.return,H)}}s&&_&64&&a0(d),_l(d,d.return);break;case 27:u0(d);case 26:case 5:Zr(h,d,s),s&&l===null&&_&4&&o0(d),_l(d,d.return);break;case 12:Zr(h,d,s);break;case 31:Zr(h,d,s),s&&_&4&&m0(h,d);break;case 13:Zr(h,d,s),s&&_&4&&g0(h,d);break;case 22:d.memoizedState===null&&Zr(h,d,s),_l(d,d.return);break;case 30:break;default:Zr(h,d,s)}r=r.sibling}}function Nd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&al(t))}function er(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v0(t,r,s,l),r=r.sibling}function v0(t,r,s,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:er(t,r,s,l),h&2048&&vl(9,r);break;case 1:er(t,r,s,l);break;case 3:er(t,r,s,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){er(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Xe(r,r.return,I)}}else er(t,r,s,l);break;case 31:er(t,r,s,l);break;case 13:er(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?er(t,r,s,l):El(t,r):d._visibility&2?er(t,r,s,l):(d._visibility|=2,zs(t,r,s,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(_,r);break;case 24:er(t,r,s,l),h&2048&&xd(r.alternate,r);break;default:er(t,r,s,l)}}function zs(t,r,s,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,T=s,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:zs(d,_,T,I,h),vl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?zs(d,_,T,I,h):El(d,_):(Z._visibility|=2,zs(d,_,T,I,h)),h&&H&2048&&Nd(_.alternate,_);break;case 24:zs(d,_,T,I,h),h&&H&2048&&xd(_.alternate,_);break;default:zs(d,_,T,I,h)}r=r.sibling}}function El(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,h=l.flags;switch(l.tag){case 22:El(s,l),h&2048&&Nd(l.alternate,l);break;case 24:El(s,l),h&2048&&xd(l.alternate,l);break;default:El(s,l)}r=r.sibling}}var bl=8192;function Bs(t,r,s){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)_0(t,r,s),t=t.sibling}function _0(t,r,s){switch(t.tag){case 26:Bs(t,r,s),t.flags&bl&&t.memoizedState!==null&&jS(s,Wn,t.memoizedState,t.memoizedProps);break;case 5:Bs(t,r,s);break;case 3:case 4:var l=Wn;Wn=Uc(t.stateNode.containerInfo),Bs(t,r,s),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,Bs(t,r,s),bl=l):Bs(t,r,s));break;default:Bs(t,r,s)}}function E0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Tl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];zt=l,T0(l,t)}E0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b0(t),t=t.sibling}function b0(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Oi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ac(t)):Tl(t);break;default:Tl(t)}}function Ac(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];zt=l,T0(l,t)}E0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Oi(8,r,r.return),Ac(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Ac(r));break;default:Ac(r)}t=t.sibling}}function T0(t,r){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Oi(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,zt=l;else e:for(s=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(f0(l),l===s){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var nS={getCacheForType:function(t){var r=Gt(Rt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return Gt(Rt).controller.signal}},rS=typeof WeakMap=="function"?WeakMap:Map,He=0,nt=null,xe=null,De=0,$e=0,Tn=null,Mi=!1,js=!1,Id=!1,Wr=0,dt=0,Vi=0,Qa=0,Dd=0,Sn=0,qs=0,Sl=null,fn=null,Od=!1,wc=0,S0=0,Rc=1/0,Cc=null,ki=null,kt=0,Li=null,Hs=null,ei=0,Md=0,Vd=null,A0=null,Al=0,kd=null;function An(){return(He&2)!==0&&De!==0?De&-De:J.T!==null?jd():Nu()}function w0(){if(Sn===0)if((De&536870912)===0||Le){var t=_a;_a<<=1,(_a&3932160)===0&&(_a=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function dn(t,r,s){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Fs(t,0),Ui(t,De,Sn,!1)),Ea(t,s),((He&2)===0||t!==nt)&&(t===nt&&((He&2)===0&&(Qa|=s),dt===4&&Ui(t,De,Sn,!1)),Nr(t))}function R0(t,r,s){if((He&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&t.expiredLanes)===0||Fn(t,r),h=l?sS(t,r):Ud(t,r,!0),d=l;do{if(h===0){js&&!l&&Ui(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!iS(s)){h=Ud(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=Sl;var I=T.current.memoizedState.isDehydrated;if(I&&(Fs(T,_).flags|=256),_=Ud(T,_,!1),_!==2){if(Id&&!I){T.errorRecoveryDisabledLanes|=d,Qa|=d,h=4;break e}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fs(t,0),Ui(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Ui(l,r,Sn,!Mi);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=wc+300-nn(),10<h)){if(Ui(l,r,Sn,!Mi),cr(l,0,!0)!==0)break e;ei=r,l.timeoutHandle=rv(C0.bind(null,l,s,fn,Cc,Od,r,Sn,Qa,qs,Mi,d,"Throttled",-0,0),h);break e}C0(l,s,fn,Cc,Od,r,Sn,Qa,qs,Mi,d,null,-0,0)}}break}while(!0);Nr(t)}function C0(t,r,s,l,h,d,_,T,I,H,Z,te,G,K){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},_0(r,d,te);var fe=(d&62914560)===d?wc-nn():(d&4194048)===d?S0-nn():0;if(fe=qS(te,fe),fe!==null){ei=d,t.cancelPendingCommit=fe(k0.bind(null,t,r,d,s,l,h,_,T,I,Z,te,null,G,K)),Ui(t,d,_,!H);return}}k0(t,r,d,s,l,h,_,T,I)}function iS(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ui(t,r,s,l){r&=~Dd,r&=~Qa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&ba(t,s,r)}function Nc(){return(He&6)===0?(wl(0),!1):!0}function Ld(){if(xe!==null){if($e===0)var t=xe.return;else t=xe,Hr=Ua=null,Zf(t),Vs=null,ol=0,t=xe;for(;t!==null;)i0(t.alternate,t),t=t.return;xe=null}}function Fs(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,AS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ei=0,Ld(),nt=t,xe=s=jr(t.current,null),De=r,$e=0,Tn=null,Mi=!1,js=Fn(t,r),Id=!1,qs=Sn=Dd=Qa=Vi=dt=0,fn=Sl=null,Od=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-pt(l),d=1<<h;r|=t[h],l&=~d}return Wr=r,$u(),s}function N0(t,r){Re=null,J.H=gl,r===Ms||r===rc?(r=Fp(),$e=3):r===Bf?(r=Fp(),$e=4):$e=r===md?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,xe===null&&(dt=1,yc(t,Mn(r,t.current)))}function x0(){var t=En.current;return t===null?!0:(De&4194048)===De?Un===null:(De&62914560)===De||(De&536870912)!==0?t===Un:!1}function I0(){var t=J.H;return J.H=gl,t===null?gl:t}function D0(){var t=J.A;return J.A=nS,t}function xc(){dt=4,Mi||(De&4194048)!==De&&En.current!==null||(js=!0),(Vi&134217727)===0&&(Qa&134217727)===0||nt===null||Ui(nt,De,Sn,!1)}function Ud(t,r,s){var l=He;He|=2;var h=I0(),d=D0();(nt!==t||De!==r)&&(Cc=null,Fs(t,r)),r=!1;var _=dt;e:do try{if($e!==0&&xe!==null){var T=xe,I=Tn;switch($e){case 8:Ld(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(r=!0);var H=$e;if($e=0,Tn=null,Gs(t,T,I,H),s&&js){_=0;break e}break;default:H=$e,$e=0,Tn=null,Gs(t,T,I,H)}}aS(),_=dt;break}catch(Z){N0(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Hr=Ua=null,He=l,J.H=h,J.A=d,xe===null&&(nt=null,De=0,$u()),_}function aS(){for(;xe!==null;)O0(xe)}function sS(t,r){var s=He;He|=2;var l=I0(),h=D0();nt!==t||De!==r?(Cc=null,Rc=nn()+500,Fs(t,r)):js=Fn(t,r);e:do try{if($e!==0&&xe!==null){r=xe;var d=Tn;t:switch($e){case 1:$e=0,Tn=null,Gs(t,r,d,1);break;case 2:case 9:if(qp(d)){$e=0,Tn=null,M0(r);break}r=function(){$e!==2&&$e!==9||nt!==t||($e=7),Nr(t)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:qp(d)?($e=0,Tn=null,M0(r)):($e=0,Tn=null,Gs(t,r,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var T=xe;if(_?vv(_):T.stateNode.complete){$e=0,Tn=null;var I=T.sibling;if(I!==null)xe=I;else{var H=T.return;H!==null?(xe=H,Ic(H)):xe=null}break t}}$e=0,Tn=null,Gs(t,r,d,5);break;case 6:$e=0,Tn=null,Gs(t,r,d,6);break;case 8:Ld(),dt=6;break e;default:throw Error(a(462))}}oS();break}catch(Z){N0(t,Z)}while(!0);return Hr=Ua=null,J.H=l,J.A=h,He=s,xe!==null?0:(nt=null,De=0,$u(),dt)}function oS(){for(;xe!==null&&!df();)O0(xe)}function O0(t){var r=n0(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,r===null?Ic(t):xe=r}function M0(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=Xy(s,r,r.pendingProps,r.type,void 0,De);break;case 11:r=Xy(s,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:Zf(r);default:i0(s,r),r=xe=Dp(r,Wr),r=n0(s,r,Wr)}t.memoizedProps=t.pendingProps,r===null?Ic(t):xe=r}function Gs(t,r,s,l){Hr=Ua=null,Zf(r),Vs=null,ol=0;var h=r.return;try{if($T(t,h,r,s,De)){dt=1,yc(t,Mn(s,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;dt=1,yc(t,Mn(s,t.current)),xe=null;return}r.flags&32768?(Le||l===1?t=!0:js||(De&536870912)!==0?t=!1:(Mi=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),V0(r,t)):Ic(r)}function Ic(t){var r=t;do{if((r.flags&32768)!==0){V0(r,Mi);return}t=r.return;var s=ZT(r.alternate,r,Wr);if(s!==null){xe=s;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);dt===0&&(dt=5)}function V0(t,r){do{var s=WT(t.alternate,t);if(s!==null){s.flags&=32767,xe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=s}while(t!==null);dt=6,xe=null}function k0(t,r,s,l,h,d,_,T,I){t.cancelPendingCommit=null;do Dc();while(kt!==0);if((He&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=wf,pf(t,s,d,_,T,I),t===nt&&(xe=nt=null,De=0),Hs=r,Li=t,ei=s,Md=d,Vd=h,A0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hS(di,function(){return B0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,h=ae.p,ae.p=2,_=He,He|=4;try{eS(t,r,s)}finally{He=_,ae.p=h,J.T=l}}kt=1,L0(),U0(),P0()}}function L0(){if(kt===1){kt=0;var t=Li,r=Hs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=J.T,J.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{p0(r,t);var d=$d,_=Tp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&bp(T.ownerDocument.documentElement,T)){if(I!==null&&Ef(T)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var K=G.getSelection(),fe=T.textContent.length,ve=Math.min(I.start,fe),et=I.end===void 0?ve:Math.min(I.end,fe);!K.extend&&ve>et&&(_=et,et=ve,ve=_);var z=Ep(T,ve),V=Ep(T,et);if(z&&V&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==V.node||K.focusOffset!==V.offset)){var q=te.createRange();q.setStart(z.node,z.offset),K.removeAllRanges(),ve>et?(K.addRange(q),K.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),K.addRange(q))}}}}for(te=[],K=T;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var W=te[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Hc=!!Yd,$d=Yd=null}finally{He=h,ae.p=l,J.T=s}}t.current=r,kt=2}}function U0(){if(kt===2){kt=0;var t=Li,r=Hs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=J.T,J.T=null;var l=ae.p;ae.p=2;var h=He;He|=4;try{h0(t,r.alternate,r)}finally{He=h,ae.p=l,J.T=s}}kt=3}}function P0(){if(kt===4||kt===3){kt=0,bu();var t=Li,r=Hs,s=ei,l=A0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,Hs=Li=null,z0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ki=null),Ur(s),r=r.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,h=ae.p,ae.p=2,J.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{J.T=r,ae.p=h}}(ei&3)!==0&&Dc(),Nr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===kd?Al++:(Al=0,kd=t):Al=0,wl(0)}}function z0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,al(r)))}function Dc(){return L0(),U0(),P0(),B0()}function B0(){if(kt!==5)return!1;var t=Li,r=Md;Md=0;var s=Ur(ei),l=J.T,h=ae.p;try{ae.p=32>s?32:s,J.T=null,s=Vd,Vd=null;var d=Li,_=ei;if(kt=0,Hs=Li=null,ei=0,(He&6)!==0)throw Error(a(331));var T=He;if(He|=4,b0(d.current),v0(d,d.current,_,s),He=T,wl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{ae.p=h,J.T=l,z0(t,r)}}function j0(t,r,s){r=Mn(s,r),r=dd(t.stateNode,r,2),t=xi(t,r,2),t!==null&&(Ea(t,2),Nr(t))}function Xe(t,r,s){if(t.tag===3)j0(t,t,s);else for(;r!==null;){if(r.tag===3){j0(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){t=Mn(s,t),s=qy(2),l=xi(r,s,2),l!==null&&(Hy(s,l,r,t),Ea(l,2),Nr(l));break}}r=r.return}}function Pd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(s)||(Id=!0,h.add(s),t=lS.bind(null,t,r,s),r.then(t,t))}function lS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(De&s)===s&&(dt===4||dt===3&&(De&62914560)===De&&300>nn()-wc?(He&2)===0&&Fs(t,0):Dd|=s,qs===De&&(qs=0)),Nr(t)}function q0(t,r){r===0&&(r=Cu()),t=Va(t,r),t!==null&&(Ea(t,r),Nr(t))}function uS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),q0(t,s)}function cS(t,r){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),q0(t,s)}function hS(t,r){return Vt(t,r)}var Oc=null,Qs=null,zd=!1,Mc=!1,Bd=!1,Pi=0;function Nr(t){t!==Qs&&t.next===null&&(Qs===null?Oc=Qs=t:Qs=Qs.next=t),Mc=!0,zd||(zd=!0,dS())}function wl(t,r){if(!Bd&&Mc){Bd=!0;do for(var s=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Q0(l,d))}else d=De,d=cr(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(s=!0,Q0(l,d));l=l.next}while(s);Bd=!1}}function fS(){H0()}function H0(){Mc=zd=!1;var t=0;Pi!==0&&SS()&&(t=Pi);for(var r=nn(),s=null,l=Oc;l!==null;){var h=l.next,d=F0(l,r);d===0?(l.next=null,s===null?Oc=h:s.next=h,h===null&&(Qs=s)):(s=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}kt!==0&&kt!==5||wl(t),Pi!==0&&(Pi=0)}function F0(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),T=1<<_,I=h[_];I===-1?((T&s)===0||(T&l)!==0)&&(h[_]=gf(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=nt,s=De,s=cr(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fi(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Fn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&fi(l),Ur(s)){case 2:case 8:s=ko;break;case 32:s=di;break;case 268435456:s=Tu;break;default:s=di}return l=G0.bind(null,t),s=Vt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&fi(l),t.callbackPriority=2,t.callbackNode=null,2}function G0(t,r){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Dc()&&t.callbackNode!==s)return null;var l=De;return l=cr(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(R0(t,l,r),F0(t,nn()),t.callbackNode!=null&&t.callbackNode===s?G0.bind(null,t):null)}function Q0(t,r){if(Dc())return null;R0(t,r,!0)}function dS(){wS(function(){(He&6)!==0?Vt(Vo,fS):H0()})}function jd(){if(Pi===0){var t=Ds;t===0&&(t=lr,lr<<=1,(lr&261888)===0&&(lr=256)),Pi=t}return Pi}function K0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ps(""+t)}function Y0(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function mS(t,r,s,l,h){if(r==="submit"&&s&&s.stateNode===h){var d=K0((h[Ut]||null).action),_=l.submitter;_&&(r=(r=_[Ut]||null)?K0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new br("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pi!==0){var I=_?Y0(h,_):new FormData(h);od(s,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?Y0(h,_):new FormData(h),od(s,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var qd=0;qd<Af.length;qd++){var Hd=Af[qd],gS=Hd.toLowerCase(),pS=Hd[0].toUpperCase()+Hd.slice(1);Zn(gS,"on"+pS)}Zn(wp,"onAnimationEnd"),Zn(Rp,"onAnimationIteration"),Zn(Cp,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(OT,"onTransitionRun"),Zn(MT,"onTransitionStart"),Zn(VT,"onTransitionCancel"),Zn(Np,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function $0(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Yu(Z)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Yu(Z)}h.currentTarget=null,d=I}}}}function Ie(t,r){var s=r[hs];s===void 0&&(s=r[hs]=new Set);var l=t+"__bubble";s.has(l)||(X0(r,t,2,!1),s.add(l))}function Fd(t,r,s){var l=0;r&&(l|=4),X0(s,t,l,r)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Vc]){t[Vc]=!0,Po.forEach(function(s){s!=="selectionchange"&&(yS.has(s)||Fd(s,!1,t),Fd(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Vc]||(r[Vc]=!0,Fd("selectionchange",!1,r))}}function X0(t,r,s,l){switch(wv(r)){case 2:var h=GS;break;case 8:h=QS;break;default:h=sm}s=h.bind(null,r,s,t),h=void 0,!Ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,s,{capture:!0,passive:h}):t.addEventListener(r,s,!0):h!==void 0?t.addEventListener(r,s,{passive:h}):t.addEventListener(r,s,!1)}function Qd(t,r,s,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=mr(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}_i(function(){var H=d,Z=xn(s),te=[];e:{var G=xp.get(t);if(G!==void 0){var K=br,fe=t;switch(t){case"keypress":if(Na(s)===0)break e;case"keydown":case"keyup":K=Gu;break;case"focusin":fe="focus",K=Ia;break;case"focusout":fe="blur",K=Ia;break;case"beforeblur":case"afterblur":K=Ia;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=p;break;case wp:case Rp:case Cp:K=Pu;break;case Np:K=A;break;case"scroll":case"scrollend":K=Xo;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Br;break;case"toggle":case"beforetoggle":K=we}var ve=(r&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),z=ve?G!==null?G+"Capture":null:G;ve=[];for(var V=H,q;V!==null;){var W=V;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||z===null||(W=Yn(V,z),W!=null&&ve.push(Cl(V,W,q))),et)break;V=V.return}0<ve.length&&(G=new K(G,fe,null,s,Z),te.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&s!==Ko&&(fe=s.relatedTarget||s.fromElement)&&(mr(fe)||fe[fr]))break e;if((K||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,K?(fe=s.relatedTarget||s.toElement,K=H,fe=fe?mr(fe):null,fe!==null&&(et=u(fe),ve=fe.tag,fe!==et||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(K=null,fe=H),K!==fe)){if(ve=Jo,W="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Br,W="onPointerLeave",z="onPointerEnter",V="pointer"),et=K==null?G:pn(K),q=fe==null?G:pn(fe),G=new ve(W,V+"leave",K,s,Z),G.target=et,G.relatedTarget=q,W=null,mr(Z)===H&&(ve=new ve(z,V+"enter",fe,s,Z),ve.target=q,ve.relatedTarget=et,W=ve),et=W,K&&fe)t:{for(ve=vS,z=K,V=fe,q=0,W=z;W;W=ve(W))q++;W=0;for(var me=V;me;me=ve(me))W++;for(;0<q-W;)z=ve(z),q--;for(;0<W-q;)V=ve(V),W--;for(;q--;){if(z===V||V!==null&&z===V.alternate){ve=z;break t}z=ve(z),V=ve(V)}ve=null}else ve=null;K!==null&&J0(te,G,K,ve,!1),fe!==null&&et!==null&&J0(te,et,fe,ve,!0)}}e:{if(G=H?pn(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Be=mp;else if(fp(G))if(gp)Be=xT;else{Be=CT;var de=RT}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&gs(H.elementType)&&(Be=mp):Be=NT;if(Be&&(Be=Be(t,H))){dp(te,Be,s,Z);break e}de&&de(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Fo(G,"number",G.value)}switch(de=H?pn(H):window,t){case"focusin":(fp(de)||de.contentEditable==="true")&&(Ss=de,bf=H,nl=null);break;case"focusout":nl=bf=Ss=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Sp(te,s,Z);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":Sp(te,s,Z)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ts?Da(t,s)&&(Oe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ar&&s.locale!=="ko"&&(Ts||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ts&&(Ne=$o()):(Er=Z,Yo="value"in Er?Er.value:Er.textContent,Ts=!0)),de=kc(H,Oe),0<de.length&&(Oe=new Sr(Oe,t,null,s,Z),te.push({event:Oe,listeners:de}),Ne?Oe.data=Ne:(Ne=bs(s),Ne!==null&&(Oe.data=Ne)))),(Ne=Dn?TT(t,s):ST(t,s))&&(Oe=kc(H,"onBeforeInput"),0<Oe.length&&(de=new Sr("onBeforeInput","beforeinput",null,s,Z),te.push({event:de,listeners:Oe}),de.data=Ne)),mS(te,t,H,s,Z)}$0(te,r)})}function Cl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function kc(t,r){for(var s=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,s),h!=null&&l.unshift(Cl(t,h,d)),h=Yn(t,r),h!=null&&l.push(Cl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function vS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J0(t,r,s,l,h){for(var d=r._reactName,_=[];s!==null&&s!==l;){var T=s,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Yn(s,d),H!=null&&_.unshift(Cl(s,H,I))):h||(H=Yn(s,d),H!=null&&_.push(Cl(s,H,I)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var _S=/\r\n?/g,ES=/\u0000|\uFFFD/g;function Z0(t){return(typeof t=="string"?t:""+t).replace(_S,`
`).replace(ES,"")}function W0(t,r){return r=Z0(r),Z0(t)===r}function We(t,r,s,l,h,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,s,l);break;case"style":Qo(t,l,d);break;case"data":if(r!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ds(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ku.get(s)||s,ds(t,s,l))}}function Kd(t,r,s,l,h,d){switch(s){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),r=s.slice(2,h?s.length-7:void 0),d=t[Ut]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ds(t,s,l)}}}function Kt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:We(t,r,d,_,s,null)}}h&&We(t,r,"srcSet",s.srcSet,s,null),l&&We(t,r,"src",s.src,s,null);return;case"input":Ie("invalid",t);var T=d=_=h=null,I=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:We(t,r,l,Z,s,null)}}Ou(t,d,T,I,H,_,h,!1);return;case"select":Ie("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:We(t,r,h,T,s,null)}r=d,s=_,t.multiple=!!l,r!=null?gi(t,!!l,r,!1):s!=null&&gi(t,!!l,s,!0);return;case"textarea":Ie("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:We(t,r,_,T,s,null)}pi(t,l,h,d);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":We(t,r,I,l,s,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ie(Rl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:We(t,r,H,l,s,null)}return;default:if(gs(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&Kd(t,r,Z,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&We(t,r,T,l,s,null))}function bS(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,H=null,Z=null;for(K in s){var te=s[K];if(s.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(K)||We(t,r,K,null,l,te)}}for(var G in l){var K=l[G];if(te=s[G],l.hasOwnProperty(G)&&(K!=null||te!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:K!==te&&We(t,r,G,K,l,te)}}ms(t,_,T,I,H,Z,d,h);return;case"select":K=_=T=G=null;for(d in s)if(I=s[d],s.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||We(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=s[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&We(t,r,h,d,l,I)}r=T,s=_,l=K,G!=null?gi(t,!!s,G,!1):!!l!=!!s&&(r!=null?gi(t,!!s,r,!0):gi(t,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&We(t,r,_,h,l,d)}Mu(t,G,K);return;case"option":for(var fe in s)G=s[fe],s.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:We(t,r,fe,null,l,G));for(I in l)G=l[I],K=s[I],l.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null)&&(I==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":We(t,r,I,G,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)G=s[ve],s.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(t,r,ve,null,l,G);for(H in l)if(G=l[H],K=s[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:We(t,r,H,G,l,K)}return;default:if(gs(r)){for(var et in s)G=s[et],s.hasOwnProperty(et)&&G!==void 0&&!l.hasOwnProperty(et)&&Kd(t,r,et,void 0,l,G);for(Z in l)G=l[Z],K=s[Z],!l.hasOwnProperty(Z)||G===K||G===void 0&&K===void 0||Kd(t,r,Z,G,l,K);return}}for(var z in s)G=s[z],s.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&We(t,r,z,null,l,G);for(te in l)G=l[te],K=s[te],!l.hasOwnProperty(te)||G===K||G==null&&K==null||We(t,r,te,G,l,K)}function ev(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&ev(_)){for(_=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],H=I.startTime;if(H>T)break;var Z=I.transferSize,te=I.initiatorType;Z&&ev(te)&&(I=I.responseEnd,_+=Z*(I<T?1:(T-H)/(I-H)))}if(--l,r+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,$d=null;function Lc(t){return t.nodeType===9?t:t.ownerDocument}function tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Xd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jd=null;function SS(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(RS)}:rv;function RS(t){setTimeout(function(){throw t})}function zi(t){return t==="head"}function av(t,r){var s=r,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),Xs(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Nl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Nl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[dr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Nl(t.ownerDocument.body);s=h}while(s);Xs(r)}function sv(t,r){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Zd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zd(s),fs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function CS(t,r,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[dr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function NS(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pn(t.nextSibling),t===null))return null;return t}function ov(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pn(t.nextSibling),t===null))return null;return t}function Wd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xS(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var tm=null;function lv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Pn(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function uv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function cv(t,r,s){switch(r=Lc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Nl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);fs(t)}var zn=new Map,hv=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=ae.d;ae.d={f:IS,r:DS,D:OS,C:MS,L:VS,m:kS,X:US,S:LS,M:PS};function IS(){var t=ti.f(),r=Nc();return t||r}function DS(t){var r=Nn(t);r!==null&&r.tag===5&&r.type==="form"?Ny(r):ti.r(t)}var Ks=typeof document>"u"?null:document;function fv(t,r,s){var l=Ks;if(l&&typeof r=="string"&&r){var h=on(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),hv.has(h)||(hv.add(h),t={rel:t,crossOrigin:s,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Kt(r,"link",t),At(r),l.head.appendChild(r)))}}function OS(t){ti.D(t),fv("dns-prefetch",t,null)}function MS(t,r){ti.C(t,r),fv("preconnect",t,r)}function VS(t,r,s){ti.L(t,r,s);var l=Ks;if(l&&t&&r){var h='link[rel="preload"][as="'+on(r)+'"]';r==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var d=h;switch(r){case"style":d=Ys(t);break;case"script":d=$s(t)}zn.has(d)||(t=S({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),zn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(xl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),Kt(r,"link",t),At(r),l.head.appendChild(r)))}}function kS(t,r){ti.m(t,r);var s=Ks;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$s(t)}if(!zn.has(d)&&(t=S({rel:"modulepreload",href:t},r),zn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Il(d)))return}l=s.createElement("link"),Kt(l,"link",t),At(l),s.head.appendChild(l)}}}function LS(t,r,s){ti.S(t,r,s);var l=Ks;if(l&&t){var h=gr(l).hoistableStyles,d=Ys(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(xl(d)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":r},s),(s=zn.get(d))&&nm(t,s);var I=_=l.createElement("link");At(I),Kt(I,"link",t),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function US(t,r){ti.X(t,r);var s=Ks;if(s&&t){var l=gr(s).hoistableScripts,h=$s(t),d=l.get(h);d||(d=s.querySelector(Il(h)),d||(t=S({src:t,async:!0},r),(r=zn.get(h))&&rm(t,r),d=s.createElement("script"),At(d),Kt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PS(t,r){ti.M(t,r);var s=Ks;if(s&&t){var l=gr(s).hoistableScripts,h=$s(t),d=l.get(h);d||(d=s.querySelector(Il(h)),d||(t=S({src:t,async:!0,type:"module"},r),(r=zn.get(h))&&rm(t,r),d=s.createElement("script"),At(d),Kt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dv(t,r,s,l){var h=(h=Ce.current)?Uc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Ys(s.href),s=gr(h).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ys(s.href);var d=gr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(t,s),d||zS(h,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$s(s),s=gr(h).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ys(t){return'href="'+on(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function mv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function zS(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",s),At(r),t.head.appendChild(r))}function $s(t){return'[src="'+on(t)+'"]'}function Il(t){return"script[async]"+t}function gv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+on(s.href)+'"]');if(l)return r.instance=l,At(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",h),Pc(l,s.precedence,t),r.instance=l;case"stylesheet":h=Ys(s.href);var d=t.querySelector(xl(h));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=mv(s),(h=zn.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Kt(d,"link",l),r.state.loading|=4,Pc(d,s.precedence,t),r.instance=d;case"script":return d=$s(s.src),(h=t.querySelector(Il(d)))?(r.instance=h,At(h),h):(l=s,(h=zn.get(d))&&(l=S({},s),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Pc(l,s.precedence,t));return r.instance}function Pc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var zc=null;function pv(t,r,s){if(zc===null){var l=new Map,h=zc=new Map;h.set(s,l)}else h=zc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[dr]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function yv(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function BS(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jS(t,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ys(l.href),d=r.querySelector(xl(h));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Bc.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=d,At(d);return}d=r.ownerDocument||r,l=mv(l),(h=zn.get(h))&&nm(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Kt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Bc.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var im=0;function qS(t,r){return t.stylesheets&&t.count===0&&qc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&im===0&&(im=62500*TS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>im?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function qc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,r.forEach(HS,t),jc=null,Bc.call(t))}function HS(t,r){if(!(r.state.loading&4)){var s=jc.get(t);if(s)var l=s.get(null);else{s=new Map,jc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Dl={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function FS(t,r,s,l,h,d,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.hiddenUpdates=hr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function _v(t,r,s,l,h,d,_,T,I,H,Z,te){return t=new FS(t,r,s,_,I,H,Z,te,T),r=1,d===!0&&(r|=24),d=_n(3,null,null,r),t.current=d,d.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},jf(d),t}function Ev(t){return t?(t=Rs,t):Rs}function bv(t,r,s,l,h,d){h=Ev(h),l.context===null?l.context=h:l.pendingContext=h,l=Ni(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=xi(t,l,r),s!==null&&(dn(s,t,r),ul(s,t,r))}function Tv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function am(t,r){Tv(t,r),(t=t.alternate)&&Tv(t,r)}function Sv(t){if(t.tag===13||t.tag===31){var r=Va(t,67108864);r!==null&&dn(r,t,67108864),am(t,67108864)}}function Av(t){if(t.tag===13||t.tag===31){var r=An();r=Ta(r);var s=Va(t,r);s!==null&&dn(s,t,r),am(t,r)}}var Hc=!0;function GS(t,r,s,l){var h=J.T;J.T=null;var d=ae.p;try{ae.p=2,sm(t,r,s,l)}finally{ae.p=d,J.T=h}}function QS(t,r,s,l){var h=J.T;J.T=null;var d=ae.p;try{ae.p=8,sm(t,r,s,l)}finally{ae.p=d,J.T=h}}function sm(t,r,s,l){if(Hc){var h=om(l);if(h===null)Qd(t,r,l,Fc,s),Rv(t,l);else if(YS(h,t,r,s,l))l.stopPropagation();else if(Rv(t,l),r&4&&-1<KS.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ur(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-pt(_);T.entanglements[1]|=I,_&=~I}Nr(d),(He&6)===0&&(Rc=nn()+500,wl(0))}}break;case 31:case 13:T=Va(d,2),T!==null&&dn(T,d,2),Nc(),am(d,2)}if(d=om(l),d===null&&Qd(t,r,l,Fc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,r,l,null,s)}}function om(t){return t=xn(t),lm(t)}var Fc=null;function lm(t){if(Fc=null,t=mr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=f(r),t!==null)return t;t=null}else if(s===31){if(t=m(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Fc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case Vo:return 2;case ko:return 8;case di:case mf:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var um=!1,Bi=null,ji=null,qi=null,Ol=new Map,Ml=new Map,Hi=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,r){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Ol.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(t,r,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Nn(r),r!==null&&Sv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function YS(t,r,s,l,h){switch(r){case"focusin":return Bi=Vl(Bi,t,r,s,l,h),!0;case"dragenter":return ji=Vl(ji,t,r,s,l,h),!0;case"mouseover":return qi=Vl(qi,t,r,s,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,r,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,r,s,l,h)),!0}return!1}function Cv(t){var r=mr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=f(s),r!==null){t.blockedOn=r,Gn(t.priority,function(){Av(s)});return}}else if(r===31){if(r=m(s),r!==null){t.blockedOn=r,Gn(t.priority,function(){Av(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=om(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Ko=l,s.target.dispatchEvent(l),Ko=null}else return r=Nn(s),r!==null&&Sv(r),t.blockedOn=s,!1;r.shift()}return!0}function Nv(t,r,s){Gc(t)&&s.delete(r)}function $S(){um=!1,Bi!==null&&Gc(Bi)&&(Bi=null),ji!==null&&Gc(ji)&&(ji=null),qi!==null&&Gc(qi)&&(qi=null),Ol.forEach(Nv),Ml.forEach(Nv)}function Qc(t,r){t.blockedOn===r&&(t.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$S)))}var Kc=null;function xv(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(lm(l||s)===null)continue;break}var d=Nn(s);d!==null&&(t.splice(r,3),r-=3,od(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Xs(t){function r(I){return Qc(I,t)}Bi!==null&&Qc(Bi,t),ji!==null&&Qc(ji,t),qi!==null&&Qc(qi,t),Ol.forEach(r),Ml.forEach(r);for(var s=0;s<Hi.length;s++){var l=Hi[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hi.length&&(s=Hi[0],s.blockedOn===null);)Cv(s),s.blockedOn===null&&Hi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Ut]||null;if(typeof d=="function")_||xv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)T=_.formAction;else if(lm(h)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),xv(s)}}}function Iv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}Yc.prototype.render=cm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=An();bv(s,l,t,r,null,null)},Yc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;bv(t.current,2,null,t,null,null),Nc(),r[fr]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Nu();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Hi.length&&r!==0&&r<Hi[s].priority;s++);Hi.splice(s,0,t),s===0&&Cv(t)}};var Dv=e.version;if(Dv!=="19.2.4")throw Error(a(527,Dv,"19.2.4"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var XS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Hn=$c.inject(XS),qt=$c}catch{}}return kl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",h=Py,d=zy,_=By;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=_v(t,1,!1,null,null,s,l,null,h,d,_,Iv),t[fr]=r.current,Gd(t),new cm(r)},kl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Py,_=zy,T=By,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),r=_v(t,1,!0,r,s??null,l,h,I,d,_,T,Iv),r.context=Ev(null),s=r.current,l=An(),l=Ta(l),h=Ni(l),h.callback=null,xi(s,h,l),s=l,r.current.lanes=s,Ea(r,s),Nr(r),t[fr]=r.current,Gd(t),new Yc(r)},kl.version="19.2.4",kl}var zv;function iA(){if(zv)return fm.exports;zv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=rA(),fm.exports}var aA=iA();const sA=RE(aA);var Bv="popstate";function oA(i={}){function e(a,o){let{pathname:u,search:f,hash:m}=a.location;return Om("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Xl(o)}return uA(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ar(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lA(){return Math.random().toString(36).substring(2,10)}function jv(i,e){return{usr:i.state,key:i.key,idx:e}}function Om(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||a||lA()}}function Xl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Eo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function uA(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",y=null,g=b();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function b(){return(f.state||{idx:null}).idx}function S(){m="POP";let B=b(),U=B==null?null:B-g;g=B,y&&y({action:m,location:L.location,delta:U})}function R(B,U){m="PUSH";let $=Om(L.location,B,U);g=b()+1;let X=jv($,g),oe=L.createHref($);try{f.pushState(X,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&y&&y({action:m,location:L.location,delta:1})}function D(B,U){m="REPLACE";let $=Om(L.location,B,U);g=b();let X=jv($,g),oe=L.createHref($);f.replaceState(X,"",oe),u&&y&&y({action:m,location:L.location,delta:0})}function Y(B){return cA(B)}let L={get action(){return m},get location(){return i(o,f)},listen(B){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,S),y=B,()=>{o.removeEventListener(Bv,S),y=null}},createHref(B){return e(o,B)},createURL:Y,encodeLocation(B){let U=Y(B);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:R,replace:D,go(B){return f.go(B)}};return L}function cA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:Xl(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function CE(i,e,n="/"){return hA(i,e,n,!1)}function hA(i,e,n,a){let o=typeof e=="string"?Eo(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let f=NE(i);fA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=SA(u);m=bA(f[y],g,a)}return m}function NE(i,e=[],n=[],a="",o=!1){let u=(f,m,y=o,g)=>{let b={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&y)return;ct(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let S=ai([a,b.relativePath]),R=n.concat(b);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),NE(f.children,e,R,S,y)),!(f.path==null&&!f.index)&&e.push({path:S,score:_A(S,f.index),routesMeta:R})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of xE(f.path))u(f,m,!0,y)}),e}function xE(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=xE(a.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function fA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:EA(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var dA=/^:[\w-]+$/,mA=3,gA=2,pA=1,yA=10,vA=-2,qv=i=>i==="*";function _A(i,e){let n=i.split("/"),a=n.length;return n.some(qv)&&(a+=vA),e&&(a+=gA),n.filter(o=>!qv(o)).reduce((o,u)=>o+(dA.test(u)?mA:u===""?pA:yA),a)}function EA(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function bA(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",f=[];for(let m=0;m<a.length;++m){let y=a[m],g=m===a.length-1,b=u==="/"?e:e.slice(u.length)||"/",S=yh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},b),R=y.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=yh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ai([u,S.pathname]),pathnameBase:CA(ai([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=ai([u,S.pathnameBase]))}return f}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=TA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:S},R)=>{if(b==="*"){let Y=m[R]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const D=m[R];return S&&!D?g[b]=void 0:g[b]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function TA(i,e=!1,n=!0){ar(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(a.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function SA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function si(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var AA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wA(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Eo(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Hv(n.substring(1),"/"):u=Hv(n,e)):u=e,{pathname:u,search:NA(a),hash:xA(o)}}function Hv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function pm(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cg(i){let e=RA(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function hg(i,e,n,a=!1){let o;typeof i=="string"?o=Eo(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),pm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),pm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),pm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let y=wA(o,m),g=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||b)&&(y.pathname+="/"),y}var ai=i=>i.join("/").replace(/\/\/+/g,"/"),CA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,xA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,IA=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function OA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DE(i,e){let n=i;if(typeof n!="string"||!AA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(IE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=si(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ar(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OE=["POST","PUT","PATCH","DELETE"];new Set(OE);var MA=["GET",...OE];new Set(MA);var bo=F.createContext(null);bo.displayName="DataRouter";var Uh=F.createContext(null);Uh.displayName="DataRouterState";var VA=F.createContext(!1),ME=F.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var kA=F.createContext(new Map);kA.displayName="Fetchers";var LA=F.createContext(null);LA.displayName="Await";var Rn=F.createContext(null);Rn.displayName="Navigation";var lu=F.createContext(null);lu.displayName="Location";var Lr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var fg=F.createContext(null);fg.displayName="RouteError";var VE="REACT_ROUTER_ERROR",UA="REDIRECT",PA="ROUTE_ERROR_RESPONSE";function zA(i){if(i.startsWith(`${VE}:${UA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BA(i){if(i.startsWith(`${VE}:${PA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new IA(e.status,e.statusText,e.data)}catch{}}function jA(i,{relative:e}={}){ct(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=F.useContext(Rn),{hash:o,pathname:u,search:f}=uu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ai([n,u])),a.createHref({pathname:m,search:f,hash:o})}function To(){return F.useContext(lu)!=null}function da(){return ct(To(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(lu).location}var kE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(i){F.useContext(Rn).static||F.useLayoutEffect(i)}function UE(){let{isDataRoute:i}=F.useContext(Lr);return i?ew():qA()}function qA(){ct(To(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(bo),{basename:e,navigator:n}=F.useContext(Rn),{matches:a}=F.useContext(Lr),{pathname:o}=da(),u=JSON.stringify(cg(a)),f=F.useRef(!1);return LE(()=>{f.current=!0}),F.useCallback((y,g={})=>{if(ar(f.current,kE),!f.current)return;if(typeof y=="number"){n.go(y);return}let b=hg(y,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ai([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,i])}F.createContext(null);function uu(i,{relative:e}={}){let{matches:n}=F.useContext(Lr),{pathname:a}=da(),o=JSON.stringify(cg(n));return F.useMemo(()=>hg(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function HA(i,e){return PE(i,e)}function PE(i,e,n,a,o){ct(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Rn),{matches:f}=F.useContext(Lr),m=f[f.length-1],y=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",S=m&&m.route;{let $=S&&S.path||"";BE(g,!S||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let R=da(),D;if(e){let $=typeof e=="string"?Eo(e):e;ct(b==="/"||$.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${$.pathname}" was given in the \`location\` prop.`),D=$}else D=R;let Y=D.pathname||"/",L=Y;if(b!=="/"){let $=b.replace(/^\//,"").split("/");L="/"+Y.replace(/^\//,"").split("/").slice($.length).join("/")}let B=CE(i,{pathname:L});ar(S||B!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),ar(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=YA(B&&B.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:ai([b,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?b:ai([b,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),f,n,a,o);return e&&U?F.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},U):U}function FA(){let i=WA(),e=DA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var GA=F.createElement(FA,null),zE=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=BA(i.digest);n&&(i=n)}let e=i!==void 0?F.createElement(Lr.Provider,{value:this.props.routeContext},F.createElement(fg.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?F.createElement(QA,{error:i},e):e}};zE.contextType=VA;var ym=new WeakMap;function QA({children:i,error:e}){let{basename:n}=F.useContext(Rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=zA(e.digest);if(a){let o=ym.get(e);if(o)throw o;let u=DE(a.location,n);if(IE&&!ym.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw ym.set(e,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function KA({routeContext:i,match:e,children:n}){let a=F.useContext(bo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Lr.Provider,{value:i},n)}function YA(i,e=[],n=null,a=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let b=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ct(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,y=-1;if(n)for(let b=0;b<u.length;b++){let S=u[b];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(y=b),S.route.id){let{loaderData:R,errors:D}=n,Y=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!D||D[S.route.id]===void 0);if(S.route.lazy||Y){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let g=n&&a?(b,S)=>{a(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:OA(n.matches),errorInfo:S})}:void 0;return u.reduceRight((b,S,R)=>{let D,Y=!1,L=null,B=null;n&&(D=f&&S.route.id?f[S.route.id]:void 0,L=S.route.errorElement||GA,m&&(y<0&&R===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,B=null):y===R&&(Y=!0,B=S.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,R+1)),$=()=>{let X;return D?X=L:Y?X=B:S.route.Component?X=F.createElement(S.route.Component,null):S.route.element?X=S.route.element:X=b,F.createElement(KA,{match:S,routeContext:{outlet:b,matches:U,isDataRoute:n!=null},children:X})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?F.createElement(zE,{location:n.location,revalidation:n.revalidation,component:L,error:D,children:$(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:g}):$()},null)}function dg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(i){let e=F.useContext(bo);return ct(e,dg(i)),e}function XA(i){let e=F.useContext(Uh);return ct(e,dg(i)),e}function JA(i){let e=F.useContext(Lr);return ct(e,dg(i)),e}function mg(i){let e=JA(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ZA(){return mg("useRouteId")}function WA(){let i=F.useContext(fg),e=XA("useRouteError"),n=mg("useRouteError");return i!==void 0?i:e.errors?.[n]}function ew(){let{router:i}=$A("useNavigate"),e=mg("useNavigate"),n=F.useRef(!1);return LE(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{ar(n.current,kE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Fv={};function BE(i,e,n){!e&&!Fv[i]&&(Fv[i]=!0,ar(!1,n))}F.memo(tw);function tw({routes:i,future:e,state:n,onError:a}){return PE(i,void 0,n,a,e)}function Ll({to:i,replace:e,state:n,relative:a}){ct(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Rn);ar(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Lr),{pathname:f}=da(),m=UE(),y=hg(i,cg(u),f,a==="path"),g=JSON.stringify(y);return F.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function Js(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Eo(n));let{pathname:g="/",search:b="",hash:S="",state:R=null,key:D="default"}=n,Y=F.useMemo(()=>{let L=si(g,m);return L==null?null:{location:{pathname:L,search:b,hash:S,state:R,key:D},navigationType:a}},[m,g,b,S,R,D,a]);return ar(Y!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:F.createElement(Rn.Provider,{value:y},F.createElement(lu.Provider,{children:e,value:Y}))}function rw({children:i,location:e}){return HA(Mm(i),e)}function Mm(i,e=[]){let n=[];return F.Children.forEach(i,(a,o)=>{if(!F.isValidElement(a))return;let u=[...e,o];if(a.type===F.Fragment){n.push.apply(n,Mm(a.props.children,u));return}ct(a.type===Js,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Mm(a.props.children,u)),n.push(f)}),n}var ah="get",sh="application/x-www-form-urlencoded";function Ph(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function iw(i){return Ph(i)&&i.tagName.toLowerCase()==="button"}function aw(i){return Ph(i)&&i.tagName.toLowerCase()==="form"}function sw(i){return Ph(i)&&i.tagName.toLowerCase()==="input"}function ow(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lw(i,e){return i.button===0&&(!e||e==="_self")&&!ow(i)}var Xc=null;function uw(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(i){return i!=null&&!cw.has(i)?(ar(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function hw(i,e){let n,a,o,u,f;if(aw(i)){let m=i.getAttribute("action");a=m?si(m,e):null,n=i.getAttribute("method")||ah,o=vm(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(iw(i)||sw(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(a=y?si(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ah,o=vm(i.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||sh,u=new FormData(m,i),!uw()){let{name:g,type:b,value:S}=i;if(b==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,S)}}else{if(Ph(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,a=null,o=sh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fw(i,e,n,a){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&si(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function dw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gw(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await dw(u,n);return f.links?f.links():[]}return[]}));return _w(a.flat(1).filter(mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gv(i,e,n,a,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let b=a.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function pw(i,e,{includeHydrateFallback:n}={}){return yw(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yw(i){return[...new Set(i)]}function vw(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function _w(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(vw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function jE(){let i=F.useContext(bo);return gg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ew(){let i=F.useContext(Uh);return gg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pg=F.createContext(void 0);pg.displayName="FrameworkContext";function qE(){let i=F.useContext(pg);return gg(i,"You must render this element inside a <HydratedRouter> element"),i}function bw(i,e){let n=F.useContext(pg),[a,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:b,onTouchStart:S}=e,R=F.useRef(null);F.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let L=U=>{U.forEach($=>{f($.isIntersecting)})},B=new IntersectionObserver(L,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[i]),F.useEffect(()=>{if(a){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[a]);let D=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Ul(m,D),onBlur:Ul(y,Y),onMouseEnter:Ul(g,D),onMouseLeave:Ul(b,Y),onTouchStart:Ul(S,D)}]:[!1,R,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Tw({page:i,...e}){let{router:n}=jE(),a=F.useMemo(()=>CE(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?F.createElement(Aw,{page:i,matches:a,...e}):null}function Sw(i){let{manifest:e,routeModules:n}=qE(),[a,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return gw(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),a}function Aw({page:i,matches:e,...n}){let a=da(),{future:o,manifest:u,routeModules:f}=qE(),{basename:m}=jE(),{loaderData:y,matches:g}=Ew(),b=F.useMemo(()=>Gv(i,e,g,u,a,"data"),[i,e,g,u,a]),S=F.useMemo(()=>Gv(i,e,g,u,a,"assets"),[i,e,g,u,a]),R=F.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let L=new Set,B=!1;if(e.forEach($=>{let X=u.routes[$.route.id];!X||!X.hasLoader||(!b.some(oe=>oe.route.id===$.route.id)&&$.route.id in y&&f[$.route.id]?.shouldRevalidate||X.hasClientLoader?B=!0:L.add($.route.id))}),L.size===0)return[];let U=fw(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return B&&L.size>0&&U.searchParams.set("_routes",e.filter($=>L.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[m,o.unstable_trailingSlashAwareDataRequests,y,a,u,b,e,i,f]),D=F.useMemo(()=>pw(S,u),[S,u]),Y=Sw(S);return F.createElement(F.Fragment,null,R.map(L=>F.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),D.map(L=>F.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),Y.map(({key:L,link:B})=>F.createElement("link",{key:L,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function ww(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rw&&(window.__reactRouterVersion="7.13.0")}catch{}function Cw({basename:i,children:e,unstable_useTransitions:n,window:a}){let o=F.useRef();o.current==null&&(o.current=oA({window:a,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),y=F.useCallback(g=>{n===!1?m(g):F.startTransition(()=>m(g))},[n]);return F.useLayoutEffect(()=>u.listen(y),[u,y]),F.createElement(nw,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yg=F.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:b,viewTransition:S,unstable_defaultShouldRevalidate:R,...D},Y){let{basename:L,unstable_useTransitions:B}=F.useContext(Rn),U=typeof g=="string"&&HE.test(g),$=DE(g,L);g=$.to;let X=jA(g,{relative:o}),[oe,ue,pe]=bw(a,D),N=Dw(g,{replace:f,state:m,target:y,preventScrollReset:b,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:B});function C(M){e&&e(M),M.defaultPrevented||N(M)}let w=F.createElement("a",{...D,...pe,href:$.absoluteURL||X,onClick:$.isExternal||u?e:C,ref:ww(Y,ue),target:y,"data-discover":!U&&n==="render"?"true":void 0});return oe&&!U?F.createElement(F.Fragment,null,w,F.createElement(Tw,{page:X})):w});yg.displayName="Link";var Nw=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},b){let S=uu(f,{relative:g.relative}),R=da(),D=F.useContext(Uh),{navigator:Y,basename:L}=F.useContext(Rn),B=D!=null&&Lw(S)&&m===!0,U=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,$=R.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||($=$.toLowerCase(),X=X?X.toLowerCase():null,U=U.toLowerCase()),X&&L&&(X=si(X,L)||X);const oe=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ue=$===U||!o&&$.startsWith(U)&&$.charAt(oe)==="/",pe=X!=null&&(X===U||!o&&X.startsWith(U)&&X.charAt(U.length)==="/"),N={isActive:ue,isPending:pe,isTransitioning:B},C=ue?e:void 0,w;typeof a=="function"?w=a(N):w=[a,ue?"active":null,pe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return F.createElement(yg,{...g,"aria-current":C,className:w,ref:b,style:M,to:f,viewTransition:m},typeof y=="function"?y(N):y)});Nw.displayName="NavLink";var xw=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=ah,action:m,onSubmit:y,relative:g,preventScrollReset:b,viewTransition:S,unstable_defaultShouldRevalidate:R,...D},Y)=>{let{unstable_useTransitions:L}=F.useContext(Rn),B=Vw(),U=kw(m,{relative:g}),$=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&HE.test(m),oe=ue=>{if(y&&y(ue),ue.defaultPrevented)return;ue.preventDefault();let pe=ue.nativeEvent.submitter,N=pe?.getAttribute("formmethod")||f,C=()=>B(pe||ue.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:S,unstable_defaultShouldRevalidate:R});L&&n!==!1?F.startTransition(()=>C()):C()};return F.createElement("form",{ref:Y,method:$,action:U,onSubmit:a?y:oe,...D,"data-discover":!X&&i==="render"?"true":void 0})});xw.displayName="Form";function Iw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(i){let e=F.useContext(bo);return ct(e,Iw(i)),e}function Dw(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y}={}){let g=UE(),b=da(),S=uu(i,{relative:u});return F.useCallback(R=>{if(lw(R,e)){R.preventDefault();let D=n!==void 0?n:Xl(b)===Xl(S),Y=()=>g(i,{replace:D,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});y?F.startTransition(()=>Y()):Y()}},[b,g,S,n,a,e,i,o,u,f,m,y])}var Ow=0,Mw=()=>`__${String(++Ow)}__`;function Vw(){let{router:i}=FE("useSubmit"),{basename:e}=F.useContext(Rn),n=ZA(),a=i.fetch,o=i.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:y,encType:g,formData:b,body:S}=hw(u,e);if(f.navigate===!1){let R=f.fetcherKey||Mw();await a(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:S,formMethod:f.method||y,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:S,formMethod:f.method||y,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,o,e,n])}function kw(i,{relative:e}={}){let{basename:n}=F.useContext(Rn),a=F.useContext(Lr);ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...uu(i||".",{relative:e})},f=da();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(b=>b==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ai([n,u.pathname])),Xl(u)}function Lw(i,{relative:e}={}){let n=F.useContext(ME);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=FE("useViewTransitionState"),o=uu(i,{relative:e});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=si(n.nextLocation.pathname,a)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}const Uw=()=>{};var Qv={};const GE=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Pw=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],f=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},QE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,y=o+2<i.length,g=y?i[o+2]:0,b=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,D=g&63;y||(D=64,f||(R=64)),a.push(n[b],n[S],n[R],n[D])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(GE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Pw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new zw;const R=u<<2|m>>4;if(a.push(R),g!==64){const D=m<<4&240|g>>2;if(a.push(D),S!==64){const Y=g<<6&192|S;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bw=function(i){const e=GE(i);return QE.encodeByteArray(e,!0)},vh=function(i){return Bw(i).replace(/\./g,"")},KE=function(i){try{return QE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qw=()=>jw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof Qv>"u")return;const i=Qv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Fw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&KE(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return Uw()||qw()||Hw()||Fw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},YE=i=>zh()?.emulatorHosts?.[i],Gw=i=>{const e=YE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},$E=()=>zh()?.config,XE=i=>zh()?.[`_${i}`];class Qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function So(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(i){return(await fetch(i,{credentials:"include"})).ok}function Kw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}const Fl={};function Yw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?i.emulator.push(e):i.prod.push(e);return i}function $w(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Kv=!1;function ZE(i,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Fl[i]===e||Fl[i]||Kv)return;Fl[i]=e;function n(R){return`__firebase__banner__${R}`}const a="__firebase__banner",u=Yw().prod.length>0;function f(){const R=document.getElementById(a);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,D){R.setAttribute("width","24"),R.setAttribute("id",D),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Kv=!0,f()},R}function b(R,D){R.setAttribute("id",D),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=$w(a),D=n("text"),Y=document.getElementById(D)||document.createElement("span"),L=n("learnmore"),B=document.getElementById(L)||document.createElement("a"),U=n("preprendIcon"),$=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const X=R.element;m(X),b(B,L);const oe=g();y($,U),X.append($,Y,B,oe),document.body.appendChild(X)}u?(Y.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Jw(){const i=zh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ww(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function e2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t2(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function n2(){return!Jw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function r2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const a2="FirebaseError";class hi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=a2,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?s2(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hi(o,m,a)}}function s2(i,e){return i.replace(o2,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const o2=/\{\$([^}]+)}/g;function l2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Za(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],f=e[o];if(Yv(u)&&Yv(f)){if(!Za(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Yv(i){return i!==null&&typeof i=="object"}function hu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function u2(i,e){const n=new c2(i,e);return n.subscribe.bind(n)}class c2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");h2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}function jt(i){return i&&i._delegate?i._delegate:i}class Wa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class f2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Qw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m2(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d2(i){return i===Ka?void 0:i}function m2(i){return i.instantiationMode==="EAGER"}class g2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const p2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},y2=Me.INFO,v2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},_2=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=v2[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=y2,this._logHandler=_2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const E2=(i,e)=>e.some(n=>i instanceof n);let $v,Xv;function b2(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T2(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Vm=new WeakMap,eb=new WeakMap,Em=new WeakMap,_g=new WeakMap;function S2(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Zi(i.result)),o()},f=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,i)}).catch(()=>{}),_g.set(e,i),e}function A2(i){if(Vm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Vm.set(i,e)}let km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||eb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function w2(i){km=i(km)}function R2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(bm(this),e,...n);return eb.set(a,e.sort?e.sort():[e]),Zi(a)}:T2().includes(i)?function(...e){return i.apply(bm(this),e),Zi(WE.get(this))}:function(...e){return Zi(i.apply(bm(this),e))}}function C2(i){return typeof i=="function"?R2(i):(i instanceof IDBTransaction&&A2(i),E2(i,b2())?new Proxy(i,km):i)}function Zi(i){if(i instanceof IDBRequest)return S2(i);if(Em.has(i))return Em.get(i);const e=C2(i);return e!==i&&(Em.set(i,e),_g.set(e,i)),e}const bm=i=>_g.get(i);function N2(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Zi(f);return a&&f.addEventListener("upgradeneeded",y=>{a(Zi(f.result),y.oldVersion,y.newVersion,Zi(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const x2=["get","getKey","getAll","getAllKeys","count"],I2=["put","add","delete","clear"],Tm=new Map;function Jv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=I2.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||x2.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return Tm.set(e,u),u}w2(i=>({...i,get:(e,n,a)=>Jv(e,n)||i.get(e,n,a),has:(e,n)=>!!Jv(e,n)||i.has(e,n)}));class D2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O2(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function O2(i){return i.getComponent()?.type==="VERSION"}const Lm="@firebase/app",Zv="0.14.8";const oi=new vg("@firebase/app"),M2="@firebase/app-compat",V2="@firebase/analytics-compat",k2="@firebase/analytics",L2="@firebase/app-check-compat",U2="@firebase/app-check",P2="@firebase/auth",z2="@firebase/auth-compat",B2="@firebase/database",j2="@firebase/data-connect",q2="@firebase/database-compat",H2="@firebase/functions",F2="@firebase/functions-compat",G2="@firebase/installations",Q2="@firebase/installations-compat",K2="@firebase/messaging",Y2="@firebase/messaging-compat",$2="@firebase/performance",X2="@firebase/performance-compat",J2="@firebase/remote-config",Z2="@firebase/remote-config-compat",W2="@firebase/storage",eR="@firebase/storage-compat",tR="@firebase/firestore",nR="@firebase/ai",rR="@firebase/firestore-compat",iR="firebase",aR="12.9.0";const Um="[DEFAULT]",sR={[Lm]:"fire-core",[M2]:"fire-core-compat",[k2]:"fire-analytics",[V2]:"fire-analytics-compat",[U2]:"fire-app-check",[L2]:"fire-app-check-compat",[P2]:"fire-auth",[z2]:"fire-auth-compat",[B2]:"fire-rtdb",[j2]:"fire-data-connect",[q2]:"fire-rtdb-compat",[H2]:"fire-fn",[F2]:"fire-fn-compat",[G2]:"fire-iid",[Q2]:"fire-iid-compat",[K2]:"fire-fcm",[Y2]:"fire-fcm-compat",[$2]:"fire-perf",[X2]:"fire-perf-compat",[J2]:"fire-rc",[Z2]:"fire-rc-compat",[W2]:"fire-gcs",[eR]:"fire-gcs-compat",[tR]:"fire-fst",[rR]:"fire-fst-compat",[nR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};const _h=new Map,oR=new Map,Pm=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function uo(i){const e=i.name;if(Pm.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,i);for(const n of _h.values())Wv(n,i);for(const n of oR.values())Wv(n,i);return!0}function Eg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function tr(i){return i==null?!1:i.settings!==void 0}const lR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new cu("app","Firebase",lR);class uR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}const Ao=aR;function tb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Um,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw Wi.create("no-options");const u=_h.get(o);if(u){if(Za(n,u.options)&&Za(a,u.config))return u;throw Wi.create("duplicate-app",{appName:o})}const f=new g2(o);for(const y of Pm.values())f.addComponent(y);const m=new uR(n,a,f);return _h.set(o,m),m}function nb(i=Um){const e=_h.get(i);if(!e&&i===Um&&$E())return tb();if(!e)throw Wi.create("no-app",{appName:i});return e}function ea(i,e,n){let a=sR[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(f.join(" "));return}uo(new Wa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const cR="firebase-heartbeat-database",hR=1,Jl="firebase-heartbeat-store";let Sm=null;function rb(){return Sm||(Sm=N2(cR,hR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Wi.create("idb-open",{originalErrorMessage:i.message})})),Sm}async function fR(i){try{const n=(await rb()).transaction(Jl),a=await n.objectStore(Jl).get(ib(i));return await n.done,a}catch(e){if(e instanceof hi)oi.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function e_(i,e){try{const a=(await rb()).transaction(Jl,"readwrite");await a.objectStore(Jl).put(e,ib(i)),await a.done}catch(n){if(n instanceof hi)oi.warn(n.message);else{const a=Wi.create("idb-set",{originalErrorMessage:n?.message});oi.warn(a.message)}}}function ib(i){return`${i.name}!${i.options.appId}`}const dR=1024,mR=30;class gR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>mR){const o=vR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t_(),{heartbeatsToSend:n,unsentEntries:a}=pR(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return oi.warn(e),""}}}function t_(){return new Date().toISOString().substring(0,10)}function pR(i,e=dR){const n=[];let a=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),n_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),n_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class yR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function n_(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function vR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function _R(i){uo(new Wa("platform-logger",e=>new D2(e),"PRIVATE")),uo(new Wa("heartbeat",e=>new gR(e),"PRIVATE")),ea(Lm,Zv,i),ea(Lm,Zv,"esm2020"),ea("fire-js","")}_R("");function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ER=ab,sb=new cu("auth","Firebase",ab());const Eh=new vg("@firebase/auth");function bR(i,...e){Eh.logLevel<=Me.WARN&&Eh.warn(`Auth (${Ao}): ${i}`,...e)}function oh(i,...e){Eh.logLevel<=Me.ERROR&&Eh.error(`Auth (${Ao}): ${i}`,...e)}function Vr(i,...e){throw Tg(i,...e)}function rr(i,...e){return Tg(i,...e)}function bg(i,e,n){const a={...ER(),[e]:n};return new cu("auth","Firebase",a).create(e,{appName:i.name})}function Xa(i){return bg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TR(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&Vr(i,"argument-error"),bg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tg(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return sb.create(i,...e)}function Ee(i,e,...n){if(!i)throw Tg(e,...n)}function ri(i){const e="INTERNAL ASSERTION FAILED: "+i;throw oh(e),new Error(e)}function li(i,e){i||ri(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function SR(){return r_()==="http:"||r_()==="https:"}function r_(){return typeof self<"u"&&self.location?.protocol||null}function AR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SR()||Ww()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=Xw()||e2()}get(){return AR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sg(i,e){li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ob{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new fu(3e4,6e4);function Ag(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function wo(i,e,n,a,o={}){return lb(i,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=hu({key:i.config.apiKey,...f}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:y,...u};return Zw()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&So(i.emulatorConfig.host)&&(g.credentials="include"),ob.fetch()(await ub(i,i.config.apiHost,n,m),g)})}async function lb(i,e,n){i._canInitEmulator=!1;const a={...RR,...e};try{const o=new IR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",f);if(y==="USER_DISABLED")throw Jc(i,"user-disabled",f);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bg(i,b,g);Vr(i,b)}}catch(o){if(o instanceof hi)throw o;Vr(i,"network-request-failed",{message:String(o)})}}async function xR(i,e,n,a,o={}){const u=await wo(i,e,n,a,o);return"mfaPendingCredential"in u&&Vr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ub(i,e,n,a){const o=`${e}${n}?${a}`,u=i,f=u.config.emulator?Sg(i.config,o):`${i.config.apiScheme}://${o}`;return CR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class IR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(rr(this.auth,"network-request-failed")),NR.get())})}}function Jc(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=rr(i,e,a);return o.customData._tokenResponse=n,o}async function DR(i,e){return wo(i,"POST","/v1/accounts:delete",e)}async function bh(i,e){return wo(i,"POST","/v1/accounts:lookup",e)}function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OR(i,e=!1){const n=jt(i),a=await n.getIdToken(e),o=wg(a);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:Gl(Am(o.auth_time)),issuedAtTime:Gl(Am(o.iat)),expirationTime:Gl(Am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(i){return Number(i)*1e3}function wg(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=KE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function i_(i){const e=wg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zl(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof hi&&MR(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function MR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class VR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Th(i){const e=i.auth,n=await i.getIdToken(),a=await Zl(i,bh(e,{idToken:n}));Ee(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?cb(o.providerUserInfo):[],f=LR(i.providerData,u),m=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!f?.length,g=m?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,b)}async function kR(i){const e=jt(i);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LR(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function cb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function UR(i,e){const n=await lb(i,{},async()=>{const a=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await ub(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return i.emulatorConfig&&So(i.emulatorConfig.host)&&(y.credentials="include"),ob.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PR(i,e){return wo(i,"POST","/v2/accounts:revokeToken",Ag(i,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=i_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await UR(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new ro;return a&&(Ee(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ri("not implemented")}}function Gi(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new VR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OR(this,e)}reload(){return kR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Xa(this.auth));const e=await this.getIdToken();return await Zl(this,DR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:D,providerData:Y,stsTokenManager:L}=n;Ee(S&&L,e,"internal-error");const B=ro.fromJSON(this.name,L);Ee(typeof S=="string",e,"internal-error"),Gi(a,e.name),Gi(o,e.name),Ee(typeof R=="boolean",e,"internal-error"),Ee(typeof D=="boolean",e,"internal-error"),Gi(u,e.name),Gi(f,e.name),Gi(m,e.name),Gi(y,e.name),Gi(g,e.name),Gi(b,e.name);const U=new nr({uid:S,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:b});return Y&&Array.isArray(Y)&&(U.providerData=Y.map($=>({...$}))),y&&(U._redirectEventId=y),U}static async _fromIdTokenResponse(e,n,a=!1){const o=new ro;o.updateFromServerResponse(n);const u=new nr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(a);const y=new nr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}const a_=new Map;function ii(i){li(i instanceof Function,"Expected a class definition");let e=a_.get(i);return e?(li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,a_.set(i,e),e)}class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const s_=hb;function lh(i,e,n){return`firebase:${i}:${e}:${n}`}class io{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new io(ii(s_),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ii(s_);const f=lh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(f);if(b){let S;if(typeof b=="string"){const R=await bh(e,{idToken:b}).catch(()=>{});if(!R)break;S=await nr._fromGetAccountInfoResponse(e,R,b)}else S=nr._fromJSON(e,b);g!==u&&(m=S),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new io(u,e,a):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,e,a))}}function o_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||mb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function fb(i=tn()){return/firefox\//i.test(i)}function db(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mb(i=tn()){return/crios\//i.test(i)}function gb(i=tn()){return/iemobile/i.test(i)}function pb(i=tn()){return/android/i.test(i)}function yb(i=tn()){return/blackberry/i.test(i)}function vb(i=tn()){return/webos/i.test(i)}function Rg(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zR(i=tn()){return Rg(i)&&!!window.navigator?.standalone}function BR(){return t2()&&document.documentMode===10}function _b(i=tn()){return Rg(i)||pb(i)||vb(i)||yb(i)||/windows phone/i.test(i)||gb(i)}function Eb(i,e=[]){let n;switch(i){case"Browser":n=o_(tn());break;case"Worker":n=`${o_(tn())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${a}`}class jR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qR(i,e={}){return wo(i,"GET","/v2/passwordPolicy",Ag(i,e))}const HR=6;class FR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class GR{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new jR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),a=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Xa(this));const n=e?jt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qR(this),n=new FR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await PR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bh(i){return jt(i)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=u2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QR(i){Cg=i}function KR(i){return Cg.loadJS(i)}function YR(){return Cg.gapiScript}function $R(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function XR(i,e){const n=Eg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Za(u,e??{}))return o;Vr(o,"already-initialized")}return n.initialize({options:e})}function JR(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ii);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function ZR(i,e,n){const a=Bh(i);Ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=bb(e),{host:f,port:m}=WR(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ee(Za(g,a.config.emulator)&&Za(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,So(f)?(JE(`${u}//${f}${y}`),ZE("Auth",!0)):eC()}function bb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function WR(i){const e=bb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:u_(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:u_(f)}}}function u_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Tb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function ao(i,e){return xR(i,"POST","/v1/accounts:signInWithIdp",Ag(i,e))}const tC="http://localhost";class es extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new es(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ao(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}class Ng{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends Ng{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends du{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class ni extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ni.credential(n,a)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";class Yi extends du{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";class $i extends du{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return $i.credential(n,a)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await nr._fromIdTokenResponse(e,a,o),f=c_(a);return new co({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=c_(a);return new co({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function c_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Sh extends hi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Sh(e,n,a,o)}}function Sb(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(i,u,e,a):u})}async function nC(i,e,n=!1){const a=await Zl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return co._forOperation(i,"link",a)}async function rC(i,e,n=!1){const{auth:a}=i;if(tr(a.app))return Promise.reject(Xa(a));const o="reauthenticate";try{const u=await Zl(i,Sb(a,o,e,i),n);Ee(u.idToken,a,"internal-error");const f=wg(u.idToken);Ee(f,a,"internal-error");const{sub:m}=f;return Ee(i.uid===m,a,"user-mismatch"),co._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vr(a,"user-mismatch"),u}}async function iC(i,e,n=!1){if(tr(i.app))return Promise.reject(Xa(i));const a="signIn",o=await Sb(i,a,e),u=await co._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function aC(i,e,n,a){return jt(i).onIdTokenChanged(e,n,a)}function sC(i,e,n){return jt(i).beforeAuthStateChanged(e,n)}function oC(i,e,n,a){return jt(i).onAuthStateChanged(e,n,a)}function lC(i){return jt(i).signOut()}const Ah="__sak";class Ab{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const uC=1e3,cC=10;class wb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);BR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cC):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wb.type="LOCAL";const hC=wb;class Rb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Rb.type="SESSION";const Cb=Rb;function fC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new jh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await fC(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function xg(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=xg("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(b),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ir(){return window}function mC(i){Ir().location.href=i}function Nb(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function gC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){return navigator?.serviceWorker?.controller||null}function yC(){return Nb()?self:null}const xb="firebaseLocalStorageDb",vC=1,wh="firebaseLocalStorage",Ib="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(i,e){return i.transaction([wh],e?"readwrite":"readonly").objectStore(wh)}function _C(){const i=indexedDB.deleteDatabase(xb);return new mu(i).toPromise()}function jm(){const i=indexedDB.open(xb,vC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(wh,{keyPath:Ib})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(wh)?e(a):(a.close(),await _C(),e(await jm()))})})}async function h_(i,e,n){const a=qh(i,!0).put({[Ib]:e,value:n});return new mu(a).toPromise()}async function EC(i,e){const n=qh(i,!1).get(e),a=await new mu(n).toPromise();return a===void 0?null:a.value}function f_(i,e){const n=qh(i,!0).delete(e);return new mu(n).toPromise()}const bC=800,TC=3;class Db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>TC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(yC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await h_(e,Ah,"1"),await f_(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>h_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>EC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Db.type="LOCAL";const SC=Db;new fu(3e4,6e4);function Ob(i,e){return e?ii(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Ig extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AC(i){return iC(i.auth,new Ig(i),i.bypassAuthState)}function wC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),rC(n,new Ig(i),i.bypassAuthState)}async function RC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),nC(n,new Ig(i),i.bypassAuthState)}class Mb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Vr(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CC=new fu(2e3,1e4);async function NC(i,e,n){if(tr(i.app))return Promise.reject(rr(i,"operation-not-supported-in-this-environment"));const a=Bh(i);TR(i,e,Ng);const o=Ob(a,n);return new Ya(a,"signInViaPopup",e,o).executeNotNull()}class Ya extends Mb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CC.get())};e()}}Ya.currentPopupAction=null;const xC="pendingRedirect",uh=new Map;class IC extends Mb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const a=await DC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DC(i,e){const n=VC(e),a=MC(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function OC(i,e){uh.set(i._key(),e)}function MC(i){return ii(i._redirectPersistence)}function VC(i){return lh(xC,i.config.apiKey,i.name)}async function kC(i,e,n=!1){if(tr(i.app))return Promise.reject(Xa(i));const a=Bh(i),o=Ob(a,e),f=await new IC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const LC=600*1e3;class UC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Vb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(rr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LC&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(e))}saveEventToCache(e){this.cachedEventUids.add(d_(e)),this.lastProcessedEventTime=Date.now()}}function d_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Vb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function PC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vb(i);default:return!1}}async function zC(i,e={}){return wo(i,"GET","/v1/projects",e)}const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function qC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await zC(i);for(const n of e)try{if(HC(n))return}catch{}Vr(i,"unauthorized-domain")}function HC(i){const e=zm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!jC.test(n))return!1;if(BC.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const FC=new fu(3e4,6e4);function m_(){const i=Ir().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function GC(i){return new Promise((e,n)=>{function a(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(rr(i,"network-request-failed"))},timeout:FC.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)a();else{const o=$R("iframefcb");return Ir()[o]=()=>{gapi.load?a():n(rr(i,"network-request-failed"))},KR(`${YR()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function QC(i){return ch=ch||GC(i),ch}const KC=new fu(5e3,15e3),YC="__/auth/iframe",$C="emulator/auth/iframe",XC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Sg(e,$C):`https://${i.config.authDomain}/${YC}`,a={apiKey:e.apiKey,appName:i.name,v:Ao},o=JC.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${hu(a).slice(1)}`}async function WC(i){const e=await QC(i),n=Ir().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:ZC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XC,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=rr(i,"network-request-failed"),m=Ir().setTimeout(()=>{u(f)},KC.get());function y(){Ir().clearTimeout(m),o(a)}a.ping(y).then(y,()=>{u(f)})}))}const eN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,nN=600,rN="_blank",iN="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aN(i,e,n,a=tN,o=nN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...eN,width:a.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=mb(g)?rN:n),fb(g)&&(e=e||iN,y.scrollbars="yes");const b=Object.entries(y).reduce((R,[D,Y])=>`${R}${D}=${Y},`,"");if(zR(g)&&m!=="_self")return sN(e||"",m),new g_(null);const S=window.open(e||"",m,b);Ee(S,i,"popup-blocked");try{S.focus()}catch{}return new g_(S)}function sN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const oN="__/auth/handler",lN="emulator/auth/handler",uN=encodeURIComponent("fac");async function p_(i,e,n,a,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Ao,eventId:o};if(e instanceof Ng){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",l2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof du){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const y=await i._getAppCheckToken(),g=y?`#${uN}=${encodeURIComponent(y)}`:"";return`${cN(i)}?${hu(m).slice(1)}${g}`}function cN({config:i}){return i.emulator?Sg(i,lN):`https://${i.authDomain}/${oN}`}const wm="webStorageSupport";class hN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=kC,this._overrideRedirectResult=OC}async _openPopup(e,n,a,o){li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await p_(e,n,a,zm(),o);return aN(e,u,xg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await p_(e,n,a,zm(),o);return mC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(li(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await WC(e),a=new UC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{const u=o?.[0]?.[wm];u!==void 0&&n(!!u),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _b()||db()||Rg()}}const fN=hN;var y_="@firebase/auth",v_="1.12.0";class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gN(i){uo(new Wa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(i)},g=new GR(a,o,u,y);return JR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),uo(new Wa("auth-internal",e=>{const n=Bh(e.getProvider("auth").getImmediate());return(a=>new dN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(y_,v_,mN(i)),ea(y_,v_,"esm2020")}const pN=300,yN=XE("authIdTokenMaxAge")||pN;let __=null;const vN=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>yN)return;const o=n?.token;__!==o&&(__=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _N(i=nb()){const e=Eg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=XR(i,{popupRedirectResolver:fN,persistence:[SC,hC,Cb]}),a=XE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=vN(u.toString());sC(n,f,()=>f(n.currentUser)),aC(n,m=>f(m))}}const o=YE("auth");return o&&ZR(n,`http://${o}`),n}function EN(){return document.getElementsByTagName("head")?.[0]??document}QR({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=rr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",EN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gN("Browser");var bN="firebase",TN="12.9.0";ea(bN,TN,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ta,kb;(function(){var i;function e(N,C){function w(){}w.prototype=C.prototype,N.F=C.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(M,O,P){for(var x=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)x[tt-2]=arguments[tt];return C.prototype[O].apply(M,x)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,C,w){w||(w=0);const M=Array(16);if(typeof C=="string")for(var O=0;O<16;++O)M[O]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(O=0;O<16;++O)M[O]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=N.g[0],w=N.g[1],O=N.g[2];let P=N.g[3],x;x=C+(P^w&(O^P))+M[0]+3614090360&4294967295,C=w+(x<<7&4294967295|x>>>25),x=P+(O^C&(w^O))+M[1]+3905402710&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(w^P&(C^w))+M[2]+606105819&4294967295,O=P+(x<<17&4294967295|x>>>15),x=w+(C^O&(P^C))+M[3]+3250441966&4294967295,w=O+(x<<22&4294967295|x>>>10),x=C+(P^w&(O^P))+M[4]+4118548399&4294967295,C=w+(x<<7&4294967295|x>>>25),x=P+(O^C&(w^O))+M[5]+1200080426&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(w^P&(C^w))+M[6]+2821735955&4294967295,O=P+(x<<17&4294967295|x>>>15),x=w+(C^O&(P^C))+M[7]+4249261313&4294967295,w=O+(x<<22&4294967295|x>>>10),x=C+(P^w&(O^P))+M[8]+1770035416&4294967295,C=w+(x<<7&4294967295|x>>>25),x=P+(O^C&(w^O))+M[9]+2336552879&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(w^P&(C^w))+M[10]+4294925233&4294967295,O=P+(x<<17&4294967295|x>>>15),x=w+(C^O&(P^C))+M[11]+2304563134&4294967295,w=O+(x<<22&4294967295|x>>>10),x=C+(P^w&(O^P))+M[12]+1804603682&4294967295,C=w+(x<<7&4294967295|x>>>25),x=P+(O^C&(w^O))+M[13]+4254626195&4294967295,P=C+(x<<12&4294967295|x>>>20),x=O+(w^P&(C^w))+M[14]+2792965006&4294967295,O=P+(x<<17&4294967295|x>>>15),x=w+(C^O&(P^C))+M[15]+1236535329&4294967295,w=O+(x<<22&4294967295|x>>>10),x=C+(O^P&(w^O))+M[1]+4129170786&4294967295,C=w+(x<<5&4294967295|x>>>27),x=P+(w^O&(C^w))+M[6]+3225465664&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^w&(P^C))+M[11]+643717713&4294967295,O=P+(x<<14&4294967295|x>>>18),x=w+(P^C&(O^P))+M[0]+3921069994&4294967295,w=O+(x<<20&4294967295|x>>>12),x=C+(O^P&(w^O))+M[5]+3593408605&4294967295,C=w+(x<<5&4294967295|x>>>27),x=P+(w^O&(C^w))+M[10]+38016083&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^w&(P^C))+M[15]+3634488961&4294967295,O=P+(x<<14&4294967295|x>>>18),x=w+(P^C&(O^P))+M[4]+3889429448&4294967295,w=O+(x<<20&4294967295|x>>>12),x=C+(O^P&(w^O))+M[9]+568446438&4294967295,C=w+(x<<5&4294967295|x>>>27),x=P+(w^O&(C^w))+M[14]+3275163606&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^w&(P^C))+M[3]+4107603335&4294967295,O=P+(x<<14&4294967295|x>>>18),x=w+(P^C&(O^P))+M[8]+1163531501&4294967295,w=O+(x<<20&4294967295|x>>>12),x=C+(O^P&(w^O))+M[13]+2850285829&4294967295,C=w+(x<<5&4294967295|x>>>27),x=P+(w^O&(C^w))+M[2]+4243563512&4294967295,P=C+(x<<9&4294967295|x>>>23),x=O+(C^w&(P^C))+M[7]+1735328473&4294967295,O=P+(x<<14&4294967295|x>>>18),x=w+(P^C&(O^P))+M[12]+2368359562&4294967295,w=O+(x<<20&4294967295|x>>>12),x=C+(w^O^P)+M[5]+4294588738&4294967295,C=w+(x<<4&4294967295|x>>>28),x=P+(C^w^O)+M[8]+2272392833&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^w)+M[11]+1839030562&4294967295,O=P+(x<<16&4294967295|x>>>16),x=w+(O^P^C)+M[14]+4259657740&4294967295,w=O+(x<<23&4294967295|x>>>9),x=C+(w^O^P)+M[1]+2763975236&4294967295,C=w+(x<<4&4294967295|x>>>28),x=P+(C^w^O)+M[4]+1272893353&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^w)+M[7]+4139469664&4294967295,O=P+(x<<16&4294967295|x>>>16),x=w+(O^P^C)+M[10]+3200236656&4294967295,w=O+(x<<23&4294967295|x>>>9),x=C+(w^O^P)+M[13]+681279174&4294967295,C=w+(x<<4&4294967295|x>>>28),x=P+(C^w^O)+M[0]+3936430074&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^w)+M[3]+3572445317&4294967295,O=P+(x<<16&4294967295|x>>>16),x=w+(O^P^C)+M[6]+76029189&4294967295,w=O+(x<<23&4294967295|x>>>9),x=C+(w^O^P)+M[9]+3654602809&4294967295,C=w+(x<<4&4294967295|x>>>28),x=P+(C^w^O)+M[12]+3873151461&4294967295,P=C+(x<<11&4294967295|x>>>21),x=O+(P^C^w)+M[15]+530742520&4294967295,O=P+(x<<16&4294967295|x>>>16),x=w+(O^P^C)+M[2]+3299628645&4294967295,w=O+(x<<23&4294967295|x>>>9),x=C+(O^(w|~P))+M[0]+4096336452&4294967295,C=w+(x<<6&4294967295|x>>>26),x=P+(w^(C|~O))+M[7]+1126891415&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~w))+M[14]+2878612391&4294967295,O=P+(x<<15&4294967295|x>>>17),x=w+(P^(O|~C))+M[5]+4237533241&4294967295,w=O+(x<<21&4294967295|x>>>11),x=C+(O^(w|~P))+M[12]+1700485571&4294967295,C=w+(x<<6&4294967295|x>>>26),x=P+(w^(C|~O))+M[3]+2399980690&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~w))+M[10]+4293915773&4294967295,O=P+(x<<15&4294967295|x>>>17),x=w+(P^(O|~C))+M[1]+2240044497&4294967295,w=O+(x<<21&4294967295|x>>>11),x=C+(O^(w|~P))+M[8]+1873313359&4294967295,C=w+(x<<6&4294967295|x>>>26),x=P+(w^(C|~O))+M[15]+4264355552&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~w))+M[6]+2734768916&4294967295,O=P+(x<<15&4294967295|x>>>17),x=w+(P^(O|~C))+M[13]+1309151649&4294967295,w=O+(x<<21&4294967295|x>>>11),x=C+(O^(w|~P))+M[4]+4149444226&4294967295,C=w+(x<<6&4294967295|x>>>26),x=P+(w^(C|~O))+M[11]+3174756917&4294967295,P=C+(x<<10&4294967295|x>>>22),x=O+(C^(P|~w))+M[2]+718787259&4294967295,O=P+(x<<15&4294967295|x>>>17),x=w+(P^(O|~C))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+C&4294967295,N.g[1]=N.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+P&4294967295}a.prototype.v=function(N,C){C===void 0&&(C=N.length);const w=C-this.blockSize,M=this.C;let O=this.h,P=0;for(;P<C;){if(O==0)for(;P<=w;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<C;)if(M[O++]=N.charCodeAt(P++),O==this.blockSize){o(this,M),O=0;break}}else for(;P<C;)if(M[O++]=N[P++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=C},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var C=1;C<N.length-8;++C)N[C]=0;C=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=C&255,C/=256;for(this.v(N),N=Array(16),C=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)N[C++]=this.g[w]>>>M&255;return N};function u(N,C){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=C(N)}function f(N,C){this.h=C;const w=[];let M=!0;for(let O=N.length-1;O>=0;O--){const P=N[O]|0;M&&P==C||(w[O]=P,M=!1)}this.g=w}var m={};function y(N){return-128<=N&&N<128?u(N,function(C){return new f([C|0],C<0?-1:0)}):new f([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return B(g(-N));const C=[];let w=1;for(let M=0;N>=w;M++)C[M]=N/w|0,w*=4294967296;return new f(C,0)}function b(N,C){if(N.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N.charAt(0)=="-")return B(b(N.substring(1),C));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(C,8));let M=S;for(let P=0;P<N.length;P+=8){var O=Math.min(8,N.length-P);const x=parseInt(N.substring(P,P+O),C);O<8?(O=g(Math.pow(C,O)),M=M.j(O).add(g(x))):(M=M.j(w),M=M.add(g(x)))}return M}var S=y(0),R=y(1),D=y(16777216);i=f.prototype,i.m=function(){if(L(this))return-B(this).m();let N=0,C=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);N+=(M>=0?M:4294967296+M)*C,C*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(L(this))return"-"+B(this).toString(N);const C=g(Math.pow(N,6));var w=this;let M="";for(;;){const O=oe(w,C).g;w=U(w,O.j(C));let P=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=O,Y(w))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let C=0;C<N.g.length;C++)if(N.g[C]!=0)return!1;return!0}function L(N){return N.h==-1}i.l=function(N){return N=U(this,N),L(N)?-1:Y(N)?0:1};function B(N){const C=N.g.length,w=[];for(let M=0;M<C;M++)w[M]=~N.g[M];return new f(w,~N.h).add(R)}i.abs=function(){return L(this)?B(this):this},i.add=function(N){const C=Math.max(this.g.length,N.g.length),w=[];let M=0;for(let O=0;O<=C;O++){let P=M+(this.i(O)&65535)+(N.i(O)&65535),x=(P>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=x>>>16,P&=65535,x&=65535,w[O]=x<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function U(N,C){return N.add(B(C))}i.j=function(N){if(Y(this)||Y(N))return S;if(L(this))return L(N)?B(this).j(B(N)):B(B(this).j(N));if(L(N))return B(this.j(B(N)));if(this.l(D)<0&&N.l(D)<0)return g(this.m()*N.m());const C=this.g.length+N.g.length,w=[];for(var M=0;M<2*C;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<N.g.length;O++){const P=this.i(M)>>>16,x=this.i(M)&65535,tt=N.i(O)>>>16,Qe=N.i(O)&65535;w[2*M+2*O]+=x*Qe,$(w,2*M+2*O),w[2*M+2*O+1]+=P*Qe,$(w,2*M+2*O+1),w[2*M+2*O+1]+=x*tt,$(w,2*M+2*O+1),w[2*M+2*O+2]+=P*tt,$(w,2*M+2*O+2)}for(N=0;N<C;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=C;N<2*C;N++)w[N]=0;return new f(w,0)};function $(N,C){for(;(N[C]&65535)!=N[C];)N[C+1]+=N[C]>>>16,N[C]&=65535,C++}function X(N,C){this.g=N,this.h=C}function oe(N,C){if(Y(C))throw Error("division by zero");if(Y(N))return new X(S,S);if(L(N))return C=oe(B(N),C),new X(B(C.g),B(C.h));if(L(C))return C=oe(N,B(C)),new X(B(C.g),C.h);if(N.g.length>30){if(L(N)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var w=R,M=C;M.l(N)<=0;)w=ue(w),M=ue(M);var O=pe(w,1),P=pe(M,1);for(M=pe(M,2),w=pe(w,2);!Y(M);){var x=P.add(M);x.l(N)<=0&&(O=O.add(w),P=x),M=pe(M,1),w=pe(w,1)}return C=U(N,O.j(C)),new X(O,C)}for(O=S;N.l(C)>=0;){for(w=Math.max(1,Math.floor(N.m()/C.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(w),x=P.j(C);L(x)||x.l(N)>0;)w-=M,P=g(w),x=P.j(C);Y(P)&&(P=R),O=O.add(P),N=U(N,x)}return new X(O,N)}i.B=function(N){return oe(this,N).h},i.and=function(N){const C=Math.max(this.g.length,N.g.length),w=[];for(let M=0;M<C;M++)w[M]=this.i(M)&N.i(M);return new f(w,this.h&N.h)},i.or=function(N){const C=Math.max(this.g.length,N.g.length),w=[];for(let M=0;M<C;M++)w[M]=this.i(M)|N.i(M);return new f(w,this.h|N.h)},i.xor=function(N){const C=Math.max(this.g.length,N.g.length),w=[];for(let M=0;M<C;M++)w[M]=this.i(M)^N.i(M);return new f(w,this.h^N.h)};function ue(N){const C=N.g.length+1,w=[];for(let M=0;M<C;M++)w[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(w,N.h)}function pe(N,C){const w=C>>5;C%=32;const M=N.g.length-w,O=[];for(let P=0;P<M;P++)O[P]=C>0?N.i(P+w)>>>C|N.i(P+w+1)<<32-C:N.i(P+w);return new f(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,kb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=b,ta=f}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Lb,zl,Ub,hh,qm,Pb,zb,Bb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(c,p){if(p)e:{var E=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in E))break e;E=E[j]}c=c[c.length-1],A=E[c],p=p(A),p!=A&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var E=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&E.push([A,p[A]]);return E}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,E){return c.call.apply(c.bind,arguments)}function g(c,p,E){return g=y,g.apply(null,arguments)}function b(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,j,Q){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return p.prototype[j].apply(A,ie)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const p=c.length;if(p>0){const E=Array(p);for(let A=0;A<p;A++)E[A]=c[A];return E}return[]}function Y(c,p){for(let A=1;A<arguments.length;A++){const j=arguments[A];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=c.length||0;const Q=j.length||0;c.length=E+Q;for(let ie=0;ie<Q;ie++)c[E+ie]=j[ie]}else c.push(j)}}class L{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function B(c){f.setTimeout(()=>{throw c},0)}function U(){var c=N;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ${constructor(){this.h=this.g=null}add(p,E){const A=X.get();A.set(p,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new L(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,pe=!1,N=new $,C=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(w)}};function w(){for(var c;c=U();){try{c.h.call(c.g)}catch(E){B(E)}var p=X;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,p),f.removeEventListener("test",E,p)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function tt(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(tt,O),tt.prototype.init=function(c,p){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),J=0;function ae(c,p,E,A,j){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!A,this.ha=j,this.key=++J,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,p,E){for(const A in c)p.call(E,c[A],A,c)}function Ke(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function k(c){const p={};for(const E in c)p[E]=c[E];return p}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,p){let E,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(E in A)c[E]=A[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,p,E,A,j){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ie=Ce(c,p,A,j);return ie>-1?(p=c[ie],E||(p.fa=!1)):(p=new ae(p,this.src,Q,!!A,j),p.fa=E,c.push(p)),p};function be(c,p){const E=p.type;if(E in c.g){var A=c.g[E],j=Array.prototype.indexOf.call(A,p,void 0),Q;(Q=j>=0)&&Array.prototype.splice.call(A,j,1),Q&&(ye(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,p,E,A){for(let j=0;j<c.length;++j){const Q=c[j];if(!Q.da&&Q.listener==p&&Q.capture==!!E&&Q.ha==A)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,p,E,A,j){if(Array.isArray(p)){for(let Q=0;Q<p.length;Q++)ot(c,p[Q],E,A,j);return null}return E=Mo(E),c&&c[Qe]?c.J(p,E,m(A)?!!A.capture:!1,j):pa(c,p,E,!1,A,j)}function pa(c,p,E,A,j,Q){if(!p)throw Error("Invalid event type");const ie=m(j)?!!j.capture:!!j;let we=ya(c);if(we||(c[Ue]=we=new he(c)),E=we.add(p,E,A,ie,Q),E.proxy)return E;if(A=os(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)P||(j=ie),j===void 0&&(j=!1),c.addEventListener(p.toString(),A,j);else if(c.attachEvent)c.attachEvent(or(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function os(){function c(E){return p.call(c.src,c.listener,E)}const p=Do;return c}function ls(c,p,E,A,j){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)ls(c,p[Q],E,A,j);else A=m(A)?!!A.capture:!!A,E=Mo(E),c&&c[Qe]?(c=c.i,Q=String(p).toString(),Q in c.g&&(p=c.g[Q],E=Ce(p,E,A,j),E>-1&&(ye(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[Q],c.h--)))):c&&(c=ya(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,E,A,j)),(E=c>-1?p[c]:null)&&us(E))}function us(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Qe])be(p.i,c);else{var E=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(E,A,c.capture):p.detachEvent?p.detachEvent(or(E),A):p.addListener&&p.removeListener&&p.removeListener(A),(E=ya(p))?(be(E,c),E.h==0&&(E.src=null,p[Ue]=null)):ye(c)}}}function or(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Do(c,p){if(c.da)c=!0;else{p=new tt(p,this);const E=c.listener,A=c.ha||c.src;c.fa&&us(c),c=E.call(A,p)}return c}function ya(c){return c=c[Ue],c instanceof he?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(p){return c.handleEvent(p)}),c[Oo])}function bt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}S(bt,M),bt.prototype[Qe]=!0,bt.prototype.removeEventListener=function(c,p,E,A){ls(this,c,p,E,A)};function Vt(c,p){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var j=p;p=new O(A,c),se(p,j)}j=!0;let Q,ie;if(E)for(ie=E.length-1;ie>=0;ie--)Q=p.g=E[ie],j=fi(Q,A,!0,p)&&j;if(Q=p.g=c,j=fi(Q,A,!0,p)&&j,j=fi(Q,A,!1,p)&&j,E)for(ie=0;ie<E.length;ie++)Q=p.g=E[ie],j=fi(Q,A,!1,p)&&j}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let A=0;A<E.length;A++)ye(E[A]);delete c.g[p],c.h--}}this.G=null},bt.prototype.J=function(c,p,E,A){return this.i.add(String(c),p,!1,E,A)},bt.prototype.K=function(c,p,E,A){return this.i.add(String(c),p,!0,E,A)};function fi(c,p,E,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let j=!0;for(let Q=0;Q<p.length;++Q){const ie=p[Q];if(ie&&!ie.da&&ie.capture==E){const we=ie.listener,yt=ie.ha||ie.src;ie.fa&&be(c.i,ie),j=we.call(yt,A)!==!1&&j}}return j&&!A.defaultPrevented}function df(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function bu(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nn extends M{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(c){M.call(this),this.h=c,this.g={}}S(va,M);var Vo=[];function ko(c){ze(c.g,function(p,E){this.g.hasOwnProperty(E)&&us(p)},c),c.g={}}va.prototype.N=function(){va.Z.N.call(this),ko(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=f.JSON.stringify,mf=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Su(){}function Au(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}S(qt,O);function Cn(){O.call(this,"c")}S(Cn,O);var pt={},wu=null;function cs(){return wu=wu||new bt}pt.Ia="serverreachability";function Ru(c){O.call(this,pt.Ia,c)}S(Ru,O);function lr(c){const p=cs();Vt(p,new Ru(p))}pt.STAT_EVENT="statevent";function _a(c,p){O.call(this,pt.STAT_EVENT,c),this.stat=p}S(_a,O);function Tt(c){const p=cs();Vt(p,new _a(p,c))}pt.Ja="timingevent";function ur(c,p){O.call(this,pt.Ja,c),this.size=p}S(ur,O);function cr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function gf(c,p,E,A,j,Q){c.info(function(){if(c.g)if(Q){var ie="",we=Q.split("&");for(let qe=0;qe<we.length;qe++){var yt=we[qe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const Dn=lt.split("_");ie=Dn.length>=2&&Dn[1]=="type"?ie+(lt+"="+yt+"&"):ie+(lt+"=redacted&")}}}else ie=null;else ie=Q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+p+`
`+E+`
`+ie})}function Cu(c,p,E,A,j,Q,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+p+`
`+E+`
`+Q+" "+ie})}function hr(c,p,E,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+pf(c,E)+(A?" "+A:"")})}function Ea(c,p){c.info(function(){return"TIMEOUT: "+p})}Fn.prototype.info=function(){};function pf(c,p){if(!c.g)return p;if(!p)return null;try{const Q=JSON.parse(p);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var E=Q[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return di(Q)}catch{return p}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Ta(){}S(Ta,Su),Ta.prototype.g=function(){return new XMLHttpRequest},Uo=new Ta;function Ur(c){return encodeURIComponent(String(c))}function Nu(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Gn(c,p,E,A){this.j=c,this.i=p,this.l=E,this.S=A||1,this.V=new va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},Ut={};function fr(c,p,E){c.M=1,c.A=Sa(wt(p)),c.u=E,c.R=!0,hs(c,null)}function hs(c,p){c.F=Date.now(),dr(c),c.B=wt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),gs(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Qn,c.g=Hu(c.j,E?p:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),p=c.V,E=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Vo[0]=j.toString()),j=Vo);for(let Q=0;Q<j.length;Q++){const ie=ot(E,j[Q],A||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),lr(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const p=this.O;p&&$n(c)==3?p.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const we=$n(this.g),yt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||yt==7||(yt==8||qe<=0?lr(3):lr(2)),mr(this);var p=this.g.ca();this.X=p;var E=yf(this);if(this.o=p==200,Cu(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var Q=A;break t}}Q=null}if(c=Q)hr(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gr(this,c);else{this.o=!1,this.m=3,Tt(12),pn(this),Nn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Iu(this,E),lt==Ut){we==4&&(this.m=4,Tt(14),c=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==St){this.m=4,Tt(15),hr(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else hr(this.i,this.l,lt,null),gr(this,lt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hr(this.i,this.l,E,"[Invalid Chunked Response]"),pn(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Zo(ie),ie.P=!0,Tt(11))}}else hr(this.i,this.l,E,null),gr(this,E);we==4&&pn(this),this.o&&!this.K&&(we==4?zu(this.j,this):(this.o=!1,dr(this)))}else zr(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),pn(this),Nn(this)}}}catch{}};function yf(c){if(!xu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let E="";const A=p.length,j=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,E+=c.h.i.decode(p[Q],{stream:!(j&&Q==A-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,p){var E=c.C,A=p.indexOf(`
`,E);return A==-1?Ut:(E=Number(p.substring(E,A)),isNaN(E)?St:(A+=1,A+E>p.length?Ut:(p=p.slice(A,A+E),c.C=A+E,p)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function dr(c){c.T=Date.now()+c.H,fs(c,c.H)}function fs(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cr(g(c.aa,c),p)}function mr(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ea(this.i,this.B),this.M!=2&&(lr(),Tt(17)),pn(this),this.m=2,Nn(this)):fs(this,this.T-c)};function Nn(c){c.j.I==0||c.K||zu(c.j,c)}function pn(c){mr(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,ko(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function gr(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||yr(E.h,c))){if(!c.L&&yr(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Es(E),bi(E);else break e;Ia(E),Tt(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=cr(g(E.Va,E),6e3));pr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Sr(E,11)}else if((c.L||E.g==c)&&Es(E),!x(p))for(j=E.Ba.g.parse(p),p=0;p<j.length;p++){let qe=j[p];const lt=qe[0];if(!(lt<=E.K))if(E.K=lt,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Dn=qe[3];Dn!=null&&(E.ka=Dn,E.j.info("VER="+E.ka));const Ar=qe[4];Ar!=null&&(E.za=Ar,E.j.info("SVER="+E.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Jn=c.g;if(Jn){const Da=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var Q=A.h;Q.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Bo(Q,Q.h),Q.h=null))}if(A.G){const bs=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;bs&&(A.wa=bs,Ye(A.J,A.G,bs))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ie=c;if(A.na=qu(A,A.L?A.ba:null,A.W),ie.L){jo(A.h,ie);var we=ie,yt=A.O;yt&&(we.H=yt),we.D&&(mr(we),dr(we)),A.g=ie}else Uu(A);E.i.length>0&&Tr(E)}else qe[0]!="stop"&&qe[0]!="close"||Sr(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Sr(E,7):Xo(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}lr(4)}catch{}}var At=class{constructor(c,p){this.g=c,this.map=p}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pr(c){return c.h?1:c.g?c.g.size:0}function yr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Bo(c,p){c.g?c.g.add(p):c.h=p}function jo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Po.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return D(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ds(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let j,Q=null;A>=0?(j=c[E].substring(0,A),Q=c[E].substring(A+1)):j=c[E],p(j,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,mi(this,c.u),this.h=c.h,Ho(this,ku(c.i)),this.m=c.m):c&&(p=String(c).match(Du))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=vr(p[2]||""),this.g=vr(p[3]||"",!0),mi(this,p[4]),this.h=vr(p[5]||"",!0),Ho(this,p[6]||"",!0),this.m=vr(p[7]||"")):(this.l=!1,this.i=new pi(null,this.l))}yn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Aa(p,ms,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Aa(p,ms,!0),"@"),c.push(Ur(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Aa(E,E.charAt(0)=="/"?Fo:Ou,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Aa(E,Mu)),c.join("")},yn.prototype.resolve=function(c){const p=wt(this);let E=!!c.j;E?Pt(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var A=c.h;if(E)mi(p,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=p.h.lastIndexOf("/");j!=-1&&(A=p.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const Q=[];for(let ie=0;ie<j.length;){const we=j[ie++];we=="."?A&&ie==j.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&ie==j.length&&Q.push("")):(Q.push(we),A=!0)}A=Q.join("/")}else A=j}return E?p.h=A:E=c.i.toString()!=="",E?Ho(p,ku(c.i)):E=!!c.m,E&&(p.m=c.m),p};function wt(c){return new yn(c)}function Pt(c,p,E){c.j=E?vr(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function mi(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Ho(c,p,E){p instanceof pi?(c.i=p,ps(c.i,c.l)):(E||(p=Aa(p,gi)),c.i=new pi(p,c.l))}function Ye(c,p,E){c.i.set(p,E)}function Sa(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vr(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Aa(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,on),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ms=/[#\/\?@]/g,Ou=/[#\?:]/g,Fo=/[#\?]/g,gi=/[#\?@]/g,Mu=/#/g;function pi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ds(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}i=pi.prototype,i.add=function(c,p){ln(this),this.i=null,c=yi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function Vu(c,p){ln(c),p=yi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Go(c,p){return ln(c),p=yi(c,p),c.g.has(p)}i.forEach=function(c,p){ln(this),this.g.forEach(function(E,A){E.forEach(function(j){c.call(p,j,A,this)},this)},this)};function Qo(c,p){ln(c);let E=[];if(typeof p=="string")Go(c,p)&&(E=E.concat(c.g.get(yi(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}i.set=function(c,p){return ln(this),this.i=null,c=yi(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=Qo(this,c),c.length>0?String(c[0]):p):p};function gs(c,p,E){Vu(c,p),E.length>0&&(c.i=null,c.g.set(yi(c,p),D(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var E=p[A];const j=Ur(E);E=Qo(this,E);for(let Q=0;Q<E.length;Q++){let ie=j;E[Q]!==""&&(ie+="="+Ur(E[Q])),c.push(ie)}}return this.i=c.join("&")};function ku(c){const p=new pi;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function yi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ps(c,p){p&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(E,A){const j=A.toLowerCase();A!=j&&(Vu(this,A),gs(this,j,E))},c)),c.j=p}function Kn(c,p){const E=new Fn;if(f.Image){const A=new Image;A.onload=b(xn,E,"TestLoadImage: loaded",!0,p,A),A.onerror=b(xn,E,"TestLoadImage: error",!1,p,A),A.onabort=b(xn,E,"TestLoadImage: abort",!1,p,A),A.ontimeout=b(xn,E,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Ko(c,p){const E=new Fn,A=new AbortController,j=setTimeout(()=>{A.abort(),xn(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(j),Q.ok?xn(E,"TestPingServer: ok",!0,p):xn(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),xn(E,"TestPingServer: error",!1,p)})}function xn(c,p,E,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(E)}catch{}}function vi(){this.g=new Tu}function _r(c){this.i=c.Sb||null,this.h=c.ab||!1}S(_r,Su),_r.prototype.g=function(){return new wa(this.i,this.h)};function wa(c,p){bt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(wa,bt),i=wa.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Yn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ys(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ys(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_i(this):Yn(this),this.readyState==3&&ys(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,_i(this))},i.Na=function(c){this.g&&(this.response=c,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}i.setRequestHeader=function(c,p){this.A.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let p="";return ze(c,function(E,A){p+=A,p+=":",p+=E,p+=`\r
`}),p}function Ra(c,p,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=In(E),typeof c=="string"?E!=null&&Ur(E):Ye(c,p,E))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Je,bt);var Er=/^https?$/i,Yo=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,p,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){Ca(this,Q);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)E.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())E.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||A||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ie]of E)this.g.setRequestHeader(Q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ca(this,Q)}};function Ca(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,$o(c),Pr(c)}function $o(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Pr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pr(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},i.Xa=function(){Na(this)};function Na(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),$n(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var A;if(A=Q===0){let ie=String(c.D).match(Du)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),A=!Er.test(ie?ie.toLowerCase():"")}E=A}if(E)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var j=$n(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",$o(c)}}finally{Pr(c)}}}}function Pr(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||Vt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}i.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),mf(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zr(c){const p={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var E=Nu(c[A]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=p[j]||[];p[j]=Q,Q.push(E)}Ke(p,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function Ei(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=br("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=br("baseRetryDelayMs",5e3,c),this.Za=br("retryDelaySeedMs",1e4,c),this.Ta=br("forwardChannelMaxRetries",2,c),this.va=br("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new vi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ei.prototype,i.ka=8,i.I=1,i.connect=function(c,p,E,A){Tt(0),this.W=c,this.H=p||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=qu(this,null,this.W),Tr(this)};function Xo(c){if(vs(c),c.I==3){var p=c.V++,E=wt(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",p),Ye(E,"TYPE","terminate"),xa(c,E),p=new Gn(c,c.j,p),p.M=2,p.A=Sa(wt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=p.A,E=!0),E||(p.g=Hu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),dr(p)}ju(c)}function bi(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function vs(c){bi(c),c.v&&(f.clearTimeout(c.v),c.v=null),Es(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Tr(c){if(!zo(c.h)&&!c.m){c.m=!0;var p=c.Ea;ue||C(),pe||(ue(),pe=!0),N.add(p,c),c.D=0}}function _s(c,p){return pr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cr(g(c.Ea,c,p),Bu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Gn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=k(Q),se(Q,this.U)):Q=this.U),this.u!==null||this.R||(j.J=Q,Q=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Lu(this,j,p),E=wt(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),xa(this,E),Q&&(this.R?p="headers="+Ur(In(Q))+"&"+p:this.u&&Ra(E,this.u,Q)),Bo(this.h,j),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",p),Ye(E,"SID","null"),j.U=!0,fr(j,E,null)):fr(j,E,p),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,p){var E;p?E=p.l:E=c.V++;const A=wt(c.J);Ye(A,"SID",c.M),Ye(A,"RID",E),Ye(A,"AID",c.K),xa(c,A),c.u&&c.o&&Ra(A,c.u,c.o),E=new Gn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Lu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,E),fr(E,A,p)}function xa(c,p){c.H&&ze(c.H,function(E,A){Ye(p,A,E)}),c.l&&ze({},function(E,A){Ye(p,A,E)})}function Lu(c,p,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const yt=["count="+E];we==-1?E>0?(we=j[0].g,yt.push("ofs="+we)):we=0:yt.push("ofs="+we);let qe=!0;for(let lt=0;lt<E;lt++){var Q=j[lt].g;const Dn=j[lt].map;if(Q-=we,Q<0)we=Math.max(0,j[lt].g-100),qe=!1;else try{Q="req"+Q+"_"||"";try{var ie=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ar,Xn]of ie){let Jn=Xn;m(Xn)&&(Jn=di(Xn)),yt.push(Q+Ar+"="+encodeURIComponent(Jn))}}catch(Ar){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Ar}}catch{A&&A(Dn)}}if(qe){ie=yt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),p.G=c,ie}function Uu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ue||C(),pe||(ue(),pe=!0),N.add(p,c),c.A=0}}function Ia(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cr(g(c.Da,c),Bu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),bi(this),Pu(this))};function Zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=wt(c.na);Ye(p,"RID","rpc"),Ye(p,"SID",c.M),Ye(p,"AID",c.K),Ye(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(p,"TO",c.ia),Ye(p,"TYPE","xmlhttp"),xa(c,p),c.u&&c.o&&Ra(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Sa(wt(p)),E.u=null,E.R=!0,hs(E,c)}i.Va=function(){this.C!=null&&(this.C=null,bi(this),Ia(this),Tt(19))};function Es(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function zu(c,p){var E=null;if(c.g==p){Es(c),Zo(c),c.g=null;var A=2}else if(yr(c.h,p))E=p.G,jo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var j=c.D;A=cs(),Vt(A,new ur(A,E)),Tr(c)}else Uu(c);else if(j=p.m,j==3||j==0&&p.X>0||!(A==1&&_s(c,p)||A==2&&Ia(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),j){case 1:Sr(c,5);break;case 4:Sr(c,10);break;case 3:Sr(c,6);break;default:Sr(c,2)}}}function Bu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function Sr(c,p){if(c.j.info("Error code "+p),p==2){var E=g(c.bb,c),A=c.Ua;const j=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),Sa(A),j?Kn(A.toString(),E):Ko(A.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(p),ju(c),vs(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const p=qo(c.h);(p.length!=0||c.i.length!=0)&&(Y(c.ja,p),Y(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function qu(c,p,E){var A=E instanceof yn?wt(E):new yn(E);if(A.g!="")p&&(A.g=p+"."+A.g),mi(A,A.u);else{var j=f.location;A=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;const Q=new yn(null);A&&Pt(Q,A),p&&(Q.g=p),j&&mi(Q,j),E&&(Q.h=E),A=Q}return E=c.G,p=c.wa,E&&p&&Ye(A,E,p),Ye(A,"VER",c.ka),xa(c,A),A}function Hu(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Je(new _r({ab:E})):new Je(c.ma),p.Fa(c.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}i=Fu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ti(){}Ti.prototype.g=function(c,p){return new rn(c,p)};function rn(c,p){bt.call(this),this.g=new Ei(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!x(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Br(this)}S(rn,bt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Xo(this.g)},rn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=di(c),c=E);p.i.push(new At(p.Ya++,c)),p.I==3&&Tr(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,rn.Z.N.call(this)};function Gu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Gu,qt);function Qu(){Cn.call(this),this.status=1}S(Qu,Cn);function Br(c){this.g=c}S(Br,Fu),Br.prototype.ra=function(){Vt(this.g,"a")},Br.prototype.qa=function(c){Vt(this.g,new Gu(c))},Br.prototype.pa=function(c){Vt(this.g,new Qu)},Br.prototype.oa=function(){Vt(this.g,"b")},Ti.prototype.createWebChannel=Ti.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Bb=function(){return new Ti},zb=function(){return cs()},Pb=pt,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,hh=ba,Lo.COMPLETE="complete",Ub=Lo,Au.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,zl=Au,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Lb=Je}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Ro="12.9.0";function SN(i){Ro=i}const ts=new vg("@firebase/firestore");function Zs(){return ts.logLevel}function ce(i,...e){if(ts.logLevel<=Me.DEBUG){const n=e.map(Dg);ts.debug(`Firestore (${Ro}): ${i}`,...n)}}function ui(i,...e){if(ts.logLevel<=Me.ERROR){const n=e.map(Dg);ts.error(`Firestore (${Ro}): ${i}`,...n)}}function ns(i,...e){if(ts.logLevel<=Me.WARN){const n=e.map(Dg);ts.warn(`Firestore (${Ro}): ${i}`,...n)}}function Dg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function _e(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,jb(i,a,n)}function jb(i,e,n){let a=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw ui(a),new Error(a)}function Ge(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||jb(e,o,a)}function Ae(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class qb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class wN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ge(typeof a.accessToken=="string",31837,{l:a}),new qb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class CN{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NN{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new CN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class Og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=IN(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ve(i,e){return i<e?-1:i>e?1:0}function Hm(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return Rm(o)===Rm(u)?Ve(o,u):Rm(o)?1:-1}return Ve(i.length,e.length)}const DN=55296,ON=57343;function Rm(i){const e=i.charCodeAt(0);return e>=DN&&e<=ON}function ho(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}const T_="__name__";class xr{constructor(e,n,a){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&_e(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=xr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const a=xr.isNumericId(e),o=xr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?xr.extractNumericId(e).compare(xr.extractNumericId(n)):Hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ta.fromString(e.substring(4,e.length-2))}}class rt extends xr{construct(e,n,a){return new rt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends xr{construct(e,n,a){return new $t(e,n,a)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new $t([T_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function Hb(i,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function VN(i,e,n,a){if(e===!0&&a===!0)throw new le(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function S_(i){if(!ge.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function A_(i){if(ge.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Fb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Hh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function jn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(i);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function gu(i,e){if(!Fb(i))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const f=i[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const w_=-62135596800,R_=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*R_);return new st(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w_)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ot("string",st._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new st(0,0))}static max(){return new Te(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function kN(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new st(n+1,0):new st(n,a));return new ia(o,ge.empty(),e)}function LN(i){return new ia(i.readTime,i.key,Wl)}class ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ia(Te.min(),ge.empty(),Wl)}static max(){return new ia(Te.max(),ge.empty(),Wl)}}function UN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}const PN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==PN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,a)=>{n(e)}))}static reject(e){return new re(((n,a)=>{a(e)}))}static waitFor(e){return new re(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>a(y)))})),f=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next((o=>o?re.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new re(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next((b=>{f[g]=b,++m,m===u&&a(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new re(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function BN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(i){return i.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const Mg=-1;function Gh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function jN(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Gb="";function qN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=C_(e)),e=HN(i.get(n),e);return C_(e)}function HN(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Gb:n+="";break;default:n+=u}}return n}function C_(i){return i+Gb+""}function N_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ma(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Qb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Yt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Lt($t.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class Kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Kb("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const FN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=FN.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function sa(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}const Yb="server_timestamp",$b="__type__",Xb="__previous_value__",Jb="__local_write_time__";function Vg(i){return(i?.mapValue?.fields||{})[$b]?.stringValue===Yb}function Qh(i){const e=i.mapValue.fields[Xb];return Vg(e)?Qh(e):e}function eu(i){const e=aa(i.mapValue.fields[Jb].timestampValue);return new st(e.seconds,e.nanos)}class GN{constructor(e,n,a,o,u,f,m,y,g,b,S){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=b,this.apiKey=S}}const Ch="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}function QN(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(i.options.projectId,e)}const Zb="__type__",KN="__max__",eh={mapValue:{}},Wb="__vector__",Nh="value";function oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vg(i)?4:$N(i)?9007199254740991:YN(i)?10:11:_e(28295,{value:i})}function kr(i,e){if(i===e)return!0;const n=oa(i);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eu(i).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=aa(o.timestampValue),m=aa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return sa(o.bytesValue).isEqual(sa(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Et(o.doubleValue),m=Et(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return ho(i.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(N_(f)!==N_(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!kr(f[y],m[y])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function nu(i,e){return(i.values||[]).find((n=>kr(n,e)))!==void 0}function fo(i,e){if(i===e)return 0;const n=oa(i),a=oa(e);if(n!==a)return Ve(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Et(u.integerValue||u.doubleValue),y=Et(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(i,e);case 3:return I_(i.timestampValue,e.timestampValue);case 4:return I_(eu(i),eu(e));case 5:return Hm(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=sa(u),y=sa(f);return m.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const b=Ve(m[g],y[g]);if(b!==0)return b}return Ve(m.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(Et(u.latitude),Et(f.latitude));return m!==0?m:Ve(Et(u.longitude),Et(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return D_(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},g=m[Nh]?.arrayValue,b=y[Nh]?.arrayValue,S=Ve(g?.values?.length||0,b?.values?.length||0);return S!==0?S:D_(g,b)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},b=Object.keys(g);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const R=Hm(y[S],b[S]);if(R!==0)return R;const D=fo(m[y[S]],g[b[S]]);if(D!==0)return D}return Ve(y.length,b.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function I_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=aa(i),a=aa(e),o=Ve(n.seconds,a.seconds);return o!==0?o:Ve(n.nanos,a.nanos)}function D_(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=fo(n[o],a[o]);if(u)return u}return Ve(n.length,a.length)}function mo(i){return Fm(i)}function Fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=aa(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return sa(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Fm(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"})(i.mapValue):_e(61005,{value:i})}function fh(i){switch(oa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+fh(e):16;case 5:return 2*i.stringValue.length;case 6:return sa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+fh(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return ma(a.fields,((u,f)=>{o+=u.length+fh(f)})),o})(i.mapValue);default:throw _e(13486,{value:i})}}function O_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Gm(i){return!!i&&"integerValue"in i}function kg(i){return!!i&&"arrayValue"in i}function M_(i){return!!i&&"nullValue"in i}function V_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function YN(i){return(i?.mapValue?.fields||{})[Zb]?.stringValue===Wb}function Ql(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ma(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Ql(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(i.arrayValue.values[n]);return e}return{...i}}function $N(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===KN}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=$t.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ma(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new gn(Ql(this.value))}}function e1(i){const e=[];return ma(i.fields,((n,a)=>{const o=new $t([n]);if(dh(a)){const u=e1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new wn(e)}class en{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Te.min(),Te.min(),Te.min(),gn.empty(),0)}static newFoundDocument(e,n,a,o){return new en(e,1,n,Te.min(),a,o,0)}static newNoDocument(e,n){return new en(e,2,n,Te.min(),Te.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Te.min(),Te.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xh{constructor(e,n){this.position=e,this.inclusive=n}}function k_(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?a=ge.comparator(ge.fromName(f.referenceValue),n.key):a=fo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function L_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!kr(i.position[n],e.position[n]))return!1;return!0}class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function XN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class t1{}class Dt extends t1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new ZN(e,n,a):n==="array-contains"?new tx(e,a):n==="in"?new nx(e,a):n==="not-in"?new rx(e,a):n==="array-contains-any"?new ix(e,a):new Dt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new WN(e,a):new ex(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends t1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return n1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function n1(i){return i.op==="and"}function r1(i){return JN(i)&&n1(i)}function JN(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function Qm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+mo(i.value);if(r1(i))return i.filters.map((e=>Qm(e))).join(",");{const e=i.filters.map((n=>Qm(n))).join(",");return`${i.op}(${e})`}}function i1(i,e){return i instanceof Dt?(function(a,o){return o instanceof Dt&&a.op===o.op&&a.field.isEqual(o.field)&&kr(a.value,o.value)})(i,e):i instanceof sr?(function(a,o){return o instanceof sr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&i1(f,o.filters[m])),!0):!1})(i,e):void _e(19439)}function a1(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(i):i instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(a1).join(" ,")+"}"})(i):"Filter"}class ZN extends Dt{constructor(e,n,a){super(e,n,a),this.key=ge.fromName(a.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class WN extends Dt{constructor(e,n){super(e,"in",n),this.keys=s1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ex extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=s1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function s1(i,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class tx extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&nu(n.arrayValue,this.value)}}class nx extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class rx extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class ix extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>nu(this.value.arrayValue,a)))}}class ax{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function U_(i,e=null,n=[],a=[],o=null,u=null,f=null){return new ax(i,e,n,a,o,u,f)}function Lg(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Qm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>mo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>mo(a))).join(",")),e.Te=n}return e.Te}function Ug(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!XN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!i1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!L_(i.startAt,e.startAt)&&L_(i.endAt,e.endAt)}function Km(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class xo{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sx(i,e,n,a,o,u,f,m){return new xo(i,e,n,a,o,u,f,m)}function Kh(i){return new xo(i)}function P_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ox(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function o1(i){return i.collectionGroup!==null}function Kl(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt($t.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ru(u,a))})),n.has($t.keyField().canonicalString())||e.Ie.push(new ru($t.keyField(),a))}return e.Ie}function Dr(i){const e=Ae(i);return e.Ee||(e.Ee=lx(e,Kl(i))),e.Ee}function lx(i,e){if(i.limitType==="F")return U_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ru(o.field,u)}));const n=i.endAt?new xh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new xh(i.startAt.position,i.startAt.inclusive):null;return U_(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Ym(i,e){const n=i.filters.concat([e]);return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function ux(i,e){const n=i.explicitOrderBy.concat([e]);return new xo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function $m(i,e,n){return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yh(i,e){return Ug(Dr(i),Dr(e))&&i.limitType===e.limitType}function l1(i){return`${Lg(Dr(i))}|lt:${i.limitType}`}function Ws(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>a1(o))).join(", ")}]`),Gh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${a})`})(Dr(i))}; limitType=${i.limitType})`}function $h(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ge.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of Kl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,y){const g=k_(f,m,y);return f.inclusive?g<=0:g<0})(a.startAt,Kl(a),o)||a.endAt&&!(function(f,m,y){const g=k_(f,m,y);return f.inclusive?g>=0:g>0})(a.endAt,Kl(a),o))})(i,e)}function cx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function u1(i){return(e,n)=>{let a=!1;for(const o of Kl(i)){const u=hx(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function hx(i,e,n){const a=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?fo(y,g):_e(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:i.dir})}}class is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return Qb(this.inner)}size(){return this.innerSize}}const fx=new ht(ge.comparator);function ci(){return fx}const c1=new ht(ge.comparator);function Bl(...i){let e=c1;for(const n of i)e=e.insert(n.key,n);return e}function h1(i){let e=c1;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function $a(){return Yl()}function f1(){return Yl()}function Yl(){return new is((i=>i.toString()),((i,e)=>i.isEqual(e)))}const dx=new ht(ge.comparator),mx=new Lt(ge.comparator);function ke(...i){let e=mx;for(const n of i)e=e.add(n);return e}const gx=new Lt(Ve);function px(){return gx}function Pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function d1(i){return{integerValue:""+i}}function yx(i,e){return jN(e)?d1(e):Pg(i,e)}class Xh{constructor(){this._=void 0}}function vx(i,e,n){return i instanceof Ih?(function(o,u){const f={fields:{[$b]:{stringValue:Yb},[Jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vg(u)&&(u=Qh(u)),u&&(f.fields[Xb]=u),{mapValue:f}})(n,e):i instanceof iu?g1(i,e):i instanceof au?p1(i,e):(function(o,u){const f=m1(o,u),m=z_(f)+z_(o.Ae);return Gm(f)&&Gm(o.Ae)?d1(m):Pg(o.serializer,m)})(i,e)}function _x(i,e,n){return i instanceof iu?g1(i,e):i instanceof au?p1(i,e):n}function m1(i,e){return i instanceof Dh?(function(a){return Gm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Ih extends Xh{}class iu extends Xh{constructor(e){super(),this.elements=e}}function g1(i,e){const n=y1(e);for(const a of i.elements)n.some((o=>kr(o,a)))||n.push(a);return{arrayValue:{values:n}}}class au extends Xh{constructor(e){super(),this.elements=e}}function p1(i,e){let n=y1(e);for(const a of i.elements)n=n.filter((o=>!kr(o,a)));return{arrayValue:{values:n}}}class Dh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function z_(i){return Et(i.integerValue||i.doubleValue)}function y1(i){return kg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Ex(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof iu&&o instanceof iu||a instanceof au&&o instanceof au?ho(a.elements,o.elements,kr):a instanceof Dh&&o instanceof Dh?kr(a.Ae,o.Ae):a instanceof Ih&&o instanceof Ih})(i.transform,e.transform)}class bx{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Jh{}function v1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zg(i.key,qn.none()):new pu(i.key,i.data,qn.none());{const n=i.data,a=gn.empty();let o=new Lt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ga(i.key,a,new wn(o.toArray()),qn.none())}}function Tx(i,e,n){i instanceof pu?(function(o,u,f){const m=o.value.clone(),y=j_(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ga?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=j_(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(_1(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(i,e,n,a){return i instanceof pu?(function(u,f,m,y){if(!mh(u.precondition,f))return m;const g=u.value.clone(),b=q_(u.fieldTransforms,y,f);return g.setAll(b),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,a):i instanceof ga?(function(u,f,m,y){if(!mh(u.precondition,f))return m;const g=q_(u.fieldTransforms,y,f),b=f.data;return b.setAll(_1(u)),b.setAll(g),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(i,e,n,a):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function Sx(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=m1(a.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(a.field,u))}return n||null}function B_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ho(a,o,((u,f)=>Ex(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pu extends Jh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ga extends Jh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function j_(i,e,n){const a=new Map;Ge(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,_x(f,m,n[o]))}return a}function q_(i,e,n){const a=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);a.set(o.field,vx(u,f,e))}return a}class zg extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wx{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Tx(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=f1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=v1(f,m);y!==null&&a.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Te.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,a)=>B_(n,a)))&&ho(this.baseMutations,e.baseMutations,((n,a)=>B_(n,a)))}}class Bg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ge(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return dx})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Bg(e,n,a,o)}}class Rx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Cx{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Pe;function Nx(i){switch(i){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function E1(i){if(i===void 0)return ui("GRPC error has no .code"),ee.UNKNOWN;switch(i){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:i})}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";function xx(){return new TextEncoder}const Ix=new ta([4294967295,4294967295],0);function H_(i){const e=xx().encode(i),n=new kb;return n.update(e),new Uint8Array(n.digest())}function F_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ta([n,a],0),new ta([o,u],0)]}class jg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(a<0)throw new jl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ta.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ta.fromNumber(a)));return o.compare(Ix)===1&&(o=new ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=H_(e),[a,o]=F_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jg(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=H_(e),[a,o]=F_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Zh(Te.min(),o,new ht(Ve),ci(),ke())}}class yu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new yu(a,n,ke(),ke(),ke())}}class gh{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class b1{constructor(e,n){this.targetId=e,this.Ce=n}}class T1{constructor(e,n,a=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class G_{constructor(){this.ve=0,this.Fe=Q_(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),a=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=Q_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ci(),this.He=th(),this.Je=th(),this.Ze=new ht(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Km(u))if(a===0){const f=new ge(u.path);this.et(n,f,en.newNoDocument(f,Te.min()))}else Ge(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=sa(a).toUint8Array()}catch(y){if(y instanceof Kb)return ns("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new jg(f,o,u)}catch(y){return ns(y instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Km(m.target)){const y=new ge(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,en.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let a=ke();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ze,this.je,a);return this.je=ci(),this.He=th(),this.Je=th(),this.Ze=new ht(Ve),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new G_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ht(ge.comparator)}function Q_(){return new ht(ge.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vx={and:"AND",or:"OR"};class kx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Oh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Lx(i,e){return Oh(i,e.toTimestamp())}function Or(i){return Ge(!!i,49232),Te.fromTimestamp((function(n){const a=aa(n);return new st(a.seconds,a.nanos)})(i))}function qg(i,e){return Jm(i,e).canonicalString()}function Jm(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function A1(i){const e=rt.fromString(i);return Ge(x1(e),10190,{key:e.toString()}),e}function Zm(i,e){return qg(i.databaseId,e.path)}function Cm(i,e){const n=A1(e);if(n.get(1)!==i.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(R1(n))}function w1(i,e){return qg(i.databaseId,e)}function Ux(i){const e=A1(i);return e.length===4?rt.emptyPath():R1(e)}function Wm(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function R1(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function K_(i,e,n){return{name:Zm(i,e),fields:n.value.mapValue.fields}}function Px(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Ge(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ge(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const b=g.code===void 0?ee.UNKNOWN:E1(g.code);return new le(b,g.message||"")})(f);n=new T1(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Cm(i,a.document.name),u=Or(a.document.updateTime),f=a.document.createTime?Or(a.document.createTime):Te.min(),m=new gn({mapValue:{fields:a.document.fields}}),y=en.newFoundDocument(o,u,f,m),g=a.targetIds||[],b=a.removedTargetIds||[];n=new gh(g,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Cm(i,a.document),u=a.readTime?Or(a.readTime):Te.min(),f=en.newNoDocument(o,u),m=a.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Cm(i,a.document),u=a.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new Cx(o,u),m=a.targetId;n=new b1(m,f)}}return n}function zx(i,e){let n;if(e instanceof pu)n={update:K_(i,e.key,e.value)};else if(e instanceof zg)n={delete:Zm(i,e.key)};else if(e instanceof ga)n={update:K_(i,e.key,e.data),updateMask:Yx(e.fieldMask)};else{if(!(e instanceof Ax))return _e(16599,{dt:e.type});n={verify:Zm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Lx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(i,e.precondition)),n}function Bx(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?Or(o.updateTime):Or(u);return f.isEqual(Te.min())&&(f=Or(u)),new bx(f,o.transformResults||[])})(n,e)))):[]}function jx(i,e){return{documents:[w1(i,e.path)]}}function qx(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=w1(i,o);const u=(function(g){if(g.length!==0)return N1(sr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((b=>(function(R){return{field:eo(R.field),direction:Gx(R.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Xm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Hx(i){let e=Ux(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ge(a===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(S){const R=C1(S);return R instanceof sr&&r1(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(Y){return new ru(to(Y.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,Gh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(S){const R=!!S.before,D=S.values||[];return new xh(D,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const R=!S.before,D=S.values||[];return new xh(D,R)})(n.endAt)),sx(e,o,f,u,m,"F",y,g)}function Fx(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=to(n.unaryFilter.field);return Dt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((a=>C1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(i):_e(30097,{filter:i})}function Gx(i){return Ox[i]}function Qx(i){return Mx[i]}function Kx(i){return Vx[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return $t.fromServerFormat(i.fieldPath)}function N1(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(M_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(M_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:Qx(n.op),value:n.value}}})(i):i instanceof sr?(function(n){const a=n.getFilters().map((o=>N1(o)));return a.length===1?a[0]:{compositeFilter:{op:Kx(n.op),filters:a}}})(i):_e(54877,{filter:i})}function Yx(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function x1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function I1(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class Xi{constructor(e,n,a,o,u=Te.min(),f=Te.min(),m=Xt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $x{constructor(e){this.yt=e}}function Xx(i){const e=Hx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$m(e,e.limit,"L"):e}class Jx{constructor(){this.Sn=new Zx}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ia.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Zx{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Lt(rt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Lt(rt.comparator)).toArray()}}const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(D1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class go{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new go(0)}static ar(){return new go(-1)}}const $_="LruGarbageCollector",Wx=1048576;function X_([i,e],[n,a]){const o=Ve(i,n);return o===0?Ve(e,a):o}class eI{constructor(e){this.Pr=e,this.buffer=new Lt(X_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();X_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tI{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce($_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ce($_,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class nI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Fh.ce);const a=new eI(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Y_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,u,f,m,y,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,m=Date.now(),this.removeTargets(e,a,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(g=Date.now(),Zs()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(g-y)+`ms
Total Duration: ${g-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function rI(i,e){return new nI(i,e)}class iI{constructor(){this.changes=new is((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sI{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&$l(a.mutation,o,wn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ke()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ke()){const o=$a();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=Bl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=$a();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ke())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=ci();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((y,g)=>{const b=a.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof ga)?u=u.insert(g.key,g):b!==void 0?(f.set(g.key,b.mutation.getFieldMask()),$l(b.mutation,g,b.mutation.getFieldMask(),st.now())):f.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((g,b)=>f.set(g,b))),n.forEach(((g,b)=>m.set(g,new aI(b,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Yl();let o=new ht(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let b=a.get(y)||wn.empty();b=m.applyToLocalView(g,b),a.set(y,b);const S=(o.get(m.batchId)||ke()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,b=y.value,S=f1();b.forEach((R=>{if(!u.has(R)){const D=v1(n.get(R),a.get(R));D!==null&&S.set(R,D),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return re.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return ox(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):re.resolve($a());let m=Wl,y=u;return f.next((g=>re.forEach(g,((b,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((R=>{y=y.insert(b,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,y,g,ke()))).next((b=>({batchId:m,changes:h1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((a=>{let o=Bl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(y=>{const g=(function(S,R){return new xo(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((b=>{b.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((y,g)=>{const b=g.getKey();f.get(b)===null&&(f=f.insert(b,en.newInvalidDocument(b)))}));let m=Bl();return f.forEach(((y,g)=>{const b=u.get(y);b!==void 0&&$l(b.mutation,g,wn.empty(),st.now()),$h(n,g)&&(m=m.insert(y,g))})),m}))}}class oI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Xx(o.bundledQuery),readTime:Or(o.readTime)}})(n)),re.resolve()}}class lI{constructor(){this.overlays=new ht(ge.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=$a();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.bt(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=$a(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>a&&o.set(y.getKey(),y)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ht(((g,b)=>g-b));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let b=u.get(g.largestBatchId);b===null&&(b=$a(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=$a(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return re.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new Rx(n,a));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}class uI{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Hg{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Bt(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new ge(new rt([])),a=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([a,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new rt([])),a=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.qr.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class cI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wx(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Mg:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Lt(Ve);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{a=a.add(m.Hr)}))})),re.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ge.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new ge(u),0);let m=new Lt(Ve);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Hr)),!0)}),f),re.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return re.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Bt(n,0),o=this.Jr.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hI{constructor(e){this.ti=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let a=ci();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ci();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:b}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||UN(LN(b),a)<=0||(o.has(b.key)||$h(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,a,o){_e(9500)}ni(e,n){return re.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new fI(this)}getSize(e){return re.resolve(this.size)}}class fI extends iI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class dI{constructor(e){this.persistence=e,this.ri=new is((n=>Lg(n)),Ug),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.ii=0,this.si=new Hg,this.targetCount=0,this.oi=go._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new go(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),re.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class O1{constructor(e,n){this._i={},this.overlays={},this.ai=new Fh(0),this.ui=!1,this.ui=!0,this.ci=new uI,this.referenceDelegate=e(this),this.li=new dI(this),this.indexManager=new Jx,this.remoteDocumentCache=(function(o){return new hI(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new $x(n),this.Pi=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new cI(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){ce("MemoryPersistence","Starting transaction:",e);const o=new mI(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return re.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class mI extends zN{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.Ri=new Hg,this.Ai=null}static Vi(e){return new Fg(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.fi=new is((a=>qN(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=rI(this,n)}static Vi(e,n){return new Mh(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(a++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}wr(e,n,a){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gg(e,n.fromCache,a,o)}}class gI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return n2()?8:BN(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new gI;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(Zs()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Ws(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(Zs()<=Me.DEBUG&&ce("QueryEngine","Query:",Ws(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Zs()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Ws(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):re.resolve())}gs(e,n){if(P_(n))return re.resolve(null);let a=Dr(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),a=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=ke(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((y=>{const g=this.bs(n,m);return this.Ss(n,g,f,y.readTime)?this.gs(e,$m(n,null,"F")):this.Ds(e,g,n,y)}))))})))))}ps(e,n,a,o){return P_(n)||o.isEqual(Te.min())?re.resolve(null):this.fs.getDocuments(e,a).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,a,o)?re.resolve(null):(Zs()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ws(n)),this.Ds(e,f,n,kN(o,Wl)).next((m=>m)))}))}bs(e,n){let a=new Lt(u1(e));return n.forEach(((o,u)=>{$h(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,a){return Zs()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Ws(n)),this.fs.getDocumentsMatchingQuery(e,n,ia.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Qg="LocalStore",yI=3e8;class vI{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Ve),this.Fs=new is((u=>Lg(u)),Ug),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function _I(i,e,n,a){return new vI(i,e,n,a)}async function M1(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let y=ke();for(const g of o){f.push(g.batchId);for(const b of g.mutations)y=y.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(a,y).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function EI(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,g,b){const S=g.batch,R=S.keys();let D=re.resolve();return R.forEach((Y=>{D=D.next((()=>b.getEntry(y,Y))).next((L=>{const B=g.docVersions.get(Y);Ge(B!==null,48541),L.version.compareTo(B)<0&&(S.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),b.addEntry(L)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let y=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function V1(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function bI(i,e){const n=Ae(i),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((b,S)=>{const R=o.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(u,b.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,S))));let D=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Xt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,a)),o=o.insert(S,D),(function(L,B,U){return L.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=yI?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(R,D,b)&&m.push(n.li.updateTargetData(u,D))}));let y=ci(),g=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(TI(u,f,e.documentUpdates).next((b=>{y=b.Bs,g=b.Ls}))),!a.isEqual(Te.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(b)}return re.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.vs=o,u)))}function TI(i,e,n){let a=ke(),o=ke();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let f=ci();return n.forEach(((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ce(Qg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function SI(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Mg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function AI(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((u=>u?(o=u,re.resolve(o)):n.li.allocateTargetId(a).next((f=>(o=new Xi(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function eg(i,e,n){const a=Ae(i),o=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;ce(Qg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function J_(i,e,n){const a=Ae(i);let o=Te.min(),u=ke();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,b){const S=Ae(y),R=S.Fs.get(b);return R!==void 0?re.resolve(S.vs.get(R)):S.li.getTargetData(g,b)})(a,f,Dr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:ke()))).next((m=>(wI(a,cx(e),m),{documents:m,ks:u})))))}function wI(i,e,n){let a=i.Ms.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Ms.set(e,a)}class Z_{constructor(){this.activeTargetIds=px()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RI{constructor(){this.vo=new Z_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Z_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CI{Mo(e){}shutdown(){}}const W_="ConnectivityMonitor";class eE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(W_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nh=null;function tg(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}const Nm="RestConnection",NI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class xI{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Ch?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const f=tg(),m=this.Qo(e,n.toUriEncodedString());ce(Nm,`Sending RPC '${e}' ${f}:`,m,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:g}=new URL(m),b=So(g);return this.zo(e,m,y,a,b).then((S=>(ce(Nm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ns(Nm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S}))}jo(e,n,a,o,u,f){return this.Wo(e,n,a,o,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const a=NI[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class II{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",Pl=(i,e,n)=>{i.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class so extends xI{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!so.c_){const e=zb();Pl(e,Pb.STAT_EVENT,(n=>{n.stat===qm.PROXY?ce(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===qm.NOPROXY&&ce(Zt,"STAT_EVENT: detected no buffering proxy")})),so.c_=!0}}zo(e,n,a,o,u){const f=tg();return new Promise(((m,y)=>{const g=new Lb;g.setWithCredentials(!0),g.listenOnce(Ub.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const S=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case hh.TIMEOUT:ce(Zt,`RPC '${e}' ${f} timed out`),y(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const R=g.getStatus();if(ce(Zt,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const Y=D?.error;if(Y&&Y.status&&Y.message){const L=(function(U){const $=U.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf($)>=0?$:ee.UNKNOWN})(Y.status);y(new le(L,Y.message))}else y(new le(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new le(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);ce(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",b,a,15)}))}T_(e,n,a){const o=tg(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const b=f.createWebChannel(g,m);this.I_(b);let S=!1,R=!1;const D=new II({Ho:Y=>{R?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(S||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,Y),b.send(Y))},Jo:()=>b.close()});return Pl(b,zl.EventType.OPEN,(()=>{R||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),D.i_())})),Pl(b,zl.EventType.CLOSE,(()=>{R||(R=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),D.o_(),this.E_(b))})),Pl(b,zl.EventType.ERROR,(Y=>{R||(R=!0,ns(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),D.o_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),Pl(b,zl.EventType.MESSAGE,(Y=>{if(!R){const L=Y.data[0];Ge(!!L,16349);const B=L,U=B?.error||B[0]?.error;if(U){ce(Zt,`RPC '${e}' stream ${o} received error:`,U);const $=U.status;let X=(function(pe){const N=It[pe];if(N!==void 0)return E1(N)})($),oe=U.message;$==="NOT_FOUND"&&oe.includes("database")&&oe.includes("does not exist")&&oe.includes(this.databaseId.database)&&ns(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),X===void 0&&(X=ee.INTERNAL,oe="Unknown error status: "+$+" with message "+U.message),R=!0,D.o_(new le(X,oe)),b.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,L),D.__(L)}})),so.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Bb()}}function DI(i){return new so(i)}function xm(){return typeof document<"u"?document:null}function Wh(i){return new kx(i,!0)}so.c_=!1;class k1{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tE="PersistentStream";class L1{constructor(e,n,a,o,u,f,m,y){this.Ci=e,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OI extends L1{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Px(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Or(f.readTime):Te.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=Km(y)?{documents:jx(u,y)}:{query:qx(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=S1(u,f.resumeToken);const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const g=Xm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=Fx(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.K_(n)}}class MI extends L1{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Bx(e.writeResults,e.commitTime),a=Or(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Wm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>zx(this.serializer,a)))};this.K_(n)}}class VI{}class kI extends VI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,Jm(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}jo(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Jm(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function LI(i,e,n,a){return new kI(i,e,n,a)}class UI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ui(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const rs="RemoteStore";class PI{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{as(this)&&(ce(rs,"Restarting streams for network reachability change."),await(async function(y){const g=Ae(y);g.Ea.add(4),await vu(g),g.Va.set("Unknown"),g.Ea.delete(4),await ef(g)})(this))}))})),this.Va=new UI(a,o)}}async function ef(i){if(as(i))for(const e of i.Ra)await e(!0)}async function vu(i){for(const e of i.Ra)await e(!1)}function U1(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xg(n)?$g(n):Io(n).O_()&&Yg(n,e))}function Kg(i,e){const n=Ae(i),a=Io(n);n.Ia.delete(e),a.O_()&&P1(n,e),n.Ia.size===0&&(a.O_()?a.L_():as(n)&&n.Va.set("Unknown"))}function Yg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(i).Z_(e)}function P1(i,e){i.da.$e(e),Io(i).X_(e)}function $g(i){i.da=new Dx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.Va.ua()}function Xg(i){return as(i)&&!Io(i).x_()&&i.Ia.size>0}function as(i){return Ae(i).Ea.size===0}function z1(i){i.da=void 0}async function zI(i){i.Va.set("Online")}async function BI(i){i.Ia.forEach(((e,n)=>{Yg(i,e)}))}async function jI(i,e){z1(i),Xg(i)?(i.Va.ha(e),$g(i)):i.Va.set("Unknown")}async function qI(i,e,n){if(i.Va.set("Online"),e instanceof T1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(a){ce(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Vh(i,a)}else if(e instanceof gh?i.da.Xe(e):e instanceof b1?i.da.st(e):i.da.tt(e),!n.isEqual(Te.min()))try{const a=await V1(i.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,g)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),P1(u,y);const S=new Xi(b.target,y,g,b.sequenceNumber);Yg(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(a){ce(rs,"Failed to raise snapshot:",a),await Vh(i,a)}}async function Vh(i,e,n){if(!No(e))throw e;i.Ea.add(1),await vu(i),i.Va.set("Offline"),n||(n=()=>V1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ce(rs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await ef(i)}))}function B1(i,e){return e().catch((n=>Vh(i,n,e)))}async function tf(i){const e=Ae(i),n=la(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mg;for(;HI(e);)try{const o=await SI(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,FI(e,o)}catch(o){await Vh(e,o)}j1(e)&&q1(e)}function HI(i){return as(i)&&i.Ta.length<10}function FI(i,e){i.Ta.push(e);const n=la(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function j1(i){return as(i)&&!la(i).x_()&&i.Ta.length>0}function q1(i){la(i).start()}async function GI(i){la(i).ra()}async function QI(i){const e=la(i);for(const n of i.Ta)e.ea(n.mutations)}async function KI(i,e,n){const a=i.Ta.shift(),o=Bg.from(a,e,n);await B1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await tf(i)}async function YI(i,e){e&&la(i).Y_&&await(async function(a,o){if((function(f){return Nx(f)&&f!==ee.ABORTED})(o.code)){const u=a.Ta.shift();la(a).B_(),await B1(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tf(a)}})(i,e),j1(i)&&q1(i)}async function nE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ce(rs,"RemoteStore received new credentials");const a=as(n);n.Ea.add(3),await vu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function $I(i,e){const n=Ae(i);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function Io(i){return i.ma||(i.ma=(function(n,a,o){const u=Ae(n);return u.sa(),new OI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:zI.bind(null,i),Yo:BI.bind(null,i),t_:jI.bind(null,i),J_:qI.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Xg(i)?$g(i):i.Va.set("Unknown")):(await i.ma.stop(),z1(i))}))),i.ma}function la(i){return i.fa||(i.fa=(function(n,a,o){const u=Ae(n);return u.sa(),new MI(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GI.bind(null,i),t_:YI.bind(null,i),ta:QI.bind(null,i),na:KI.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await tf(i)):(await i.fa.stop(),i.Ta.length>0&&(ce(rs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Jg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Jg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(i,e){if(ui("AsyncQueue",`${e}: ${i}`),No(i))return new le(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ge.comparator(n.key,a.key):(n,a)=>ge.comparator(n.key,a.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new oo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class rE{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class po{constructor(e,n,a,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(e,n,oo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class XI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class JI{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ae(n),u=o.queries;o.queries=iE(),u.forEach(((f,m)=>{for(const y of m.ba)y.onError(a)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function iE(){return new is((i=>l1(i)),Yh)}async function H1(i,e){const n=Ae(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(a=2):(u=new XI,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Zg(f,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Wg(n)}async function F1(i,e){const n=Ae(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function ZI(i,e){const n=Ae(i);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(a=!0);f.wa=o}}a&&Wg(n)}function WI(i,e,n){const a=Ae(i),o=a.queries.get(e);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(e)}function Wg(i){i.Ca.forEach((e=>{e.next()}))}var ng,aE;(aE=ng||(ng={})).Ma="default",aE.Cache="cache";class G1{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new po(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ng.Cache}}class Q1{constructor(e){this.key=e}}class K1{constructor(e){this.key=e}}class e4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=u1(e),this.tu=new oo(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new rE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,S)=>{const R=o.get(b),D=$h(this.query,S)?S:null,Y=!!R&&this.mutatedKeys.has(R.key),L=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let B=!1;R&&D?R.data.isEqual(D.data)?Y!==L&&(a.track({type:3,doc:D}),B=!0):this.su(R,D)||(a.track({type:2,doc:D}),B=!0,(y&&this.eu(D,y)>0||g&&this.eu(D,g)<0)&&(m=!0)):!R&&D?(a.track({type:0,doc:D}),B=!0):R&&!D&&(a.track({type:1,doc:R}),B=!0,(y||g)&&(m=!0)),B&&(D?(f=f.add(D),u=L?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),a.track({type:1,doc:b})}return{tu:f,iu:a,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(D,Y){const L=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:B})}};return L(D)-L(Y)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,g=y!==this.Xa;return this.Xa=y,f.length!==0||g?{snapshot:new po(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new K1(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new Q1(a))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ep="SyncEngine";class t4{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class n4{constructor(e){this.key=e,this.hu=!1}}class r4{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new is((m=>l1(m)),Yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ge.comparator),this.Au=new Map,this.Vu=new Hg,this.du={},this.mu=new Map,this.fu=go.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i4(i,e,n=!0){const a=W1(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Y1(a,e,n,!0),o}async function a4(i,e){const n=W1(i);await Y1(n,e,!0,!1)}async function Y1(i,e,n,a){const o=await AI(i.localStore,Dr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await s4(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&U1(i.remoteStore,o),m}async function s4(i,e,n,a,o){i.pu=(S,R,D)=>(async function(L,B,U,$){let X=B.view.ru(U);X.Ss&&(X=await J_(L.localStore,B.query,!1).then((({documents:N})=>B.view.ru(N,X))));const oe=$&&$.targetChanges.get(B.targetId),ue=$&&$.targetMismatches.get(B.targetId)!=null,pe=B.view.applyChanges(X,L.isPrimaryClient,oe,ue);return oE(L,B.targetId,pe.au),pe.snapshot})(i,S,R,D);const u=await J_(i.localStore,e,!0),f=new e4(e,u.ks),m=f.ru(u.documents),y=yu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,y);oE(i,n,g.au);const b=new t4(e,n,f);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function o4(i,e,n){const a=Ae(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Yh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await eg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Kg(a.remoteStore,o.targetId),rg(a,o.targetId)})).catch(Co)):(rg(a,o.targetId),await eg(a.localStore,o.targetId,!0))}async function l4(i,e){const n=Ae(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Kg(n.remoteStore,a.targetId))}async function u4(i,e,n){const a=p4(i);try{const o=await(function(f,m){const y=Ae(f),g=st.now(),b=m.reduce(((D,Y)=>D.add(Y.key)),ke());let S,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let Y=ci(),L=ke();return y.xs.getEntries(D,b).next((B=>{Y=B,Y.forEach(((U,$)=>{$.isValidDocument()||(L=L.add(U))}))})).next((()=>y.localDocuments.getOverlayedDocuments(D,Y))).next((B=>{S=B;const U=[];for(const $ of m){const X=Sx($,S.get($.key).overlayedDocument);X!=null&&U.push(new ga($.key,X,e1(X.value.mapValue),qn.exists(!0)))}return y.mutationQueue.addMutationBatch(D,g,U,m)})).next((B=>{R=B;const U=B.applyToLocalDocumentSet(S,L);return y.documentOverlayCache.saveOverlays(D,B.batchId,U)}))})).then((()=>({batchId:R.batchId,changes:h1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let g=f.du[f.currentUser.toKey()];g||(g=new ht(Ve)),g=g.insert(m,y),f.du[f.currentUser.toKey()]=g})(a,o.batchId,n),await _u(a,o.changes),await tf(a.remoteStore)}catch(o){const u=Zg(o,"Failed to persist write");n.reject(u)}}async function $1(i,e){const n=Ae(i);try{const a=await bI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await _u(n,a,e)}catch(a){await Co(a)}}function sE(i,e,n){const a=Ae(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Ae(f);y.onlineState=m;let g=!1;y.queries.forEach(((b,S)=>{for(const R of S.ba)R.va(m)&&(g=!0)})),g&&Wg(y)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function c4(i,e,n){const a=Ae(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new ht(ge.comparator);f=f.insert(u,en.newNoDocument(u,Te.min()));const m=ke().add(u),y=new Zh(Te.min(),new Map,new ht(Ve),f,m);await $1(a,y),a.Ru=a.Ru.remove(u),a.Au.delete(e),tp(a)}else await eg(a.localStore,e,!1).then((()=>rg(a,e,n))).catch(Co)}async function h4(i,e){const n=Ae(i),a=e.batch.batchId;try{const o=await EI(n.localStore,e);J1(n,a,null),X1(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await _u(n,o)}catch(o){await Co(o)}}async function f4(i,e,n){const a=Ae(i);try{const o=await(function(f,m){const y=Ae(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return y.mutationQueue.lookupMutationBatch(g,m).next((S=>(Ge(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(g,S)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>y.localDocuments.getDocuments(g,b)))}))})(a.localStore,e);J1(a,e,n),X1(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await _u(a,o)}catch(o){await Co(o)}}function X1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function J1(i,e,n){const a=Ae(i);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function rg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((a=>{i.Vu.containsKey(a)||Z1(i,a)}))}function Z1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Kg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),tp(i))}function oE(i,e,n){for(const a of n)a instanceof Q1?(i.Vu.addReference(a.key,e),d4(i,a)):a instanceof K1?(ce(ep,"Document no longer in limbo: "+a.key),i.Vu.removeReference(a.key,e),i.Vu.containsKey(a.key)||Z1(i,a.key)):_e(19791,{wu:a})}function d4(i,e){const n=e.key,a=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(a)||(ce(ep,"New document in limbo: "+n),i.Eu.add(a),tp(i))}function tp(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(rt.fromString(e)),a=i.fu.next();i.Au.set(a,new n4(n)),i.Ru=i.Ru.insert(n,a),U1(i.remoteStore,new Xi(Dr(Kh(n.path)),a,"TargetPurposeLimboResolution",Fh.ce))}}async function _u(i,e,n){const a=Ae(i),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,y)=>{f.push(a.pu(y,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Gg.Es(y.targetId,g);u.push(b)}})))})),await Promise.all(f),a.Pu.J_(o),await(async function(y,g){const b=Ae(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>re.forEach(g,(R=>re.forEach(R.Ts,(D=>b.persistence.referenceDelegate.addReference(S,R.targetId,D))).next((()=>re.forEach(R.Is,(D=>b.persistence.referenceDelegate.removeReference(S,R.targetId,D)))))))))}catch(S){if(!No(S))throw S;ce(Qg,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const D=b.vs.get(R),Y=D.snapshotVersion,L=D.withLastLimboFreeSnapshotVersion(Y);b.vs=b.vs.insert(R,L)}}})(a.localStore,u))}async function m4(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ce(ep,"User change. New user:",e.toKey());const a=await M1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new le(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await _u(n,a.Ns)}}function g4(i,e){const n=Ae(i),a=n.Au.get(e);if(a&&a.hu)return ke().add(a.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function W1(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=$1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c4.bind(null,e),e.Pu.J_=ZI.bind(null,e.eventManager),e.Pu.yu=WI.bind(null,e.eventManager),e}function p4(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f4.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _I(this.persistence,new pI,e.initialUser,this.serializer)}Cu(e){return new O1(Fg.Vi,this.serializer)}Du(e){return new RI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class y4 extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tI(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new O1((a=>Mh.Vi(a,n)),this.serializer)}}class ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=m4.bind(null,this.syncEngine),await $I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JI})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),a=DI(e.databaseInfo);return LI(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new PI(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>sE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new CI})())}createSyncEngine(e,n){return(function(o,u,f,m,y,g,b){const S=new r4(o,u,f,m,y,g);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ae(n);ce(rs,"RemoteStore shutting down."),a.Ea.add(5),await vu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ig.provider={build:()=>new ig};class eT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ua="FirestoreClient";class v4{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ce(ua,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ce(ua,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Zg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Im(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ua,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await M1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function lE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await _4(i);ce(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>nE(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>nE(e.remoteStore,o))),i._onlineComponents=e}async function _4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ua,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ns("Error using user provided cache. Falling back to memory cache: "+n),await Im(i,new kh)}}else ce(ua,"Using default OfflineComponentProvider"),await Im(i,new y4(void 0));return i._offlineComponents}async function tT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ua,"Using user provided OnlineComponentProvider"),await lE(i,i._uninitializedComponentsProvider._online)):(ce(ua,"Using default OnlineComponentProvider"),await lE(i,new ig))),i._onlineComponents}function E4(i){return tT(i).then((e=>e.syncEngine))}async function ag(i){const e=await tT(i),n=e.eventManager;return n.onListen=i4.bind(null,e.syncEngine),n.onUnlisten=o4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l4.bind(null,e.syncEngine),n}function b4(i,e,n,a){const o=new eT(a),u=new G1(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>H1(await ag(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>F1(await ag(i),u)))}}function T4(i,e,n={}){const a=new na;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,g){const b=new eT({next:R=>{b.Nu(),f.enqueueAndForget((()=>F1(u,S)));const D=R.docs.has(m);!D&&R.fromCache?g.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&R.fromCache&&y&&y.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new G1(Kh(m.path),b,{includeMetadataChanges:!0,Ka:!0});return H1(u,S)})(await ag(i),i.asyncQueue,e,n,a))),a.promise}function S4(i,e){const n=new na;return i.asyncQueue.enqueueAndForget((async()=>u4(await E4(i),e,n))),n.promise}function nT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const A4="ComponentProvider",uE=new Map;function w4(i,e,n,a,o){return new GN(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,nT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const rT="firestore.googleapis.com",cE=!0;class hE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=cE}else this.host=e.host,this.ssl=e.ssl??cE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wx)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new AN;switch(a.type){case"firstParty":return new NN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=uE.get(n);a&&(ce(A4,"Removing Datastore"),uE.delete(n),a.terminate())})(this),Promise.resolve()}}function R4(i,e,n,a={}){i=jn(i,nf);const o=So(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(JE(`https://${m}`),ZE("Firestore",!0)),u.host!==rT&&u.host!==m&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:a};if(!Za(y,f)&&(i._setSettings(y),a.mockUserToken)){let g,b;if(typeof a.mockUserToken=="string")g=a.mockUserToken,b=Wt.MOCK_USER;else{g=Kw(a.mockUserToken,i._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wt(S)}i._authCredentials=new wN(new qb(g,b))}}class ss{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class gt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(gu(n,gt._jsonSchema))return new gt(e,a||null,new ge(rt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ot("string",gt._jsonSchemaVersion),referencePath:Ot("string")};class ra extends ss{constructor(e,n,a){super(e,n,Kh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ge(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function ca(i,e,...n){if(i=jt(i),Hb("collection","path",e),i instanceof nf){const a=rt.fromString(e,...n);return A_(a),new ra(i,null,a)}{if(!(i instanceof gt||i instanceof ra))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(rt.fromString(e,...n));return A_(a),new ra(i.firestore,null,a)}}function sn(i,e,...n){if(i=jt(i),arguments.length===1&&(e=Og.newId()),Hb("doc","path",e),i instanceof nf){const a=rt.fromString(e,...n);return S_(a),new gt(i,null,new ge(a))}{if(!(i instanceof gt||i instanceof ra))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(rt.fromString(e,...n));return S_(a),new gt(i.firestore,i instanceof ra?i.converter:null,new ge(a))}}const fE="AsyncQueue";class dE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k1(this,"async_queue_retry"),this._c=()=>{const a=xm();a&&ce(fE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;ce(fE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ui("INTERNAL UNHANDLED ERROR: ",mE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Jg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:mE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ha extends nf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new dE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function C4(i,e){const n=typeof i=="object"?i:nb(),a=typeof i=="string"?i:Ch,o=Eg(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Gw("firestore");u&&R4(o,...u)}return o}function np(i){if(i._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||N4(i),i._firestoreClient}function N4(i){const e=i._freezeSettings(),n=w4(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new v4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ot("string",Bn._jsonSchemaVersion),bytes:Ot("string")};class rp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ip{constructor(e){this._methodName=e}}class Mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:Ot("string",Mr._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class ir{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ir(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Ot("string",ir._jsonSchemaVersion),vectorValues:Ot("object")};const x4=/^__.*__$/;class I4{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class iT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:i})}}class ap{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Lh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(aT(this.dataSource)&&x4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class D4{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Wh(e)}createContext(e,n,a,o=!1){return new ap({dataSource:e,methodName:n,targetDoc:a,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(i){const e=i._freezeSettings(),n=Wh(i._databaseId);return new D4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function sT(i,e,n,a,o,u={}){const f=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);sp("Data must be an object, but it was:",f,a);const m=oT(a,f);let y,g;if(u.merge)y=new wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const R=yo(e,S,n);if(!f.contains(R))throw new le(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);cT(b,R)||b.push(R)}y=new wn(b),g=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,g=f.fieldTransforms;return new I4(new gn(m),y,g)}class af extends ip{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function O4(i,e,n,a){const o=i.createContext(1,e,n);sp("Data must be an object, but it was:",o,a);const u=[],f=gn.empty();ma(a,((y,g)=>{const b=uT(e,y,n);g=jt(g);const S=o.childContextForFieldPath(b);if(g instanceof af)u.push(b);else{const R=Eu(g,S);R!=null&&(u.push(b),f.set(b,R))}}));const m=new wn(u);return new iT(f,m,o.fieldTransforms)}function M4(i,e,n,a,o,u){const f=i.createContext(1,e,n),m=[yo(e,a,n)],y=[o];if(u.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(yo(e,u[R])),y.push(u[R+1]);const g=[],b=gn.empty();for(let R=m.length-1;R>=0;--R)if(!cT(g,m[R])){const D=m[R];let Y=y[R];Y=jt(Y);const L=f.childContextForFieldPath(D);if(Y instanceof af)g.push(D);else{const B=Eu(Y,L);B!=null&&(g.push(D),b.set(D,B))}}const S=new wn(g);return new iT(b,S,f.fieldTransforms)}function V4(i,e,n,a=!1){return Eu(n,i.createContext(a?4:3,e))}function Eu(i,e){if(lT(i=jt(i)))return sp("Unsupported field value:",e,i),oT(i,e);if(i instanceof ip)return(function(a,o){if(!aT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let y=Eu(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=jt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=st.fromDate(a);return{timestampValue:Oh(o.serializer,u)}}if(a instanceof st){const u=new st(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(a instanceof Mr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bn)return{bytesValue:S1(o.serializer,a._byteString)};if(a instanceof gt){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ir)return(function(f,m){const y=f instanceof ir?f.toArray():f;return{mapValue:{fields:{[Zb]:{stringValue:Wb},[Nh]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return Pg(m.serializer,b)}))}}}}}})(a,o);if(I1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hh(a)}`)})(i,e)}function oT(i,e){const n={};return Qb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(i,((a,o)=>{const u=Eu(o,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function lT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Mr||i instanceof Bn||i instanceof gt||i instanceof ip||i instanceof ir||I1(i))}function sp(i,e,n){if(!lT(n)||!Fb(n)){const a=Hh(n);throw a==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+a)}}function yo(i,e,n){if((e=jt(e))instanceof rp)return e._internalPath;if(typeof e=="string")return uT(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const k4=new RegExp("[~\\*/\\[\\]]");function uT(i,e,n){if(e.search(k4)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rp(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lh(i,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${a}`),f&&(y+=` in document ${o}`),y+=")"),new le(ee.INVALID_ARGUMENT,m+i+y)}function cT(i,e){return i.some((n=>n.isEqual(e)))}class L4{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ma(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Nh].arrayValue?.values?.map((a=>Et(a.doubleValue)));return new ir(n)}convertGeoPoint(e){return new Mr(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Qh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=aa(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=rt.fromString(e);Ge(x1(a),9688,{name:e});const o=new tu(a.get(1),a.get(3)),u=new ge(a.popFirst(5));return o.isEqual(n)||ui(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class hT extends L4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}const gE="@firebase/firestore",pE="4.11.0";function yE(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class fT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U4 extends fT{data(){return super.data()}}function P4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class op{}class dT extends op{}function sf(i,e,...n){let a=[];e instanceof op&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((y=>y instanceof up)).length,m=u.filter((y=>y instanceof lp)).length;if(f>1||f>0&&m>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)i=o._apply(i);return i}class lp extends dT{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new lp(e,n,a)}_apply(e){const n=this._parse(e);return mT(e._query,n),new ss(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=rf(e.firestore);return(function(u,f,m,y,g,b,S){let R;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){_E(S,b);const Y=[];for(const L of S)Y.push(vE(y,u,L));R={arrayValue:{values:Y}}}else R=vE(y,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||_E(S,b),R=V4(m,f,S,b==="in"||b==="not-in");return Dt.create(g,b,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class up extends op{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new up(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)mT(f,y),f=Ym(f,y)})(e._query,n),new ss(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cp extends dT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(u,f)})(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,ux(e._query,n))}}function of(i,e="asc"){const n=e,a=yo("orderBy",i);return cp._create(a,n)}function vE(i,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o1(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(a))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return O_(i,new ge(a))}if(n instanceof gt)return O_(i,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function _E(i,e){if(!Array.isArray(i)||i.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gT(i,e,n){let a;return a=i?i.toFirestore(e):e,a}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ja extends fT{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(yo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ja._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ja._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ja._jsonSchema={type:Ot("string",Ja._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class ph extends Ja{data(e={}){return super.data(e)}}class lo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new ph(this._firestore,this._userDataWriter,a.key,a,new ql(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:z4(m.type),doc:y,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ot("string",lo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function sg(i){i=jn(i,gt);const e=jn(i.firestore,ha),n=np(e);return T4(n,i._key).then((a=>pT(e,i,a)))}function B4(i,e,n){i=jn(i,gt);const a=jn(i.firestore,ha),o=gT(i.converter,e),u=rf(a);return hf(a,[sT(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,qn.none())])}function Ji(i,e,n,...a){i=jn(i,gt);const o=jn(i.firestore,ha),u=rf(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof rp?M4(u,"updateDoc",i._key,e,n,a):O4(u,"updateDoc",i._key,e),hf(o,[f.toMutation(i._key,qn.exists(!0))])}function lf(i){return hf(jn(i.firestore,ha),[new zg(i._key,qn.none())])}function uf(i,e){const n=jn(i.firestore,ha),a=sn(i),o=gT(i.converter,e),u=rf(i.firestore);return hf(n,[sT(u,"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,qn.exists(!1))]).then((()=>a))}function cf(i,...e){i=jt(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yE(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yE(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let u,f,m;if(i instanceof gt)f=jn(i.firestore,ha),m=Kh(i._key.path),u={next:g=>{e[a]&&e[a](pT(f,i,g))},error:e[a+1],complete:e[a+2]};else{const g=jn(i,ss);f=jn(g.firestore,ha),m=g._query;const b=new hT(f);u={next:S=>{e[a]&&e[a](new lo(f,b,g,S))},error:e[a+1],complete:e[a+2]},P4(i._query)}const y=np(f);return b4(y,m,o,u)}function hf(i,e){const n=np(i);return S4(n,e)}function pT(i,e,n){const a=n.docs.get(e._key),o=new hT(i);return new Ja(i,o,e._key,a,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){SN(Ao),uo(new Wa("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new ha(new RN(a.getProvider("auth-internal")),new xN(f,a.getProvider("app-check-internal")),QN(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ea(gE,pE,e),ea(gE,pE,"esm2020")})();const j4={apiKey:"AIzaSyDjssGbT5ZH5pAW6AD8zZd1hEtYJ5rQKPE",authDomain:"forca-tatica.firebaseapp.com",databaseURL:"https://forca-tatica-default-rtdb.firebaseio.com",projectId:"forca-tatica",storageBucket:"forca-tatica.firebasestorage.app",messagingSenderId:"336042214784",appId:"1:336042214784:web:adfdbe720072cc63c02d65",measurementId:"G-P7JNS8G3T7"},yT=tb(j4),fa=_N(yT),q4=new ni,mt=C4(yT);const vT=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();const H4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const F4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase());const EE=i=>{const e=F4(i);return e.charAt(0).toUpperCase()+e.slice(1)};var G4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const K4=F.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:f,...m},y)=>F.createElement("svg",{ref:y,...G4,width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:vT("lucide",o),...!u&&!Q4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,b])=>F.createElement(g,b)),...Array.isArray(u)?u:[u]]));const Fe=(i,e)=>{const n=F.forwardRef(({className:a,...o},u)=>F.createElement(K4,{ref:u,iconNode:e,className:vT(`lucide-${H4(EE(i))}`,`lucide-${i}`,a),...o}));return n.displayName=EE(i),n};const Y4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],bE=Fe("award",Y4);const $4=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],X4=Fe("bold",$4);const J4=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Z4=Fe("calculator",J4);const W4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],TE=Fe("calendar",W4);const eD=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],og=Fe("car",eD);const tD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nD=Fe("chevron-down",tD);const rD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],iD=Fe("chevron-left",rD);const aD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hp=Fe("chevron-right",aD);const sD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oD=Fe("chevron-up",sD);const lD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SE=Fe("circle-alert",lD);const uD=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],cD=Fe("contact",uD);const hD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_T=Fe("eye-off",hD);const fD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ET=Fe("eye",fD);const dD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lg=Fe("file-text",dD);const mD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Dm=Fe("hash",mD);const gD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pD=Fe("info",gD);const yD=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],vD=Fe("italic",yD);const _D=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ED=Fe("link",_D);const bD=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],TD=Fe("list",bD);const SD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AD=Fe("log-out",SD);const wD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vo=Fe("plus",wD);const RD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],su=Fe("save",RD);const CD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ND=Fe("shield",CD);const xD=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],no=Fe("shirt",xD);const ID=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ff=Fe("square-pen",ID);const DD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ou=Fe("trash-2",DD);const OD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MD=Fe("triangle-alert",OD);const VD=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kD=Fe("user-cog",VD);const LD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hl=Fe("user",LD);const UD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bT=Fe("users",UD);const PD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_o=Fe("x",PD),rh=({to:i,icon:e,label:n,collapsed:a})=>v.createElement(yg,{to:i,className:`flex items-center gap-3 p-3 rounded-lg hover:bg-gray-700/50 transition group relative ${a?"justify-center":""}`,title:a?n:""},v.createElement(e,{size:20,className:"text-blue-400"}),!a&&v.createElement("span",{className:"font-medium"},n),a&&v.createElement("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap shadow-lg border border-gray-700 z-50"},n,v.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}))),zD=({href:i,icon:e,label:n,collapsed:a})=>v.createElement("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-3 p-3 rounded-lg hover:bg-purple-500/10 transition group relative ${a?"justify-center":""}`,title:a?n:""},v.createElement(e,{size:20,className:"text-purple-400"}),!a&&v.createElement("span",{className:"font-medium"},n),a&&v.createElement("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-sm rounded-lg opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap shadow-lg border border-gray-700 z-50"},n,v.createElement("div",{className:"absolute -left-1 top-1/2 -translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"}))),BD=({collapsed:i,toggleSidebar:e,user:n,isAdmin:a})=>v.createElement("aside",{className:`${i?"w-16":"w-56"} bg-gray-800/30 border-r border-blue-500/20 transition-all duration-300 h-screen sticky top-0`},v.createElement("div",{className:"p-4 border-b border-blue-500/20"},v.createElement("div",{className:"flex items-center justify-between"},!i&&v.createElement("div",null,v.createElement("h1",{className:"font-bold text-lg"},"FORA TTICA"),v.createElement("p",{className:"text-blue-300 text-xs"},"PMESP")),v.createElement("button",{onClick:e,className:"p-1.5 hover:bg-gray-700/50 rounded-lg transition",title:i?"Expandir menu":"Recolher menu"},i?v.createElement(hp,{size:16}):v.createElement(iD,{size:16})))),v.createElement("nav",{className:"p-2 space-y-1"},v.createElement(rh,{to:"/",icon:lg,label:"Comunicados",collapsed:i}),v.createElement(rh,{to:"/fardamento",icon:no,label:"Fardamentos",collapsed:i}),v.createElement(rh,{to:"/viaturas",icon:og,label:"Viaturas",collapsed:i}),v.createElement(rh,{to:"/hierarquia",icon:bT,label:"Hierarquia",collapsed:i}),v.createElement("div",{className:"pt-4"},v.createElement("p",{className:`text-xs text-gray-500 px-3 mb-2 ${i?"hidden":""}`},"Ferramentas"),v.createElement(zD,{href:"https://saghatz.github.io/Calculadora_Penal_ABCD/",icon:Z4,label:"Calculadora Penal",collapsed:i}))),v.createElement("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-700/50"},v.createElement("div",{className:"flex items-center gap-3"},v.createElement("div",{className:"bg-blue-500/20 p-2 rounded-lg"},v.createElement(Hl,{size:16,className:"text-blue-400"})),!i&&v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("p",{className:"text-sm font-medium truncate"},n?.displayName||"Usurio"),v.createElement("p",{className:"text-xs text-gray-400 truncate"},a?"Administrador":"Usurio"))))),ih=({children:i,user:e,isAdmin:n})=>{const[a,o]=F.useState(!1),u=()=>o(!a);return v.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white font-sans",style:{"--scrollbar-track":"rgba(31, 41, 55, 0.3)","--scrollbar-thumb":"rgba(59, 130, 246, 0.5)"}},v.createElement("div",{className:"flex"},v.createElement(BD,{collapsed:a,toggleSidebar:u,user:e,isAdmin:n}),v.createElement("main",{className:"flex-1 min-h-screen flex flex-col"},v.createElement("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 border-b border-blue-500/20 p-4"},v.createElement("div",{className:"flex justify-between items-center"},v.createElement("div",null,v.createElement("h1",{className:"text-xl font-bold"},"FORA TTICA - PMESP"),v.createElement("p",{className:"text-blue-300 text-xs font-semibold"},"Sistema de Comunicados Operacionais")),v.createElement("div",{className:"flex items-center gap-4"},n&&v.createElement("span",{className:"flex items-center gap-2 bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded-lg text-xs font-bold"},v.createElement(kD,{size:12})," ADMIN"),v.createElement("button",{onClick:()=>lC(fa),className:"bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 px-4 py-2 rounded-lg font-semibold transition border border-red-500/30 flex items-center gap-2"},v.createElement(AD,{size:16})," Sair")))),v.createElement("div",{className:"flex-1 p-6"},v.createElement("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500/20 rounded-xl p-6 fade-in"},i)))))},jD=()=>{const i=()=>{NC(fa,q4).catch(e=>{console.error("Erro no login:",e),alert("Erro ao fazer login. Tente novamente.")})};return v.createElement("div",{className:"h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center p-4"},v.createElement("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 border border-blue-500/30 p-8 rounded-2xl text-center max-w-sm w-full fade-in"},v.createElement("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 w-14 h-14 rounded-xl flex items-center justify-center mx-auto mb-4"},v.createElement(ND,{size:28,className:"text-white"})),v.createElement("h1",{className:"text-2xl font-bold mb-2"},"FORA TTICA"),v.createElement("p",{className:"text-gray-400 text-sm mb-6 font-semibold"},"Painel de Acesso Operacional"),v.createElement("button",{onClick:i,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3 rounded-xl font-bold transition shadow-lg hover:scale-[1.02]"},"LOGAR COM GOOGLE")))},AE=i=>{let e=i;return e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:text-blue-300 underline hover:no-underline transition">$1</a>'),e=e.replace(/\*\*(.*?)\*\*/g,'<strong class="font-bold">$1</strong>'),e=e.replace(/\*(.*?)\*/g,'<em class="italic">$1</em>'),e=e.replace(/### (.*?)(?:\n|$)/g,'<h3 class="text-lg font-bold mt-4 mb-2">$1</h3>'),e=e.replace(/## (.*?)(?:\n|$)/g,'<h2 class="text-xl font-bold mt-4 mb-2">$1</h2>'),e=e.replace(/# (.*?)(?:\n|$)/g,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>'),e=e.replace(/^[-*] (.+)$/gm,'<li class="flex items-start mb-1"><span class="inline-block w-2 h-2 bg-blue-500 rounded-full mr-3 mt-2 flex-shrink-0"></span><span>$1</span></li>'),e=e.replace(/(<li[^>]*>.*?<\/li>\s*)+/g,n=>`<ul class="space-y-2 my-3 ml-1">${n}</ul>`),e=e.replace(/\n/g,"<br>"),e},qD=({isAdmin:i})=>{const[e,n]=F.useState([]),[a,o]=F.useState(null),[u,f]=F.useState(!1),[m,y]=F.useState(null),[g,b]=F.useState({titulo:"",tipo:"INFORMATIVO",conteudo:""});F.useEffect(()=>{const U=sf(ca(mt,"comunicados"),of("createdAt","desc"));return cf(U,$=>{const X=$.docs.map(oe=>({id:oe.id,...oe.data()}));n(i?X:X.filter(oe=>oe.isActive))})},[i]);const S=U=>{o(a===U?null:U)},R=async()=>{if(!g.titulo||!g.conteudo){alert("Preencha ttulo e contedo!");return}const U={...g,createdAt:new Date,createdBy:fa.currentUser?.uid||"",isActive:!0};try{m?await Ji(sn(mt,"comunicados",m.id),U):await uf(ca(mt,"comunicados"),U),f(!1),y(null),b({titulo:"",tipo:"INFORMATIVO",conteudo:""})}catch($){console.error("Erro ao salvar comunicado:",$),alert("Erro ao salvar comunicado. Tente novamente.")}},D=U=>{y(U),b({titulo:U.titulo,tipo:U.tipo,conteudo:U.conteudo}),f(!0)},Y=async U=>{if(window.confirm("Tem certeza que deseja excluir este comunicado?"))try{await lf(sn(mt,"comunicados",U))}catch($){console.error("Erro ao excluir comunicado:",$),alert("Erro ao excluir comunicado. Tente novamente.")}},L=async U=>{try{await Ji(sn(mt,"comunicados",U.id),{isActive:!U.isActive})}catch($){console.error("Erro ao alterar status:",$),alert("Erro ao alterar status. Tente novamente.")}},B=U=>{const $=document.querySelector('textarea[name="conteudo"]');if(!$)return;const X=$.selectionStart,oe=$.selectionEnd,ue=g.conteudo.substring(X,oe);let pe="",N=X;switch(U){case"bold":pe=`**${ue||"texto"}**`,N=X+(ue?0:2);break;case"italic":pe=`*${ue||"texto"}*`,N=X+(ue?0:1);break;case"h1":pe=`# ${ue||"Ttulo Grande"}`,N=X+(ue?0:2);break;case"h2":pe=`## ${ue||"Subttulo"}`,N=X+(ue?0:3);break;case"link":pe=`[${ue||"texto do link"}](https://exemplo.com)`,N=X+(ue?ue.length+3:15);break;case"list":pe=`- ${ue||"item da lista"}`,N=X+(ue?0:2);break}const C=g.conteudo.substring(0,X)+pe+g.conteudo.substring(oe);b({...g,conteudo:C}),setTimeout(()=>{$.focus(),$.setSelectionRange(N,N)},0)};return v.createElement("div",{className:"fade-in"},v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h2",{className:"text-xl font-bold"},"Comunicados Operacionais"),i&&v.createElement("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg font-semibold flex items-center gap-2 transition text-sm"},v.createElement(vo,{size:16})," Novo Comunicado")),v.createElement("div",{className:"space-y-4"},e.length===0?v.createElement("div",{className:"text-center py-12 border-2 border-dashed border-gray-700 rounded-xl"},v.createElement(lg,{size:48,className:"mx-auto text-gray-600 mb-4"}),v.createElement("p",{className:"text-gray-400"},"Nenhum comunicado publicado"),i&&v.createElement("p",{className:"text-sm text-gray-500 mt-2"},'Clique em "Novo Comunicado" para adicionar')):e.map(U=>v.createElement("div",{key:U.id,className:"bg-gray-800/50 border border-blue-500/20 rounded-xl overflow-hidden hover:border-blue-500/40 transition fade-in"},v.createElement("div",{className:"p-4 cursor-pointer hover:bg-gray-800/70 transition",onClick:()=>S(U.id)},v.createElement("div",{className:"flex justify-between items-center"},v.createElement("div",{className:"flex items-center gap-3"},v.createElement("div",{className:`
                      px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1
                      ${U.tipo==="INFORMATIVO"?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"}
                    `},U.tipo==="INFORMATIVO"?v.createElement(pD,{size:12}):v.createElement(MD,{size:12}),U.tipo),v.createElement("div",null,v.createElement("h3",{className:"font-bold"},U.titulo),v.createElement("p",{className:"text-gray-400 text-sm"},U.createdAt?.seconds?new Date(U.createdAt.seconds*1e3).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):U.createdAt?new Date(U.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})))),v.createElement("div",{className:"flex items-center gap-2"},!U.isActive&&v.createElement("span",{className:"text-xs text-red-400 bg-red-500/20 px-2 py-1 rounded"},"OCULTO"),a===U.id?v.createElement(oD,{className:"text-gray-500"}):v.createElement(nD,{className:"text-gray-500"})))),a===U.id&&v.createElement("div",{className:"border-t border-gray-700 p-6 bg-gray-900/50"},v.createElement("div",{className:"prose prose-invert max-w-none mb-6",dangerouslySetInnerHTML:{__html:AE(U.conteudo)}}),i&&v.createElement("div",{className:"flex gap-2 pt-6 border-t border-gray-700"},v.createElement("button",{onClick:()=>D(U),className:"flex-1 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 py-2 rounded text-sm flex items-center justify-center gap-1 transition"},v.createElement(ff,{size:14})," Editar"),v.createElement("button",{onClick:()=>L(U),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded text-sm flex items-center justify-center gap-1 transition"},U.isActive?v.createElement(_T,{size:14}):v.createElement(ET,{size:14}),U.isActive?" Ocultar":" Mostrar"),v.createElement("button",{onClick:()=>Y(U.id),className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 py-2 rounded text-sm flex items-center justify-center gap-1 transition"},v.createElement(ou,{size:14})," Excluir")))))),u&&v.createElement("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-overlay"},v.createElement("div",{className:"bg-gray-800 border border-blue-500/30 p-6 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto fade-in"},v.createElement("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2"},v.createElement(lg,{size:20}),m?"Editar Comunicado":"Novo Comunicado"),v.createElement("div",{className:"space-y-4"},v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},v.createElement("div",{className:"md:col-span-2"},v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Ttulo *"),v.createElement("input",{name:"titulo",value:g.titulo,onChange:U=>b({...g,titulo:U.target.value}),placeholder:"Ttulo do comunicado",className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"})),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Tipo *"),v.createElement("select",{value:g.tipo,onChange:U=>b({...g,tipo:U.target.value}),className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"},v.createElement("option",{value:"INFORMATIVO"},"INFORMATIVO"),v.createElement("option",{value:"INSTRUTIVO"},"INSTRUTIVO")))),v.createElement("div",null,v.createElement("div",{className:"flex justify-between items-center mb-2"},v.createElement("label",{className:"block text-sm text-gray-400"},"Contedo *"),v.createElement("div",{className:"flex gap-2"},v.createElement("button",{onClick:()=>B("h1"),className:"text-xs text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700 transition",title:"Ttulo grande",type:"button"},v.createElement(Dm,{size:12})),v.createElement("button",{onClick:()=>B("h2"),className:"text-xs text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700 transition",title:"Subttulo",type:"button"},v.createElement(Dm,{size:12})," ",v.createElement(Dm,{size:10})),v.createElement("button",{onClick:()=>B("bold"),className:"text-xs text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700 transition",title:"Negrito",type:"button"},v.createElement(X4,{size:12})),v.createElement("button",{onClick:()=>B("italic"),className:"text-xs text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700 transition",title:"Itlico",type:"button"},v.createElement(vD,{size:12})),v.createElement("button",{onClick:()=>B("link"),className:"text-xs text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700 transition",title:"Link",type:"button"},v.createElement(ED,{size:12})),v.createElement("button",{onClick:()=>B("list"),className:"text-xs text-gray-400 hover:text-white p-1 rounded hover:bg-gray-700 transition",title:"Lista",type:"button"},v.createElement(TD,{size:12})))),v.createElement("textarea",{name:"conteudo",value:g.conteudo,onChange:U=>b({...g,conteudo:U.target.value}),placeholder:`Digite o contedo do comunicado...\r
\r
# Ttulo Grande\r
## Subttulo\r
### Subttulo menor\r
\r
**Texto em negrito**\r
*Texto em itlico*\r
\r
- Item de lista 1\r
- Item de lista 2\r
\r
[Texto do link](https://exemplo.com)`,rows:12,className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500 resize-none font-mono text-sm"}),v.createElement("div",{className:"text-xs text-gray-500 mt-1"},"Dica: Use - para criar listas com marcadores")),v.createElement("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700"},v.createElement("h4",{className:"text-sm font-semibold text-gray-400 mb-3"},"Pr-visualizao:"),v.createElement("div",{className:"text-white text-sm min-h-[100px] p-3 bg-gray-800/30 rounded",dangerouslySetInnerHTML:{__html:AE(g.conteudo)}}))),v.createElement("div",{className:"flex gap-2 mt-6"},v.createElement("button",{onClick:R,className:"flex-1 bg-blue-600 py-3 rounded-lg font-semibold text-white hover:bg-blue-700 transition"},v.createElement(su,{size:16,className:"inline mr-2"})," PUBLICAR"),v.createElement("button",{onClick:()=>{f(!1),y(null),b({titulo:"",tipo:"INFORMATIVO",conteudo:""})},className:"flex-1 bg-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-600 transition"},v.createElement(_o,{size:16,className:"inline mr-2"})," CANCELAR")))))},Qi=i=>{const e=i.toLowerCase();return e.includes("operacional")||e.includes("ttico")||e.includes("tatico")?{bg:"bg-gradient-to-br from-blue-600/20 to-blue-700/10",bgStrong:"bg-gradient-to-br from-blue-600 to-blue-700",text:"text-blue-400",border:"border-blue-500/30",borderStrong:"border-blue-500",iconColor:"text-blue-400",dot:"bg-blue-500",badge:"bg-blue-500/20 text-blue-400"}:e.includes("social")||e.includes("gala")||e.includes("cerimonial")?{bg:"bg-gradient-to-br from-purple-600/20 to-purple-700/10",bgStrong:"bg-gradient-to-br from-purple-600 to-purple-700",text:"text-purple-400",border:"border-purple-500/30",borderStrong:"border-purple-500",iconColor:"text-purple-400",dot:"bg-purple-500",badge:"bg-purple-500/20 text-purple-400"}:e.includes("dirio")||e.includes("diario")||e.includes("servio")||e.includes("servico")?{bg:"bg-gradient-to-br from-green-600/20 to-green-700/10",bgStrong:"bg-gradient-to-br from-green-600 to-green-700",text:"text-green-400",border:"border-green-500/30",borderStrong:"border-green-500",iconColor:"text-green-400",dot:"bg-green-500",badge:"bg-green-500/20 text-green-400"}:e.includes("especial")||e.includes("misso")||e.includes("missao")?{bg:"bg-gradient-to-br from-orange-600/20 to-orange-700/10",bgStrong:"bg-gradient-to-br from-orange-600 to-orange-700",text:"text-orange-400",border:"border-orange-500/30",borderStrong:"border-orange-500",iconColor:"text-orange-400",dot:"bg-orange-500",badge:"bg-orange-500/20 text-orange-400"}:{bg:"bg-gradient-to-br from-gray-600/20 to-gray-700/10",bgStrong:"bg-gradient-to-br from-gray-600 to-gray-700",text:"text-gray-400",border:"border-gray-500/30",borderStrong:"border-gray-500",iconColor:"text-gray-400",dot:"bg-gray-500",badge:"bg-gray-500/20 text-gray-400"}},HD=i=>{switch(i){case"ausencia":return"bg-yellow-500/20 text-yellow-400";case"advertencia":return"bg-red-500/20 text-red-400";case"elogio":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}},wE=({farda:i,size:e="medium"})=>{Qi(i.nome);const n={small:{container:"120px",icon:28},medium:{container:"160px",icon:36},large:{container:"240px",icon:52}},a=n[e].container,o=n[e].icon;return v.createElement("div",{style:{width:a,height:a,borderRadius:"12px",overflow:"hidden",position:"relative",flexShrink:0,background:"rgba(31, 41, 55, 0.3)",display:"flex",alignItems:"center",justifyContent:"center"}},i.fotoURL?v.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"}},v.createElement("img",{src:i.fotoURL,alt:i.nome,style:{width:"100%",height:"100%",objectFit:"contain",transform:"scale(1.2)",transformOrigin:"center"},className:"transition-transform duration-300 hover:scale-105",onError:u=>{u.target.style.display="none";const f=u.target.parentElement;f&&(f.innerHTML=`
                <div style="width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(31,41,55,0.5);">
                  <div style="text-align:center">
                    <Shirt size="${o}" style="color:rgba(255,255,255,0.6)" />
                    <div style="color:rgba(255,255,255,0.5);font-size:12px;margin-top:6px;font-weight:600">${i.nome.split(" ")[0]}</div>
                  </div>
                </div>
              `)}}),v.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.3) 100%)",pointerEvents:"none"}})):v.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(31,41,55,0.5)"}},v.createElement("div",{style:{textAlign:"center"}},v.createElement(no,{size:o,style:{color:"rgba(255,255,255,0.6)"}}),v.createElement("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginTop:"8px",fontWeight:"600"}},i.nome.split(" ")[0]))),v.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,border:"2px solid rgba(59, 130, 246, 0.5)",borderRadius:"13px",pointerEvents:"none"}}))},FD=({isAdmin:i})=>{const[e,n]=F.useState([]),[a,o]=F.useState(null),[u,f]=F.useState(!1),[m,y]=F.useState(null),[g,b]=F.useState({nome:"",descricao:"",fotoURL:"",pecas:[{tipo:"",numero:"",textura:"",descricao:""}]});F.useEffect(()=>{const L=sf(ca(mt,"fardamentos"),of("createdAt","desc"));return cf(L,B=>{n(B.docs.map(U=>({id:U.id,...U.data()})))})},[]);const S=async()=>{if(!g.nome){alert("Preencha o nome do fardamento!");return}const L=g.pecas.filter(U=>U.tipo.trim()!==""&&U.numero.trim()!=="").map(U=>({...U,tipo:U.tipo.trim(),numero:U.numero.trim(),textura:U.textura.trim(),descricao:U.descricao.trim()}));if(L.length===0){alert("Adicione pelo menos uma pea vlida (com tipo e nmero)!");return}const B={...g,pecas:L,createdAt:new Date,createdBy:fa.currentUser?.uid||""};try{m?await Ji(sn(mt,"fardamentos",m.id),B):await uf(ca(mt,"fardamentos"),B),f(!1),y(null),b({nome:"",descricao:"",fotoURL:"",pecas:[{tipo:"",numero:"",textura:"",descricao:""}]})}catch(U){console.error("Erro ao salvar fardamento:",U),alert("Erro ao salvar fardamento. Tente novamente.")}},R=L=>{y(L);let B=[];L.pecas&&L.pecas.length>0&&(typeof L.pecas[0]=="object"?B=L.pecas:B=L.pecas.map(U=>{const $=U.split("|").map(w=>w.trim()),X=$[0]||"";let oe="outro",ue="",pe="",N=$.slice(1).join(" | ")||"";X.toLowerCase().includes("mscara")||X.toLowerCase().includes("mascara")?(oe="mascara",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("jaqueta")?(oe="jaqueta",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("camisa")?(oe="camisa",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("cala")||X.toLowerCase().includes("calca")?(oe="calca",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("colete")?(oe="colete",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("chapeu")?(oe="chapeu",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("maos")?(oe="maos",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("sapatos")?(oe="sapatos",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("adesivos")?(oe="adesivos",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("mochila")?(oe="mochila",ue=X.replace(/[^\d]/g,"")):X.toLowerCase().includes("acessorios")?(oe="acessorios",ue=X.replace(/[^\d]/g,"")):(oe="outro",ue=X);const C=U.match(/txt\s*(\d+)/i)||U.match(/textura\s*(\d+)/i);return C&&(pe=C[1]),{tipo:oe,numero:ue,textura:pe,descricao:N}})),b({nome:L.nome,descricao:L.descricao||"",fotoURL:L.fotoURL||"",pecas:B.length>0?B:[{tipo:"",numero:"",textura:"",descricao:""}]}),f(!0)},D=async L=>{if(window.confirm("Tem certeza que deseja excluir este fardamento?"))try{await lf(sn(mt,"fardamentos",L))}catch(B){console.error("Erro ao excluir fardamento:",B),alert("Erro ao excluir fardamento. Tente novamente.")}},Y=L=>{o(L)};return v.createElement("div",{className:"fade-in"},v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("div",null,v.createElement("h2",{className:"text-2xl font-bold flex items-center gap-3"},v.createElement(no,{size:28,className:"text-blue-400"}),"Fardamentos Operacionais"),v.createElement("p",{className:"text-gray-400 text-sm mt-1"},"Catlogo completo de uniformes da Fora Ttica PMESP")),i&&v.createElement("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-5 py-2.5 rounded-xl font-semibold flex items-center gap-2 transition-all hover:scale-105 shadow-lg shadow-blue-500/20"},v.createElement(vo,{size:18})," Novo Fardamento")),v.createElement("div",{className:"flex flex-col lg:flex-row",style:{gap:"48px"}},v.createElement("div",{className:"lg:w-7/12 w-full",style:{display:"flex"}},v.createElement("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/30 border border-blue-500/20 rounded-xl p-8",style:{minHeight:"650px",height:"auto",flex:1,display:"flex",flexDirection:"column",width:"100%"}},v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h3",{className:"font-bold text-lg flex items-center gap-2"},v.createElement("div",{className:"p-2 rounded-lg bg-blue-500/20 border border-blue-500/30"},v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-400"},v.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),v.createElement("path",{d:"M9 12h6"}),v.createElement("path",{d:"M12 9v6"}))),v.createElement("span",{className:"text-white"},"Catlogo de Fardamentos"))),v.createElement("div",{style:{flex:1,overflow:"hidden"}},e.length===0?v.createElement("div",{className:"text-center py-16"},v.createElement("div",{className:"w-24 h-24 mx-auto mb-6 rounded-xl bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 flex items-center justify-center"},v.createElement(no,{size:48,className:"text-gray-600"})),v.createElement("p",{className:"text-gray-400 text-lg"},"Nenhum fardamento cadastrado"),i&&v.createElement("p",{className:"text-sm text-gray-500 mt-2"},'Clique em "Novo Fardamento" para adicionar o primeiro')):v.createElement("div",{className:"space-y-6",style:{maxHeight:"calc(100vh - 200px)",overflowY:"auto",paddingRight:"16px"}},e.map(L=>{const B=Qi(L.nome);return v.createElement("div",{key:L.id,className:`flex items-center p-6 rounded-xl cursor-pointer transition-all duration-300 ${a?.id===L.id?`${B.bg} border-2 ${B.borderStrong} shadow-lg shadow-blue-500/10`:"bg-gray-900/30 hover:bg-gray-800/50 border border-gray-700/30"} group hover:border-blue-500/30`,onClick:()=>Y(L)},v.createElement("div",{className:"flex-shrink-0",style:{marginRight:"24px"}},v.createElement(wE,{farda:L,size:"medium"})),v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("div",{className:"flex justify-between items-start"},v.createElement("div",{className:"flex-1"},v.createElement("div",{className:"flex items-center gap-3 mb-1"},v.createElement("h4",{className:"font-bold text-lg text-white group-hover:text-blue-300 transition-colors"},L.nome),v.createElement("span",{className:`px-3 py-1 rounded-full text-xs ${B.badge} border ${B.border}`},L.pecas?.length||0," peas")),L.descricao&&v.createElement("p",{className:"text-sm text-gray-400 mb-2"},L.descricao),L.pecas&&L.pecas.length>0&&v.createElement("div",{className:"flex items-center gap-2 mt-2 flex-wrap"},L.pecas.slice(0,4).map((U,$)=>{let X="";return typeof U=="string"?X=U.length>15?U.substring(0,15)+"...":U:(X=`${U.tipo?.toUpperCase()||""} ${U.numero||""}`.trim(),U.textura&&(X+=` | TXT ${U.textura}`),X.length>15&&(X=X.substring(0,15)+"...")),v.createElement("span",{key:$,className:"text-xs px-3 py-1 bg-gray-800/50 rounded-full text-gray-300 border border-gray-700/50"},X)}),L.pecas.length>4&&v.createElement("span",{className:"text-xs px-2 py-1 bg-gray-800/50 rounded-lg text-gray-500"},"+",L.pecas.length-4))),v.createElement("div",{className:"flex items-center gap-3"},v.createElement("div",{className:"text-right hidden md:block"},v.createElement("div",{className:"text-xs text-gray-500"},"Criado em"),v.createElement("div",{className:"text-sm text-gray-400"},L.createdAt?.toDate?new Date(L.createdAt.toDate()).toLocaleDateString("pt-BR"):"N/A")),v.createElement(hp,{size:20,className:"text-gray-500 group-hover:text-blue-400 transition-colors"})))))}))))),v.createElement("div",{className:"lg:w-5/12 w-full",style:{display:"flex"}},v.createElement("div",{className:"bg-gradient-to-b from-gray-800/50 to-gray-900/30 border border-blue-500/20 rounded-xl p-8",style:{minHeight:"650px",height:"auto",flex:1,display:"flex",flexDirection:"column",width:"100%"}},a?v.createElement(v.Fragment,null,v.createElement("div",{className:"text-center mb-6"},v.createElement("div",{className:"relative mx-auto mb-4"},v.createElement("div",{style:{marginBottom:"24px"}},v.createElement(wE,{farda:a,size:"large"})),v.createElement("div",{className:`absolute -bottom-2 -right-2 px-4 py-1.5 rounded-full text-xs font-bold ${Qi(a.nome).badge} border ${Qi(a.nome).border}`},a.pecas?.length||0," ITENS")),v.createElement("h3",{className:"text-xl font-bold text-white mb-3"},a.nome),a.descricao&&v.createElement("div",{className:"bg-gray-900/40 rounded-lg p-3 mb-4"},v.createElement("p",{className:"text-sm text-gray-300"},a.descricao))),v.createElement("div",{className:"grid grid-cols-2 gap-3 mb-6"},v.createElement("div",{className:"bg-gray-900/30 rounded-lg p-3 text-center"},v.createElement("div",{className:"text-lg font-bold text-blue-400"},a.pecas?.length||0),v.createElement("div",{className:"text-xs text-gray-400 mt-1"},"Peas")),v.createElement("div",{className:"bg-gray-900/30 rounded-lg p-3 text-center"},v.createElement("div",{className:"text-lg font-bold text-green-400"},a.createdAt?.toDate?new Date(a.createdAt.toDate()).toLocaleDateString("pt-BR"):"N/A"),v.createElement("div",{className:"text-xs text-gray-400 mt-1"},"Cadastro"))),v.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"}},v.createElement("div",{style:{flexShrink:0}},v.createElement("h4",{className:"font-semibold text-gray-300 mb-4 flex items-center gap-2 text-lg border-b border-gray-700 pb-2"},v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-400"},v.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),v.createElement("polyline",{points:"14 2 14 8 20 8"}),v.createElement("path",{d:"M16 13H8"}),v.createElement("path",{d:"M16 17H8"}),v.createElement("path",{d:"M10 9H8"})),"COMPOSIO")),v.createElement("div",{style:{flex:1,overflowY:"auto",paddingRight:"8px",paddingLeft:"4px"}},v.createElement("div",{className:"space-y-4"},a.pecas&&a.pecas.length>0?a.pecas.map((L,B)=>{if(typeof L=="string"){const U=L.split("|").map(oe=>oe.trim()),$=U[0]||"",X=U.slice(1).join(" | ");return v.createElement("div",{key:B,className:"bg-gray-900/40 rounded-lg p-4 hover:bg-gray-800/60 transition-all group border border-gray-700/30 hover:border-blue-500/30"},v.createElement("div",{className:"flex items-center gap-4 mb-3"},v.createElement("div",{className:`w-10 h-10 rounded-lg ${Qi(a.nome).bg} border ${Qi(a.nome).border} flex items-center justify-center flex-shrink-0`},v.createElement("span",{className:"text-base font-bold text-white"},B+1)),v.createElement("div",{className:"flex-1"},v.createElement("h5",{className:"font-semibold text-white text-base"},$))),X&&v.createElement("div",{className:"pl-14"},v.createElement("div",{className:"text-sm text-gray-300 bg-gray-800/50 rounded-lg p-3 border-l-2 border-blue-500/50"},X.split("|").map((oe,ue)=>v.createElement("div",{key:ue,className:"mb-2 last:mb-0"},oe.trim())))))}else{const U=L.tipo?L.tipo.toUpperCase():"",$=L.numero||"",X=L.textura?` | TXT ${L.textura}`:"",oe=L.descricao||"";return v.createElement("div",{key:B,className:"bg-gray-900/40 rounded-lg p-4 hover:bg-gray-800/60 transition-all group border border-gray-700/30 hover:border-blue-500/30"},v.createElement("div",{className:"flex items-center gap-4 mb-3"},v.createElement("div",{className:`w-10 h-10 rounded-lg ${Qi(a.nome).bg} border ${Qi(a.nome).border} flex items-center justify-center flex-shrink-0`},v.createElement("span",{className:"text-base font-bold text-white"},B+1)),v.createElement("div",{className:"flex-1"},v.createElement("h5",{className:"font-semibold text-white text-base"},U," ",$,X))),oe&&v.createElement("div",{className:"pl-14"},v.createElement("div",{className:"text-sm text-gray-300 bg-gray-800/50 rounded-lg p-3 border-l-2 border-blue-500/50"},oe)))}}):v.createElement("div",{className:"text-center py-12 border-2 border-dashed border-gray-700 rounded-lg"},v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"mx-auto text-gray-600 mb-4"},v.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),v.createElement("polyline",{points:"14 2 14 8 20 8"}),v.createElement("path",{d:"M16 13H8"}),v.createElement("path",{d:"M16 17H8"}),v.createElement("path",{d:"M10 9H8"})),v.createElement("p",{className:"text-gray-400 text-lg"},"Nenhuma pea cadastrada"),i&&v.createElement("p",{className:"text-base text-gray-500 mt-2"},"Edite para adicionar peas"))))),i&&v.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-700 mt-4"},v.createElement("button",{onClick:()=>R(a),className:"flex-1 bg-gradient-to-r from-yellow-600/20 to-yellow-700/10 hover:from-yellow-600/30 hover:to-yellow-700/20 text-yellow-400 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all border border-yellow-500/30 hover:border-yellow-500/50"},v.createElement(ff,{size:16})," Editar"),v.createElement("button",{onClick:()=>D(a.id),className:"flex-1 bg-gradient-to-r from-red-600/20 to-red-700/10 hover:from-red-600/30 hover:to-red-700/20 text-red-400 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all border border-red-500/30 hover:border-red-500/50"},v.createElement(ou,{size:16})," Excluir"))):v.createElement("div",{className:"text-center py-12"},v.createElement("div",{className:"w-24 h-24 mx-auto mb-6 rounded-xl bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700 flex items-center justify-center"},v.createElement(no,{size:48,className:"text-gray-600"})),v.createElement("p",{className:"text-gray-400 text-lg"},"Selecione um fardamento"),v.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Clique em um item da lista para ver os detalhes completos"))))),u&&v.createElement("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-overlay"},v.createElement("div",{className:"bg-gray-800 border border-blue-500/30 p-8 rounded-xl w-[95vw] max-w-[1400px] max-h-[90vh] min-h-[700px] overflow-y-auto modal-fardamento-grande fade-in"},v.createElement("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2"},v.createElement(no,{size:24}),m?"Editar Fardamento":"Novo Fardamento"),v.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},v.createElement("div",{className:"space-y-6"},v.createElement("div",null,v.createElement("label",{className:"block text-base text-gray-300 mb-2 font-medium"},"Nome do Fardamento *"),v.createElement("input",{value:g.nome,onChange:L=>b({...g,nome:L.target.value}),placeholder:"Ex: Fardamento Ttico B4",className:"w-full bg-gray-900 border-2 border-blue-500/30 rounded-xl p-4 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 transition-colors"})),v.createElement("div",null,v.createElement("label",{className:"block text-base text-gray-300 mb-2 font-medium"},"Descrio"),v.createElement("textarea",{value:g.descricao,onChange:L=>b({...g,descricao:L.target.value}),placeholder:"Ex: Uso em operaes especiais, composto por...",rows:4,className:"w-full bg-gray-900 border-2 border-blue-500/30 rounded-xl p-4 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 resize-none transition-colors"})),v.createElement("div",null,v.createElement("label",{className:"block text-base text-gray-300 mb-2 font-medium"},"URL da Foto (opcional)"),v.createElement("div",{className:"flex gap-4"},v.createElement("input",{value:g.fotoURL,onChange:L=>b({...g,fotoURL:L.target.value}),placeholder:"https://exemplo.com/foto.jpg",className:"flex-1 bg-gray-900 border-2 border-blue-500/30 rounded-xl p-4 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 transition-colors"}),g.fotoURL&&v.createElement("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-blue-500/30 bg-gray-900/50 flex-shrink-0"},v.createElement("img",{src:g.fotoURL,alt:"Preview",className:"w-full h-full object-cover image-preview",onError:L=>{L.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIGZpbGw9IiMxRjJBM0MiLz48cGF0aCBkPSJNNDggNDhMMzIgNjRMMTYgNDhMMzIgMzJMNDggNDhaIiBmaWxsPSIjM0I4MkVGIi8+PC9zdmc+"}}))))),v.createElement("div",null,v.createElement("div",{className:"flex justify-between items-center mb-4"},v.createElement("label",{className:"block text-base text-gray-300 font-semibold"},"Peas do Fardamento"),v.createElement("button",{onClick:()=>b({...g,pecas:[...g.pecas,{tipo:"",numero:"",textura:"",descricao:""}]}),className:"text-sm bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-4 py-2 rounded-lg flex items-center gap-2 transition hover:scale-105"},v.createElement(vo,{size:16})," Nova Pea")),v.createElement("div",{className:"space-y-4 mb-6 max-h-80 overflow-y-auto p-5 border-2 border-gray-700/30 rounded-xl"},g.pecas.map((L,B)=>v.createElement("div",{key:B,className:"bg-gray-900/50 p-6 rounded-lg border border-gray-700/50 min-h-[280px] mb-6 space-y-4"},v.createElement("div",{className:"flex justify-between items-center mb-4"},v.createElement("span",{className:"text-base text-gray-200 font-medium"},"Pea #",B+1),v.createElement("button",{onClick:()=>{const U=g.pecas.filter(($,X)=>X!==B);b({...g,pecas:U})},className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-2 px-3 py-1.5 bg-red-500/10 rounded-lg hover:bg-red-500/20 transition",disabled:g.pecas.length<=1,title:"Remover pea",type:"button"},v.createElement(_o,{size:14})," Remover")),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5"},v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-300 mb-3 font-medium"},"Tipo *"),v.createElement("select",{value:L.tipo,onChange:U=>{const $=[...g.pecas];$[B]={...L,tipo:U.target.value},b({...g,pecas:$})},className:"w-full bg-gray-800 border-2 border-blue-500/30 rounded-xl px-4 py-3 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30"},v.createElement("option",{value:""},"Selecione o tipo"),v.createElement("option",{value:"chapeu"},"Chapu"),v.createElement("option",{value:"mascara"},"Mscara"),v.createElement("option",{value:"camisa"},"Camisa"),v.createElement("option",{value:"jaqueta"},"Jaqueta"),v.createElement("option",{value:"maos"},"Mos"),v.createElement("option",{value:"colete"},"Colete"),v.createElement("option",{value:"calca"},"Cala"),v.createElement("option",{value:"sapatos"},"Sapatos"),v.createElement("option",{value:"adesivos"},"Adesivos"),v.createElement("option",{value:"acessorios"},"Acessrios"),v.createElement("option",{value:"mochila"},"Mochila"),v.createElement("option",{value:"outro"},"Outro"))),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-300 mb-3 font-medium"},"Nmero *"),v.createElement("input",{type:"text",value:L.numero,onChange:U=>{const $=[...g.pecas];$[B]={...L,numero:U.target.value},b({...g,pecas:$})},placeholder:"Ex: 546, 272, 15",className:"w-full bg-gray-800 border-2 border-blue-500/30 rounded-xl px-4 py-3 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30"})),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-300 mb-3 font-medium"},"Textura"," ",v.createElement("span",{className:"text-gray-400"},"(opcional)")),v.createElement("input",{type:"text",value:L.textura,onChange:U=>{const $=[...g.pecas];$[B]={...L,textura:U.target.value},b({...g,pecas:$})},placeholder:"Ex: 5, 0, 1",className:"w-full bg-gray-800 border-2 border-blue-500/30 rounded-xl px-4 py-3 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30"})),v.createElement("div",{className:"md:col-span-2"},v.createElement("label",{className:"block text-sm text-gray-300 mb-3 font-medium"},"Descrio"," ",v.createElement("span",{className:"text-gray-400"},"(opcional)")),v.createElement("textarea",{value:L.descricao,onChange:U=>{const $=[...g.pecas];$[B]={...L,descricao:U.target.value},b({...g,pecas:$})},placeholder:"Ex: Oficiais usam essa, Uso em treinamentos, etc.",rows:"3",className:"w-full bg-gray-800 border-2 border-blue-500/30 rounded-xl px-4 py-3 text-white text-base outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30"}))),L.tipo&&v.createElement("div",{className:"mt-4 pt-4 border-t border-gray-700/50"},v.createElement("div",{className:"text-sm text-gray-300"},v.createElement("span",{className:"font-semibold"},"Como vai aparecer:")," ",v.createElement("span",{className:"text-gray-100"},L.tipo.toUpperCase()," ",L.numero,L.textura?` | TXT ${L.textura}`:"",L.descricao?` (${L.descricao})`:"")))))),v.createElement("div",{className:"text-sm text-gray-400"},"* Campos obrigatrios: Tipo e Nmero"))),v.createElement("div",{className:"flex gap-6 mt-8"},v.createElement("button",{onClick:S,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 py-4 rounded-lg font-semibold text-white hover:scale-[1.02] transition-transform text-lg min-h-[60px]"},v.createElement(su,{size:18,className:"inline mr-3"})," SALVAR"),v.createElement("button",{onClick:()=>{f(!1),y(null),b({nome:"",descricao:"",fotoURL:"",pecas:[{tipo:"",numero:"",textura:"",descricao:""}]})},className:"flex-1 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 py-4 rounded-xl font-bold text-gray-200 text-base hover:scale-[1.02] transition-all"},v.createElement(_o,{size:18,className:"inline mr-3"})," CANCELAR")))))},GD=({isAdmin:i})=>{const[e,n]=F.useState([]),[a,o]=F.useState(!1),[u,f]=F.useState(null),[m,y]=F.useState({nome:"",modelo:"",velocidadeMax:"",descricao:"",fotoURL:""});F.useEffect(()=>{const D=sf(ca(mt,"viaturas"),of("createdAt","desc"));return cf(D,L=>{n(L.docs.map(B=>({id:B.id,...B.data()})))})},[]);const g=async()=>{if(!m.nome||!m.modelo){alert("Preencha pelo menos nome e modelo!");return}const D={...m,createdAt:new Date,createdBy:fa.currentUser?.uid||""};try{u?await Ji(sn(mt,"viaturas",u.id),D):await uf(ca(mt,"viaturas"),D),o(!1),f(null),y({nome:"",modelo:"",velocidadeMax:"",descricao:"",fotoURL:""})}catch(Y){console.error("Erro ao salvar viatura:",Y),alert("Erro ao salvar viatura. Tente novamente.")}},b=D=>{f(D),y({nome:D.nome,modelo:D.modelo,velocidadeMax:D.velocidadeMax,descricao:D.descricao,fotoURL:D.fotoURL||""}),o(!0)},S=async D=>{if(window.confirm("Tem certeza que deseja excluir esta viatura?"))try{await lf(sn(mt,"viaturas",D))}catch(Y){console.error("Erro ao excluir viatura:",Y),alert("Erro ao excluir viatura. Tente novamente.")}},R=()=>a?v.createElement("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-overlay"},v.createElement("div",{className:"bg-gray-800 border border-blue-500/30 p-6 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto fade-in"},v.createElement("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2"},v.createElement(og,{size:20}),u?"Editar Viatura":"Nova Viatura"),v.createElement("div",{className:"space-y-4"},["nome","modelo","velocidadeMax","fotoURL"].map(D=>v.createElement("div",{key:D},v.createElement("label",{className:"block text-sm text-gray-400 mb-1 capitalize"},D==="fotoURL"?"URL da Foto (opcional)":D==="velocidadeMax"?"Velocidade Mxima (km/h)":`${D==="nome"?"Nome da":""} ${D} *`),v.createElement("input",{value:m[D],onChange:Y=>y({...m,[D]:Y.target.value}),placeholder:D==="nome"?"Ex: ROTA-01":D==="modelo"?"Ex: Toyota Hilux 4x4":D==="velocidadeMax"?"Ex: 180":"https://exemplo.com/foto-viatura.jpg",className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"}),D==="fotoURL"&&m.fotoURL&&v.createElement("div",{className:"mt-2 w-16 h-16 rounded-lg overflow-hidden border border-blue-500/20"},v.createElement("img",{src:m.fotoURL,alt:"Preview",className:"w-full h-full object-cover image-preview",onError:Y=>{Y.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiMxRjJBM0MiLz48cGF0aCBkPSJNNDAgMzJMMzIgNDBMMjQgMzJMMzIgMjRMNDAgMzJaIiBmaWxsPSIjM0I4MkVGIi8+PC9zdmc+"}})))),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Descrio"),v.createElement("textarea",{value:m.descricao,onChange:D=>y({...m,descricao:D.target.value}),placeholder:"Descreva a viatura, equipamentos, observaes...",rows:4,className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500 resize-none"}))),v.createElement("div",{className:"flex gap-2 mt-6"},v.createElement("button",{onClick:g,className:"flex-1 bg-blue-600 py-3 rounded-lg font-semibold text-white hover:bg-blue-700 transition"},v.createElement(su,{size:16,className:"inline mr-2"})," SALVAR"),v.createElement("button",{onClick:()=>{o(!1),f(null),y({nome:"",modelo:"",velocidadeMax:"",descricao:"",fotoURL:""})},className:"flex-1 bg-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-600 transition"},v.createElement(_o,{size:16,className:"inline mr-2"})," CANCELAR")))):null;return v.createElement("div",{className:"fade-in"},v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h2",{className:"text-xl font-bold"},"Viaturas Disponveis"),i&&v.createElement("button",{onClick:()=>o(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg font-semibold flex items-center gap-2 transition text-sm"},v.createElement(vo,{size:16})," Nova Viatura")),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},e.map(D=>v.createElement("div",{key:D.id,className:"bg-gray-800/50 border border-blue-500/20 rounded-xl overflow-hidden hover:border-blue-500/40 transition group fade-in"},v.createElement("div",{className:"h-48 overflow-hidden bg-gray-900"},D.fotoURL?v.createElement("img",{src:D.fotoURL,alt:D.nome,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 image-preview"}):v.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-900/30 to-gray-900"},v.createElement(og,{size:64,className:"text-blue-500/50"}))),v.createElement("div",{className:"p-4"},v.createElement("div",{className:"flex justify-between items-start mb-3"},v.createElement("div",{className:"flex-1"},v.createElement("h3",{className:"font-bold text-lg text-blue-300"},D.nome),v.createElement("p",{className:"text-gray-300 text-sm"},"Modelo: ",D.modelo),D.velocidadeMax&&v.createElement("p",{className:"text-gray-400 text-sm mt-1"},v.createElement("span",{className:"font-semibold"},"Velocidade Mx:")," ",D.velocidadeMax," km/h"))),D.descricao&&v.createElement("div",{className:"mb-3"},v.createElement("p",{className:"text-gray-400 text-sm"},v.createElement("span",{className:"font-semibold"},"Descrio:")," ",D.descricao)),i&&v.createElement("div",{className:"flex gap-2 border-t border-gray-700 pt-3 mt-3"},v.createElement("button",{onClick:()=>b(D),className:"flex-1 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 py-1 rounded text-sm flex items-center justify-center gap-1 transition"},v.createElement(ff,{size:14})," Editar"),v.createElement("button",{onClick:()=>S(D.id),className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 py-1 rounded text-sm flex items-center justify-center gap-1 transition"},v.createElement(ou,{size:14})," Excluir")))))),R())},QD=({isAdmin:i})=>{const[e,n]=F.useState([]),[a,o]=F.useState(null),[u,f]=F.useState(!1),[m,y]=F.useState(!1),[g,b]=F.useState(null),[S,R]=F.useState({nome:"",patente:"Tenente Coronel",fotoURL:"",ativo:!0,observacoes:""}),[D,Y]=F.useState({tipo:"ausencia",motivo:"",dataInicio:new Date().toISOString().split("T")[0],dataFim:"",descricao:""}),[L,B]=F.useState(!1),U=["Tenente Coronel","Major","Capito","1 Tenente","2 Tenente","Sub Tenente","1 Sargento","2 Sargento","3 Sargento","Cabo","Soldado 1 Classe","Soldado 2 Classe"];F.useEffect(()=>{const w=sf(ca(mt,"hierarquia"),of("patente"));return cf(w,M=>{const O=M.docs.map(P=>({id:P.id,...P.data()}));O.sort((P,x)=>U.indexOf(P.patente)-U.indexOf(x.patente)),n(O)})},[]);const $=async()=>{if(!S.nome||!S.patente){alert("Preencha nome e patente!");return}const w={...S,advertncias:[],createdAt:new Date,createdBy:fa.currentUser?.uid||""};try{g?await Ji(sn(mt,"hierarquia",g.id),w):await uf(ca(mt,"hierarquia"),w),f(!1),b(null),R({nome:"",patente:"Tenente Coronel",fotoURL:"",ativo:!0,observacoes:""})}catch(M){console.error("Erro ao salvar membro:",M),alert("Erro ao salvar membro. Tente novamente.")}},X=async()=>{if(!a||!D.motivo||L){alert("Preencha o motivo!");return}B(!0);const w={...D,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,createdBy:fa.currentUser?.uid||""};try{const M=sn(mt,"hierarquia",a.id),x=(await sg(M)).data().advertncias||[];if(x.some(Qe=>Qe.tipo===w.tipo&&Qe.motivo===w.motivo&&Qe.dataInicio===w.dataInicio)){alert("Este registro j foi adicionado anteriormente!"),B(!1);return}await Ji(M,{advertncias:[...x,w]}),o({...a,advertncias:[...x,w]}),n(Qe=>Qe.map(J=>J.id===a.id?{...J,advertncias:[...x,w]}:J)),y(!1),Y({tipo:"ausencia",motivo:"",dataInicio:new Date().toISOString().split("T")[0],dataFim:"",descricao:""})}catch(M){console.error("Erro ao salvar advertncia:",M),alert("Erro ao salvar advertncia. Tente novamente.")}finally{B(!1)}},oe=w=>{b(w),R({nome:w.nome,patente:w.patente,fotoURL:w.fotoURL||"",ativo:w.ativo,observacoes:w.observacoes||""}),f(!0)},ue=async w=>{if(window.confirm("Tem certeza que deseja excluir este membro?"))try{await lf(sn(mt,"hierarquia",w))}catch(M){console.error("Erro ao excluir membro:",M),alert("Erro ao excluir membro. Tente novamente.")}},pe=w=>{o(w)},N=async w=>{if(a&&window.confirm("Tem certeza que deseja excluir esta advertncia?"))try{const M=sn(mt,"hierarquia",a.id),x=(await sg(M)).data().advertncias.filter(Qe=>Qe.id!==w);await Ji(M,{advertncias:x});const tt={...a,advertncias:x};o(tt),n(Qe=>Qe.map(J=>J.id===a.id?{...J,advertncias:x}:J))}catch(M){console.error("Erro ao excluir advertncia:",M),alert("Erro ao excluir advertncia. Tente novamente.")}},C=()=>"text-white";return v.createElement("div",{className:"fade-in"},v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h2",{className:"text-xl font-bold"},"Hierarquia do Batalho"),i&&v.createElement("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg font-semibold flex items-center gap-2 transition text-sm"},v.createElement(vo,{size:16})," Novo Membro")),v.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",style:{gap:"32px"}},v.createElement("div",{className:"lg:col-span-2"},v.createElement("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/30 border border-blue-500/20 rounded-xl p-6 h-full",style:{minHeight:"500px"}},v.createElement("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},v.createElement(cD,{size:20})," Estrutura de Comando"),v.createElement("div",{className:"space-y-4"},U.map(w=>{const M=e.filter(O=>O.patente===w);return M.length===0?null:v.createElement("div",{key:w,className:"border-b border-gray-700 pb-4 last:border-0 fade-in"},v.createElement("h4",{className:`font-semibold mb-2 ${C()}`},w," ",M.length>1&&`(${M.length})`),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},M.map(O=>v.createElement("div",{key:O.id,className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition hover:bg-gray-800/70 ${O.ativo?"":"opacity-60"} ${a?.id===O.id?"bg-gray-800/70 border border-blue-500/30":"bg-gray-900/30"}`,onClick:()=>pe(O)},v.createElement("div",{className:"flex-shrink-0"},O.fotoURL?v.createElement("img",{src:O.fotoURL,alt:O.nome,className:"w-12 h-12 rounded-full object-cover border-2 border-blue-500/30"}):v.createElement("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center border-2 border-blue-500/30"},v.createElement(Hl,{size:20,className:"text-blue-400"}))),v.createElement("div",{className:"flex-1 min-w-0"},v.createElement("div",{className:"flex justify-between items-center"},v.createElement("p",{className:"font-medium truncate"},O.nome),!O.ativo&&v.createElement("span",{className:"text-xs text-red-400 bg-red-500/20 px-2 py-0.5 rounded"},"INATIVO")),v.createElement("p",{className:"text-sm text-gray-400"},O.advertncias?.filter(P=>P.tipo==="advertencia").length||0," ","advertncia(s)")),v.createElement(hp,{size:16,className:"text-gray-500"})))))})),e.length===0&&v.createElement("div",{className:"text-center py-12"},v.createElement(bT,{size:48,className:"mx-auto text-gray-600 mb-4"}),v.createElement("p",{className:"text-gray-400"},"Nenhum membro cadastrado"),i&&v.createElement("p",{className:"text-sm text-gray-500 mt-2"},'Clique em "Novo Membro" para adicionar')))),v.createElement("div",{className:"lg:col-span-1"},v.createElement("div",{className:"bg-gradient-to-b from-gray-800/50 to-gray-900/30 border border-blue-500/20 rounded-xl p-6 h-full",style:{minHeight:"500px"}},a?v.createElement(v.Fragment,null,v.createElement("div",{className:"flex items-center gap-3 mb-6"},a.fotoURL?v.createElement("img",{src:a.fotoURL,alt:a.nome,className:"w-16 h-16 rounded-full object-cover border-2 border-blue-500/30"}):v.createElement("div",{className:"w-16 h-16 rounded-full bg-blue-500/20 flex items-center justify-center border-2 border-blue-500/30"},v.createElement(Hl,{size:28,className:"text-blue-400"})),v.createElement("div",null,v.createElement("h3",{className:"font-bold text-lg"},a.nome),v.createElement("p",{className:`font-semibold ${C()}`},a.patente),v.createElement("div",{className:"flex items-center gap-2 mt-1"},v.createElement("div",{className:`px-2 py-0.5 rounded text-xs ${a.ativo?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`},a.ativo?"ATIVO":"INATIVO"),v.createElement("div",{className:"px-2 py-0.5 rounded text-xs bg-blue-500/20 text-blue-400"},a.advertncias?.filter(w=>w.tipo==="advertencia").length||0,"/3 advertncias")))),v.createElement("div",{className:"mb-6"},v.createElement("div",{className:"flex justify-between items-center mb-3"},v.createElement("h4",{className:"font-semibold text-gray-300"},"Registros"),i&&v.createElement("button",{onClick:()=>y(!0),className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1 transition"},v.createElement(vo,{size:14})," Adicionar")),v.createElement("div",{className:"space-y-3"},a.advertncias&&a.advertncias.length>0?a.advertncias.map(w=>v.createElement("div",{key:w.id,className:`p-3 rounded-lg ${HD(w.tipo)} fade-in`},v.createElement("div",{className:"flex justify-between items-start mb-2"},v.createElement("div",{className:"flex items-center gap-2"},w.tipo==="ausencia"&&v.createElement(TE,{size:14}),w.tipo==="advertencia"&&v.createElement(SE,{size:14}),w.tipo==="elogio"&&v.createElement(bE,{size:14}),v.createElement("span",{className:"font-semibold capitalize"},w.tipo)),i&&v.createElement("button",{onClick:()=>N(w.id),className:"text-red-400 hover:text-red-300 transition",title:"Excluir",type:"button"},v.createElement(ou,{size:14}))),v.createElement("p",{className:"text-sm mb-1"},v.createElement("strong",null,"Motivo:")," ",w.motivo),v.createElement("p",{className:"text-sm mb-1"},v.createElement("strong",null,"Perodo:")," ",w.dataInicio,w.dataFim&&` at ${w.dataFim}`),w.descricao&&v.createElement("p",{className:"text-sm mt-2"},w.descricao),v.createElement("p",{className:"text-xs text-gray-400 mt-2"},w.createdAt?.seconds?new Date(w.createdAt.seconds*1e3).toLocaleDateString("pt-BR"):w.createdAt?new Date(w.createdAt).toLocaleDateString("pt-BR"):new Date().toLocaleDateString("pt-BR")))):v.createElement("p",{className:"text-gray-500 text-sm text-center py-4"},"Nenhum registro encontrado"))),i&&v.createElement("div",{className:"mb-6"},v.createElement("h4",{className:"font-semibold text-gray-300 mb-2"},"Observaes Internas"),v.createElement("div",{className:"bg-gray-900/50 p-6 rounded-xl border-2 border-gray-700/50"},a.observacoes||v.createElement("p",{className:"text-gray-500 text-sm"},"Nenhuma observao registrada"))),i&&v.createElement("div",{className:"flex gap-2 pt-4 border-t border-gray-700"},v.createElement("button",{onClick:()=>oe(a),className:"flex-1 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 py-2 rounded text-sm flex items-center justify-center gap-1 transition"},v.createElement(ff,{size:14})," Editar"),v.createElement("button",{onClick:()=>{window.confirm(`Alterar status de ${a.nome}?`)&&Ji(sn(mt,"hierarquia",a.id),{ativo:!a.ativo}).then(()=>{o({...a,ativo:!a.ativo})}).catch(w=>{console.error("Erro ao alterar status:",w),alert("Erro ao alterar status. Tente novamente.")})},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded text-sm flex items-center justify-center gap-1 transition"},a.ativo?v.createElement(_T,{size:14}):v.createElement(ET,{size:14}),a.ativo?" Inativar":" Ativar"),v.createElement("button",{onClick:()=>ue(a.id),className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 py-2 rounded text-sm flex items-center justify-center gap-1 transition"},v.createElement(ou,{size:14})," Excluir"))):v.createElement("div",{className:"text-center py-12"},v.createElement(Hl,{size:48,className:"mx-auto text-gray-600 mb-4"}),v.createElement("p",{className:"text-gray-400"},"Selecione um membro"),v.createElement("p",{className:"text-sm text-gray-500 mt-2"},"Clique em um nome para ver os detalhes"))))),u&&v.createElement("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-overlay"},v.createElement("div",{className:"bg-gray-800 border border-blue-500/30 p-6 rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto fade-in"},v.createElement("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2"},v.createElement(Hl,{size:20}),g?"Editar Membro":"Novo Membro"),v.createElement("div",{className:"space-y-4"},v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Nome Completo *"),v.createElement("input",{value:S.nome,onChange:w=>R({...S,nome:w.target.value}),placeholder:"Ex: Joo da Silva",className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"})),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Patente *"),v.createElement("select",{value:S.patente,onChange:w=>R({...S,patente:w.target.value}),className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"},U.map(w=>v.createElement("option",{key:w,value:w},w)))),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"URL da Foto (opcional)"),v.createElement("input",{value:S.fotoURL,onChange:w=>R({...S,fotoURL:w.target.value}),placeholder:"https://exemplo.com/foto.jpg",className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"})),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Observaes Internas"),v.createElement("textarea",{value:S.observacoes,onChange:w=>R({...S,observacoes:w.target.value}),placeholder:"Observaes sobre o membro (visvel apenas para administradores)",rows:3,className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500 resize-none"})),v.createElement("div",{className:"flex items-center gap-3"},v.createElement("input",{type:"checkbox",id:"ativo",checked:S.ativo,onChange:w=>R({...S,ativo:w.target.checked}),className:"w-4 h-4 rounded border-gray-600 bg-gray-800"}),v.createElement("label",{htmlFor:"ativo",className:"text-sm text-gray-400"},"Membro ativo no servio"))),v.createElement("div",{className:"flex gap-2 mt-6"},v.createElement("button",{onClick:$,className:"flex-1 bg-blue-600 py-3 rounded-lg font-semibold text-white hover:bg-blue-700 transition"},v.createElement(su,{size:16,className:"inline mr-2"})," SALVAR"),v.createElement("button",{onClick:()=>{f(!1),b(null),R({nome:"",patente:"Tenente Coronel",fotoURL:"",ativo:!0,observacoes:""})},className:"flex-1 bg-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-600 transition"},v.createElement(_o,{size:16,className:"inline mr-2"})," CANCELAR")))),m&&a&&v.createElement("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 modal-overlay"},v.createElement("div",{className:"bg-gray-800 border border-blue-500/30 p-6 rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto fade-in"},v.createElement("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2"},D.tipo==="ausencia"&&v.createElement(TE,{size:20}),D.tipo==="advertencia"&&v.createElement(SE,{size:20}),D.tipo==="elogio"&&v.createElement(bE,{size:20}),"Nova"," ",D.tipo==="ausencia"?"Ausncia":D.tipo==="advertencia"?"Advertncia":"Elogio"),v.createElement("p",{className:"text-gray-400 text-sm mb-4"},"Para: ",v.createElement("span",{className:"text-blue-400"},a.nome)),v.createElement("div",{className:"space-y-4"},v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Tipo"),v.createElement("select",{value:D.tipo,onChange:w=>Y({...D,tipo:w.target.value}),className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"},v.createElement("option",{value:"ausencia"},"Ausncia"),v.createElement("option",{value:"advertencia"},"Advertncia"),v.createElement("option",{value:"elogio"},"Elogio"))),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Motivo *"),v.createElement("input",{value:D.motivo,onChange:w=>Y({...D,motivo:w.target.value}),placeholder:"Ex: Ausncia justificada, Falta de equipamento, etc.",className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"})),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5"},v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Data de Incio *"),v.createElement("input",{type:"date",value:D.dataInicio,onChange:w=>Y({...D,dataInicio:w.target.value}),className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"})),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Data de Fim (opcional)"),v.createElement("input",{type:"date",value:D.dataFim,onChange:w=>Y({...D,dataFim:w.target.value}),className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500"}))),v.createElement("div",null,v.createElement("label",{className:"block text-sm text-gray-400 mb-1"},"Descrio"),v.createElement("textarea",{value:D.descricao,onChange:w=>Y({...D,descricao:w.target.value}),placeholder:"Detalhes adicionais...",rows:3,className:"w-full bg-gray-900 border border-blue-500/20 rounded-lg p-3 text-white outline-none focus:border-blue-500 resize-none"}))),v.createElement("div",{className:"flex gap-2 mt-6"},v.createElement("button",{onClick:X,className:"flex-1 bg-blue-600 py-3 rounded-lg font-semibold text-white hover:bg-blue-700 transition",disabled:L},v.createElement(su,{size:16,className:"inline mr-2"})," SALVAR"),v.createElement("button",{onClick:()=>y(!1),className:"flex-1 bg-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-600 transition"},v.createElement(_o,{size:16,className:"inline mr-2"})," CANCELAR")))))},KD=()=>{const[i,e]=F.useState(null),[n,a]=F.useState(!1),[o,u]=F.useState(!0);return F.useEffect(()=>oC(fa,async m=>{if(m)try{const y=await sg(sn(mt,"users",m.uid));if(y.exists()){const g=y.data();a(g.role==="admin")}else await B4(sn(mt,"users",m.uid),{email:m.email,displayName:m.displayName,photoURL:m.photoURL,role:"user",createdAt:new Date}),a(!1);e({uid:m.uid,email:m.email||"",displayName:m.displayName||"",photoURL:m.photoURL||""})}catch(y){console.error("Erro ao verificar usurio:",y),a(!1)}else e(null),a(!1);u(!1)}),[]),o?v.createElement("div",{className:"h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center"},v.createElement("div",{className:"text-center"},v.createElement("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),v.createElement("p",{className:"text-gray-400"},"Carregando sistema..."))):v.createElement(Cw,null,v.createElement(rw,null,v.createElement(Js,{path:"/login",element:i?v.createElement(Ll,{to:"/"}):v.createElement(jD,null)}),v.createElement(Js,{path:"/",element:i?v.createElement(ih,{user:i,isAdmin:n},v.createElement(qD,{isAdmin:n})):v.createElement(Ll,{to:"/login"})}),v.createElement(Js,{path:"/viaturas",element:i?v.createElement(ih,{user:i,isAdmin:n},v.createElement(GD,{isAdmin:n})):v.createElement(Ll,{to:"/login"})}),v.createElement(Js,{path:"/fardamento",element:i?v.createElement(ih,{user:i,isAdmin:n},v.createElement(FD,{isAdmin:n})):v.createElement(Ll,{to:"/login"})}),v.createElement(Js,{path:"/hierarquia",element:i?v.createElement(ih,{user:i,isAdmin:n},v.createElement(QD,{isAdmin:n})):v.createElement(Ll,{to:"/login"})})))};"caches"in window&&caches.keys().then(function(i){for(let e of i)caches.delete(e)});console.log(" FORA TTICA - Sistema carregado");sA.createRoot(document.getElementById("root")).render(v.createElement(v.StrictMode,null,v.createElement(KD,null)));
